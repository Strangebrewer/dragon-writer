{"version":3,"sources":["components/PageElements/LinkBtn.jsx","components/PageElements/Modal.jsx","components/PageElements/Navbar.jsx","components/Forms/FormElements/Input.jsx","components/Forms/FormElements/TextArea.jsx","components/Forms/FormElements/Button.jsx","components/Forms/FormElements/Select.jsx","components/Forms/FormElements/Label.jsx","utils/API.js","utils/DragonScales.js","utils/Utils.js","components/Forms/NewSubjectForm.jsx","components/PageElements/SubjectList.jsx","components/Styles/Elements.js","components/Styles/GlobalStyle.js","components/Styles/Themes.js","components/PageElements/Page.jsx","components/Dragons/DragonElements/ColumnButtons.jsx","components/Dragons/DragonElements/DragonLair.jsx","components/Dragons/DragonElements/ItemButtons.jsx","components/Dragons/DragonElements/DateDiv.jsx","components/Dragons/DragonElements/ProjectButtons.jsx","components/Forms/NewProject.jsx","components/Forms/Login.jsx","components/Forms/Signup.jsx","components/PageElements/ProjectCard.jsx","components/PageElements/Authenticate.jsx","components/Renderers/ModalLogic.jsx","components/Renderers/UploadLogic.jsx","components/PageElements/ImageUploader.jsx","pages/Home.jsx","pages/NoMatch.jsx","components/Slate/utils/HotKeys.js","components/Slate/utils/Renderers.js","components/Slate/RenderButtons.jsx","components/Dragons/DragonEgg.jsx","components/Dragons/DragonNest.jsx","components/Slate/utils/EditorStyles.js","components/Dragons/DragonTextEgg.jsx","components/Dragons/DragonTextEditable.jsx","components/Dragons/DragonTextNest.jsx","components/Dragons/DragonNestFake.jsx","components/Slate/Editors/InlineNewEditor.jsx","components/Slate/Editors/InlineUpdateEditor.jsx","components/Slate/Editors/SingleNewEditor.jsx","components/Slate/Editors/SingleUpdateEditor.jsx","components/Slate/Editors/TextEditor.jsx","pages/Project.jsx","App.jsx","utils/AddPropsToRoute.js","index.js"],"names":["Button","styled","button","_templateObject","props","block","fancy","theme","typeface","bold","margin","position","top","bottom","left","right","black","links","size","underline","lineHeight","padding","delete","deleteLinkHover","linkHover","LinkBtn","react_default","a","createElement","LinkBtn_Button","children","div","Modal_templateObject","_templateObject2","modalBG","modalColor","_templateObject3","buttonBG","_templateObject4","_templateObject5","buttonHoverBG","buttonHoverColor","NavContainer","Navbar_templateObject","pageBG","NavInner","Navbar_templateObject2","mainColor","LinkContainer","Navbar_templateObject3","ModeButton","Navbar_templateObject4","Navbar_templateObject5","Navbar","authenticated","user","logout","nextMode","toggleStyleMode","Fragment","username","Link","to","Navbar_Button","onClick","InputField","input","Input_templateObject","fieldBG","fieldColor","fieldShadow","Input","TextField","textarea","TextArea_templateObject","TextArea","FormButton","Button_templateObject","round","buttonColor","center","full","Dropdown","select","Select_templateObject","Select","FormLabel","label","Label_templateObject","Label","API","getUser","axios","get","getUserProfileData","updateUserInfo","userData","put","updateUserOrder","order","signup","signupData","post","login","loginData","changePassword","pwData","getTexts","createText","textData","updateText","id","concat","updateTextSubject","textId","changeData","deleteText","removeTextImage","data","getProjects","createProject","projectData","updateProject","deleteProject","removeProjectImage","console","log","getSubjects","getSingleSubject","createSubject","subjectData","updateSubject","updateData","deleteSubject","removeSubjectImage","Scales","toggleSubjectHelper","state","subject","subjectOrder","Object","toConsumableArray","_id","subjects","objectSpread","defineProperty","textIds","create","updateSubjectHelper","subjectId","subjectContent","deleteSubjectHelper","index","Array","from","texts","assign","splice","i","length","clearTopicsHelper","stateObject","deleteTextHelper","newTextIds","newTexts","insertTextHelper","newText","unshift","updateTextHelper","singleProjectDragon","source","destination","draggableId","newProjectOrder","projectOrder","dragonSubjectColumns","newSubjectOrder","singleSubjectDragon","start","newSubject","multiSubjectDragon","finish","_objectSpread9","startTextIds","newStart","finishTextIds","newFinish","newState","changeObject","sourceId","droppableId","destinationId","Utils","formatInitialData","project","initialData","subjectArray","element","push","formatProjectOrder","projects","projectOrderData","newProjects","JSON","parse","stringify","addTextsToOrder","forEach","text","Container","NewSubjectForm_templateObject","NewSubjectForm","handleInputChange","event","_event$target","target","name","value","_this","setState","_callee","regenerator_default","wrap","_context","prev","next","projectId","sent","toggleSubjectForm","stop","this","Label_Label","Input_Input","type","onChange","placeholder","TextArea_TextArea","maxLength","rows","Button_Button","disabled","Component","buttonStyle","marginLeft","marginTop","width","SubjectList_templateObject","HeadingTwo","h2","SubjectList_templateObject2","headingColor","hTypeface","midGrey","Message","p","SubjectList_templateObject3","List","ul","SubjectList_templateObject4","ListItem","li","SubjectList_templateObject5","SubjectList","clearAllTopics","dragons","toggleDragonText","toggleSingleNewEditor","toggleSubject","SubjectList_Container","LinkBtn_LinkBtn","map","key","Forms_NewSubjectForm","style","Spinner","span","Elements_templateObject","GlobalStyle","createGlobalStyle","GlobalStyle_templateObject","Themes","nightmode","pageBGLite","homeBannerBG","homeBannerColor","bannerBG","bannerColor","titleColor","itemBG","itemDragBG","itemColor","projectItemBG","projectItemColor","editorBG","editorColor","fieldShine","columnBS","columnDragBorder","brightmode","frightmode","PageContainer","Page_templateObject","NavColumn","Page_templateObject2","ContentColumn","Page_templateObject3","FooterContainer","Page_templateObject4","TitleContainer","Page_templateObject5","home","Page","Navbar_Navbar","mode","subtitle","title","editorOn","PageElements_SubjectList","Buttons","ColumnButtons_templateObject","ColumnButtons","_PureComponent","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","image","publicId","loading","react","ColumnButtons_Buttons","toggleInlineNew","className","updateSubjectModal","uploadImageModal","imageModal","deleteSubjectModal","PureComponent","DragonLair_templateObject","DragonLair","_ref","react_beautiful_dnd_esm","direction","provided","DragonLair_Container","droppableProps","ref","innerRef","ItemButtons_templateObject","ItemButtons","ItemButtons_Buttons","seeFullText","toggleSingleEdit","deleteTextModal","DateDiv_templateObject","DateText","h5","DateDiv_templateObject2","DateDiv","DateDiv_Container","dateFns","format","createdAt","updatedAt","Links","ProjectButtons_templateObject","ProjectButtons","_props$project","updateProjectModal","deleteProjectModal","NewProject_templateObject","NewProject","_Component","_getPrototypeOf2","_len","args","_key","call","summary","link","asyncToGenerator","mark","_this$state","userId","getInitialData","toggleProjectForm","t0","setModal","body","buttons","closeModal","NewProject_Container","Login_templateObject","Heading","Login_templateObject2","Paragraph","Login_templateObject3","Login","Login_Container","fontWeight","password","toggleSignupForm","Signup_templateObject","Signup_templateObject2","Signup_templateObject3","Signup","Signup_Container","Signup_Heading","email","confirmPassword","Signup_Paragraph","DropZone","ProjectCard_templateObject","ProjectCard_templateObject2","isDragging","ProjectTitle","ProjectCard_templateObject3","ProjectText","ProjectCard_templateObject4","ProjectCard","_x","_ref2","_callee2","updateObject","_context2","_x2","_ref3","_callee3","_context3","_x3","_this2","_this$props","NewProject_NewProject","snapshot","isDraggingOver","thisProject","ProjectCard_Container","draggableProps","dragHandleProps","ProjectButtons_ProjectButtons","Authenticate","_this$state2","error","Signup_Signup","Login_Login","Outer","ModalLogic_templateObject","Content","ModalLogic_templateObject2","ModalLogic_templateObject3","Body","ModalLogic_templateObject4","ModalLogic_templateObject5","ModalLogic","isOpen","modalInput","outsideClick","includes","ModalLogic_Outer","ModalLogic_Content","ModalLogic_Button","ModalLogic_Body","ModalLogic_Buttons","UploadLogic","largeImage","uploadImage","files","abrupt","FormData","append","saveImage","res","file","result","setTimeout","textAlign","fetch","method","json","secure_url","eager","public_id","toggleImageInOrder","htmlFor","deleteImage","imageId","deleteObj","_x4","src","alt","maxWidth","maxHeight","height","ImageUploader","ModalLogic_ModalLogic","modalProps","UploadLogic_UploadLogic","uploadProps","Home_templateObject","Home","onDragEnd","nextProps","Page_Page","Home_Container","ImageUploader_ImageUploader","ProjectCard_ProjectCard","Authenticate_Authenticate","NoMatch","Hotkey","options","node","onKeyDown","editor","ctrlKey","preventDefault","isCode","blocks","some","setBlocks","toggleMark","plugins","renderNode","attributes","textIndent","background","borderRadius","borderLeft","paddingLeft","opacity","fontStyle","fontSize","renderMark","color","tempObj","propObj","j","str","indexOf","end","href","substring","linkText","slice","textDecoration","rel","EditorBtnArray","RenderButtons_templateObject","inline","EditorBtn","RenderButtons_templateObject2","snarky","RenderButtons","renderMarkButton","icon","isActive","hasMark","onClickMark","renderBlockButton","hasBlock","parent","first","document","getParent","onClickBlock","DragonEgg_templateObject","ModalH2","DragonEgg_templateObject2","ModalH3","h3","DragonEgg_templateObject3","editorStyle","border","overflow","DragonEgg","thesis","slate_react_es","Value","fromJSON","isDragDisabled","DragonEgg_Container","ItemButtons_ItemButtons","DateDiv_DateDiv","DragonNest_templateObject","SubjectHeader","DragonNest_templateObject2","DragonList","DragonNest_templateObject3","Heading3","DragonNest_templateObject4","DragonNest_templateObject5","DragonNest","executeDragonStateChanges","DragonNest_Container","ColumnButtons_ColumnButtons","DragonNest_Paragraph","DragonEgg_DragonEgg","EditorStyles","EditorStyles_templateObject","DragonTextEgg_templateObject","MetaDataContainer","DragonTextEgg_templateObject2","TextTitle","DragonTextEgg_templateObject3","TextThesis","DragonTextEgg_templateObject4","DragonTextEgg","toggleEditable","thisValue","initialValue","parentSubject","DragonTextEgg_Container","readOnly","DragonTextEditable_templateObject","DragonTextEditable","DragonTextEditable_Container","TextEditor_TextEditor","callback","incomingText","given","InlineUpdateEditor_InlineUpdateEditor","dragHandle","TextColumn","DragonTextNest_templateObject","SubjectHeading","DragonTextNest_templateObject2","Title","DragonTextNest_templateObject3","DragonTextList","DragonTextNest_templateObject4","DragonTextNest","_this$props$subject","DragonTextEditable_DragonTextEditable","incomingSubject","saveOrder","DragonTextEgg_DragonTextEgg","ColumnContainer","DragonNestFake_templateObject","ListContainer","DragonNestFake_templateObject2","DragonNestFake_templateObject3","DragonNestFake_templateObject4","DragonNestFake_templateObject5","ItemContainer","_templateObject6","dragging","DragonNestFake","dragonTextOn","toggleEditor","DragonNestFake_SubjectHeader","DragonNestFake_Heading3","DragonNestFake_Paragraph","toggleInlineEdit","minHeight","minWidth","fontFamily","InlineNewEditor_templateObject","OuterContainer","InlineNewEditor_templateObject2","EditorOuter","InlineNewEditor_templateObject3","EditorInner","InlineNewEditor_templateObject4","DragHeader","InlineNewEditor_templateObject5","InlineNewEditor","DragonNestFake_DragonNestFake","Slate_RenderButtons","InlineNewEditor_EditorStyles","autoFocus","marginRight","InlineUpdateEditor_templateObject","InlineUpdateEditor_templateObject2","InlineUpdateEditor_templateObject3","MetaDataForm","InlineUpdateEditor_templateObject4","InlineUpdateEditor","InlineUpdateEditor_EditorOuter","InlineUpdateEditor_DragHeader","InlineUpdateEditor_EditorInner","nerb","SingleNewEditor_templateObject","SingleNewEditor_templateObject2","SingleNewEditor_templateObject3","SingleNewEditor_templateObject4","SingleNewEditor","SingleNewEditor_EditorOuter","SingleNewEditor_DragHeader","SingleNewEditor_EditorInner","SingleNewEditor_MetaDataForm","Select_Select","marginBottom","SingleUpdateEditor_templateObject","SingleUpdateEditor_templateObject2","SingleUpdateEditor_templateObject3","SingleUpdateEditor_templateObject4","SingleUpdateEditor_templateObject5","SingleUpdateEditor","SingleUpdateEditor_OuterContainer","SingleUpdateEditor_EditorOuter","SingleUpdateEditor_DragHeader","SingleUpdateEditor_EditorInner","SingleUpdateEditor_EditorStyles","DEFAULT_NODE","TextEditor","activeMarks","assertThisInitialized","unwrapBlock","isList","isType","getClosest","wrapBlock","textObject","toJSON","EditorContainer","Project_templateObject","Project","dropZoneOn","singleSubjectId","singleSubject","singleText","singleTextEdit","inlineTextNew","executeToggles","_callee4","created","_context4","_callee5","_context5","onDragStart","_callee6","_newState","_newState2","_context6","_callee7","orderObject","updateObj","_context7","_callee8","_context8","keysArray","keys","stateObj","_this$props$project","onDragUpdate","SingleNewEditor_SingleNewEditor","InlineNewEditor_InlineNewEditor","SingleUpdateEditor_SingleUpdateEditor","DragonLair_DragonLair","DragonTextNest_DragonTextNest","DragonNest_DragonNest","isAuthenticated","PrivateRoute","component","rest","objectWithoutProperties","es_Route","routeProps","Redirect","App","styleMode","modeInput","userInfo","userResponse","projectsRes","styled_components_browser_esm","BrowserRouter","Switch","exact","path","pages_Home","App_PrivateRoute","WrappedComponent","passedProps","Route","render","pages_NoMatch","ReactDOM","src_App","getElementById"],"mappings":"+1BAGA,IAAMA,EAASC,IAAOC,OAAVC,IACC,SAAAC,GAAK,OAAIA,EAAMC,MAAQ,QAAU,UAC7B,SAAAD,GAAK,OAAIA,EAAME,MAAQF,EAAMG,MAAMC,SAAW,WAC9C,SAAAJ,GAAK,OAAIA,EAAMK,KAAO,OAAS,UACpC,SAAAL,GAAK,OAAIA,EAAMM,QACb,SAAAN,GAAK,OAAIA,EAAMO,SAAWP,EAAMO,SAAW,YAChD,SAAAP,GAAK,OAAIA,EAAMQ,KACZ,SAAAR,GAAK,OAAIA,EAAMS,QACjB,SAAAT,GAAK,OAAIA,EAAMU,MACd,SAAAV,GAAK,OAAIA,EAAMW,OACf,SAAAX,GAAK,OAAIA,EAAMY,MAAQZ,EAAMG,MAAMS,MAAQZ,EAAMG,MAAMU,OACnD,SAAAb,GAAK,OAAIA,EAAMc,KAAOd,EAAMc,KAAO,UAC7B,SAAAd,GAAK,OAAIA,EAAMe,UAAY,YAAc,QAC7C,SAAAf,GAAK,OAAIA,EAAMgB,YACnB,SAAAhB,GAAK,OAAIA,EAAMiB,SAMf,SAAAjB,GAAK,OACdA,EAAMkB,OACFlB,EAAMG,MAAMgB,gBACZnB,EAAMG,MAAMiB,YAaPC,EAAU,SAAArB,GACrB,OACEsB,EAAAC,EAAAC,cAACC,EAAWzB,EAAQA,EAAM0B,yzDCtChB7B,IAAO8B,IAAVC,KAaK/B,IAAO8B,IAAVE,IAIS,SAAA7B,GAAK,OAAIA,EAAMG,MAAM2B,SAGrB,SAAA9B,GAAK,OAAIA,EAAMG,MAAMU,OAKhC,SAAAb,GAAK,OAAIA,EAAMG,MAAM4B,aASjBlC,IAAOC,OAAVkC,IAID,SAAAhC,GAAK,OAAIA,EAAMG,MAAM8B,WAYnBpC,IAAO8B,IAAVO,KAOMrC,IAAO8B,IAAVQ,IAKW,SAAAnC,GAAK,OAAIA,EAAMG,MAAM8B,UAMb,SAAAjC,GAAK,OAAIA,EAAMG,MAAM8B,UAA2B,SAAAjC,GAAK,OAAIA,EAAMG,MAAM8B,UAK7E,SAAAjC,GAAK,OAAIA,EAAMG,MAAMiC,eACnB,SAAApC,GAAK,OAAIA,EAAMG,MAAM8B,UAA2B,SAAAjC,GAAK,OAAIA,EAAMG,MAAM8B,UAClF,SAAAjC,GAAK,OAAIA,EAAMG,MAAMkC,mBA3ElC,k5CCCA,IAAMC,EAAezC,IAAO8B,IAAVY,IAOI,SAAAvC,GAAK,OAAIA,EAAMG,MAAMqC,SAIrCC,EAAW5C,IAAO8B,IAAVe,IAUK,SAAA1C,GAAK,OAAIA,EAAMG,MAAMC,UAC3B,SAAAJ,GAAK,OAAIA,EAAMG,MAAMU,OAGrB,SAAAb,GAAK,OAAIA,EAAMG,MAAMiB,WAMH,SAAApB,GAAK,OAAIA,EAAMG,MAAMwC,WAKvC,SAAA3C,GAAK,OAAIA,EAAMG,MAAMwC,YAK5BC,EAAgB/C,IAAO8B,IAAVkB,KAIbC,EAAajD,IAAOC,OAAViD,IAYC,SAAA/C,GAAK,OAAIA,EAAMG,MAAMC,UAC3B,SAAAJ,GAAK,OAAIA,EAAMG,MAAMU,OAEnB,SAAAb,GAAK,OAAIA,EAAMG,MAAMiB,YAI5BxB,EAASC,IAAOC,OAAVkD,KASCC,EAAS,SAAAjD,GAAS,IACrBkD,EAA2DlD,EAA3DkD,cAAeC,EAA4CnD,EAA5CmD,KAAMC,EAAsCpD,EAAtCoD,OAAQC,EAA8BrD,EAA9BqD,SAAUC,EAAoBtD,EAApBsD,gBAC/C,OACEhC,EAAAC,EAAAC,cAACc,EAAD,KACEhB,EAAAC,EAAAC,cAACiB,EAAD,KACGS,GACC5B,EAAAC,EAAAC,cAACF,EAAAC,EAAMgC,SAAP,KACEjC,EAAAC,EAAAC,cAAA,oBAAY2B,EAAKK,SAAjB,KAEAlC,EAAAC,EAAAC,cAACoB,EAAD,KACEtB,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAMC,GAAG,KAAT,QACApC,EAAAC,EAAAC,cAACmC,EAAD,CAAQC,QAASR,GAAjB,aAOR9B,EAAAC,EAAAC,cAACsB,EAAD,CAAYc,QAAS,kBAAMN,EAAgBD,KAA3C,UAA8DA,EAA9D,4SC5FN,IAAMQ,EAAahE,IAAOiE,MAAVC,IAEM,SAAA/D,GAAK,OAAIA,EAAMG,MAAMU,OACrB,SAAAb,GAAK,OAAIA,EAAMG,MAAM6D,SAChC,SAAAhE,GAAK,OAAIA,EAAMG,MAAM8D,YAMhB,SAAAjE,GAAK,OAAIA,EAAMG,MAAM+D,cAGxBC,EAAQ,SAAAnE,GAAK,OACxBsB,EAAAC,EAAAC,cAACqC,EAAe7D,4RCdlB,IAAMoE,EAAYvE,IAAOwE,SAAVC,IAEO,SAAAtE,GAAK,OAAIA,EAAMG,MAAMU,OACrB,SAAAb,GAAK,OAAIA,EAAMG,MAAM6D,SAC3B,SAAAhE,GAAK,OAAIA,EAAMG,MAAM+D,aAC1B,SAAAlE,GAAK,OAAIA,EAAMG,MAAM8D,aAQnBM,EAAW,SAAAvE,GAAK,OAC3BsB,EAAAC,EAAAC,cAAC4C,EAAcpE,wvBCdjB,IAAMwE,EAAa3E,IAAOC,OAAV2E,IAGG,SAAAzE,GAAK,OAAIA,EAAM0E,MAAQ,MAAQ,QACpB,SAAA1E,GAAK,OAAIA,EAAMG,MAAM8B,UAA2B,SAAAjC,GAAK,OAAIA,EAAMG,MAAM8B,UACxF,SAAAjC,GAAK,OAAIA,EAAMG,MAAMwE,aAEnB,SAAA3E,GAAK,OAAIA,EAAM4E,OAAS,QAAU,UAChC,SAAA5E,GAAK,OAAIA,EAAM6E,MAAQ,UAC1B,SAAA7E,GAAK,OAAIA,EAAM6E,MAAQ,QACvB,SAAA7E,GAAK,OAAIA,EAAM4E,OAAS,mBAAqB,iBAI9C,SAAA5E,GAAK,OAAIA,EAAM6E,MAAQ,QAGV,SAAA7E,GAAK,OAAIA,EAAMG,MAAMiC,eACT,SAAApC,GAAK,OAAIA,EAAMG,MAAM8B,UAAqB,SAAAjC,GAAK,OAAIA,EAAMG,MAAM8B,UACtF,SAAAjC,GAAK,OAAIA,EAAMG,MAAMkC,kBAOP,SAAArC,GAAK,OAAIA,EAAMG,MAAMS,OACxB,SAAAZ,GAAK,OAAIA,EAAMG,MAAMS,OACT,SAAAZ,GAAK,OAAIA,EAAMG,MAAMS,OAAkB,SAAAZ,GAAK,OAAIA,EAAMG,MAAMS,OACnF,SAAAZ,GAAK,OAAIA,EAAMG,MAAMS,QAIrBhB,EAAS,SAAAI,GAAK,OACzBsB,EAAAC,EAAAC,cAACgD,EAAexE,EAAQA,EAAM0B,oRClChC,IAAMoD,GAAWjF,IAAOkF,OAAVC,IAEQ,SAAAhF,GAAK,OAAIA,EAAMG,MAAMU,OACrB,SAAAb,GAAK,OAAIA,EAAMG,MAAM6D,SAChC,SAAAhE,GAAK,OAAIA,EAAMG,MAAM8D,YAKhB,SAAAjE,GAAK,OAAIA,EAAMG,MAAM+D,cAGxBe,GAAS,SAAAjF,GAAK,OACzBsB,EAAAC,EAAAC,cAACsD,GAAa9E,EAAQA,EAAM0B,mLCb9B,IAAMwD,GAAYrF,IAAOsF,MAAVC,MAOFC,GAAQ,SAAArF,GAAK,OACxBsB,EAAAC,EAAAC,cAAC0D,GAAclF,EAAQA,EAAM0B,+BCTlB4D,GAAM,CAIjBC,QAAS,WACP,OAAOC,KAAMC,IAAI,UAGnBC,mBAAoB,WAClB,OAAOF,KAAMC,IAAI,eAGnBE,eAAgB,SAAUC,GACxB,OAAOJ,KAAMK,IAAI,aAAcD,IAGjCE,gBAAiB,SAAUC,GACzB,OAAOP,KAAMK,IAAI,cAAeE,IAGlCC,OAAQ,SAAUC,GAChB,OAAOT,KAAMU,KAAK,QAASD,IAG7BE,MAAO,SAAUC,GACf,OAAOZ,KAAMU,KAAK,cAAeE,IAGnChD,OAAQ,WACN,OAAOoC,KAAMU,KAAK,iBAGpBG,eAAgB,SAAUC,GACxB,OAAOd,KAAMU,KAAK,eAAgBI,IAKpCC,SAAU,WACR,OAAOf,KAAMC,IAAI,cAGnBe,WAAY,SAAUC,GACpB,OAAOjB,KAAMU,KAAK,YAAaO,IAGjCC,WAAY,SAAUC,EAAIF,GACxB,OAAOjB,KAAMK,IAAN,aAAAe,OAAuBD,GAAMF,IAGtCI,kBAAmB,SAAUC,EAAQC,GACnC,OAAOvB,KAAMK,IAAN,qBAAAe,OAA+BE,GAAUC,IAGlDC,WAAY,SAAUL,GACpB,OAAOnB,KAAMtE,OAAN,aAAA0F,OAA0BD,KAGnCM,gBAAiB,SAAUN,EAAIO,GAC7B,OAAO1B,KAAMK,IAAN,mBAAAe,OAA6BD,GAAMO,IAI5CC,YAAa,WACX,OAAO3B,KAAMC,IAAI,iBAGnB2B,cAAe,SAAUC,GACvB,OAAO7B,KAAMU,KAAK,eAAgBmB,IAGpCC,cAAe,SAAUX,EAAIU,GAC3B,OAAO7B,KAAMK,IAAN,gBAAAe,OAA0BD,GAAMU,IAGzCE,cAAe,SAAUZ,GACvB,OAAOnB,KAAMtE,OAAN,gBAAA0F,OAA6BD,KAGtCa,mBAAoB,SAAUb,EAAIO,GAEhC,OADAO,QAAQC,IAAIR,GACL1B,KAAMK,IAAN,sBAAAe,OAAgCD,GAAMO,IAI/CS,YAAa,WACX,OAAOnC,KAAMC,IAAI,iBAGnBmC,iBAAkB,SAAUjB,GAC1B,OAAOnB,KAAMC,IAAN,gBAAAmB,OAA0BD,KAGnCkB,cAAe,SAAUC,GACvB,OAAOtC,KAAMU,KAAK,eAAgB4B,IAGpCC,cAAe,SAAUpB,EAAIqB,GAC3B,OAAOxC,KAAMK,IAAN,gBAAAe,OAA0BD,GAAMqB,IAGzCC,cAAe,SAAUtB,GACvB,OAAOnB,KAAMtE,OAAN,gBAAA0F,OAA6BD,KAGtCuB,mBAAoB,SAAUvB,EAAIO,GAChC,OAAO1B,KAAMK,IAAN,sBAAAe,OAAgCD,GAAMO,wBC1GpCiB,GAAS,CACpBC,oBAAqB,SAAUC,EAAOC,GAWpC,MAAO,CACLC,aAXmBC,OAAAC,GAAA,EAAAD,CAAOH,EAAME,cAAb3B,OAAA,CAA2B0B,EAAQI,MAYtDC,SAXeH,OAAAI,GAAA,EAAAJ,CAAA,GACZH,EAAMM,SADMH,OAAAK,EAAA,EAAAL,CAAA,GAEdF,EAAQI,IAAM,CACbJ,QAASA,EAAQA,QACjBQ,QAAS,GACT3I,MAAOmI,EAAQnI,MACfuI,IAAKJ,EAAQI,OAMfK,QAASV,EAAMU,SAInBC,oBAAqB,SAAUC,EAAWC,EAAgBb,GASxD,MAAO,CAAEM,SARQH,OAAAI,GAAA,EAAAJ,CAAA,GACZH,EAAMM,SADMH,OAAAK,EAAA,EAAAL,CAAA,GAEdS,EAFcT,OAAAI,GAAA,EAAAJ,CAAA,GAGVH,EAAMM,SAASM,GAHL,CAIbX,QAASY,EAAeZ,QACxBnI,MAAO+I,EAAe/I,YAM5BgJ,oBAAqB,SAAUF,EAAWG,EAAOf,GAC/C,IAAME,EAAec,MAAMC,KAAKjB,EAAME,cAChCO,EAAUT,EAAMM,SAASM,GAAWH,QACpCS,EAAQf,OAAOgB,OAAO,GAAdhB,OAAAI,GAAA,EAAAJ,CAAA,GAAuBH,EAAMkB,QACrCZ,EAAWH,OAAOgB,OAAO,GAAdhB,OAAAI,GAAA,EAAAJ,CAAA,GAAuBH,EAAMM,WAC9CJ,EAAakB,OAAOL,EAAO,GAE3B,IAAK,IAAIM,EAAI,EAAGA,EAAIZ,EAAQa,OAAQD,WAC3BH,EAAMT,EAAQY,IAGvB,cADOf,EAASM,GACT,CACLM,QACAZ,WACAJ,iBAIJqB,kBAAmB,SAAUrB,GAE3B,IADA,IAAIsB,EAAc,GACTH,EAAI,EAAGA,EAAInB,EAAaoB,OAAQD,IACvCG,EAAYtB,EAAamB,KAAM,EAEjC,OAAOG,GAGTC,iBAAkB,SAAUhD,EAAQmC,EAAWG,EAAOf,GACpD,IAAM0B,EAAaV,MAAMC,KAAKjB,EAAMM,SAASM,GAAWH,SAExDiB,EAAWN,OAAOL,EAAO,GACzB,IAAMY,EAAQxB,OAAAI,GAAA,EAAAJ,CAAA,GAAQH,EAAMkB,OAa5B,cAZOS,EAASlD,GACF0B,OAAAI,GAAA,EAAAJ,CAAA,GACTH,EADS,CAEZM,SAASH,OAAAI,GAAA,EAAAJ,CAAA,GACJH,EAAMM,SADHH,OAAAK,EAAA,EAAAL,CAAA,GAELS,EAFKT,OAAAI,GAAA,EAAAJ,CAAA,GAGDH,EAAMM,SAASM,GAHd,CAIJH,QAASiB,MAGbR,MAAOS,KAKXC,iBAAkB,SAAUhB,EAAWiB,EAAS7B,GAC9C,IAAM0B,EAAaV,MAAMC,KAAKjB,EAAMM,SAASM,GAAWH,SAcxD,OAZAiB,EAAWI,QAAQD,EAAQxB,KAYpB,CACLC,SAZeH,OAAAI,GAAA,EAAAJ,CAAA,GACZH,EAAMM,SADMH,OAAAK,EAAA,EAAAL,CAAA,GAEdS,EAFcT,OAAAI,GAAA,EAAAJ,CAAA,GAGVH,EAAMM,SAASM,GAHL,CAIbH,QAASiB,MASXR,MANYf,OAAAI,GAAA,EAAAJ,CAAA,GACTH,EAAMkB,MADGf,OAAAK,EAAA,EAAAL,CAAA,GAEX0B,EAAQxB,IAAMwB,MAQnBE,iBAAkB,SAAUF,EAAS7B,GAKnC,MAAO,CACLkB,MALYf,OAAAI,GAAA,EAAAJ,CAAA,GACTH,EAAMkB,MADGf,OAAAK,EAAA,EAAAL,CAAA,GAEX0B,EAAQxB,IAAMwB,MAOnBG,oBAAqB,SAAUhC,EAAOiC,EAAQC,EAAaC,GACzD,IAAMC,EAAkBpB,MAAMC,KAAKjB,EAAMqC,cAOzC,OANAD,EAAgBhB,OAAOa,EAAOlB,MAAO,GACrCqB,EAAgBhB,OAAOc,EAAYnB,MAAO,EAAGoB,GAC/BhC,OAAAI,GAAA,EAAAJ,CAAA,GACTH,EADS,CAEZqC,aAAcD,KAKlBE,qBAAsB,SAAUtC,EAAOiC,EAAQC,EAAaC,GAE1D,IAAMI,EAAkBvB,MAAMC,KAAKjB,EAAME,cAUzC,OARAqC,EAAgBnB,OAAOa,EAAOlB,MAAO,GAErCwB,EAAgBnB,OAAOc,EAAYnB,MAAO,EAAGoB,GAE/BhC,OAAAI,GAAA,EAAAJ,CAAA,GACTH,EADS,CAEZE,aAAcqC,KAKlBC,oBAAqB,SAAUxC,EAAOyC,EAAOR,EAAQC,EAAaC,GAChE,IAAMT,EAAaV,MAAMC,KAAKwB,EAAMhC,SACpCiB,EAAWN,OAAOa,EAAOlB,MAAO,GAChCW,EAAWN,OAAOc,EAAYnB,MAAO,EAAGoB,GAExC,IAAMO,EAAUvC,OAAAI,GAAA,EAAAJ,CAAA,GACXsC,EADW,CAEdhC,QAASiB,IAUX,OAPcvB,OAAAI,GAAA,EAAAJ,CAAA,GACTH,EADS,CAEZM,SAASH,OAAAI,GAAA,EAAAJ,CAAA,GACJH,EAAMM,SADHH,OAAAK,EAAA,EAAAL,CAAA,GAELuC,EAAWrC,IAAMqC,OAMxBC,mBAAoB,SAAU3C,EAAOyC,EAAOG,EAAQX,EAAQC,EAAaC,GAAa,IAAAU,EAE9EC,EAAe9B,MAAMC,KAAKwB,EAAMhC,SAEtCqC,EAAa1B,OAAOa,EAAOlB,MAAO,GAElC,IAAMgC,EAAQ5C,OAAAI,GAAA,EAAAJ,CAAA,GACTsC,EADS,CAEZhC,QAASqC,IAILE,EAAgBhC,MAAMC,KAAK2B,EAAOnC,SACxCuC,EAAc5B,OAAOc,EAAYnB,MAAO,EAAGoB,GAC3C,IAAMc,EAAS9C,OAAAI,GAAA,EAAAJ,CAAA,GACVyC,EADU,CAEbnC,QAASuC,IAILE,EAAQ/C,OAAAI,GAAA,EAAAJ,CAAA,GACTH,EADS,CAEZM,SAASH,OAAAI,GAAA,EAAAJ,CAAA,GACJH,EAAMM,UADHuC,EAAA,GAAA1C,OAAAK,EAAA,EAAAL,CAAA0C,EAELE,EAAS1C,IAAM0C,GAFV5C,OAAAK,EAAA,EAAAL,CAAA0C,EAGLI,EAAU5C,IAAM4C,GAHXJ,MAQJpE,EAAS0D,EAGTgB,EAAe,CACnBC,SAHenB,EAAOoB,YAItBC,cAHoBpB,EAAYmB,aAOlC,OAFApG,GAAIuB,kBAAkBC,EAAQ0E,GAEvBD,ICnMEK,GAAQ,CACnBC,kBAAmB,SAAUC,GAI3B,IAHA,IAAMC,EAAc,CAAExC,MAAO,GAAIZ,SAAU,IACrCqD,EAAe,GAEZtC,EAAI,EAAGA,EAAIoC,EAAQvC,MAAMI,OAAQD,IAAK,CAC7C,IAAMuC,EAAUH,EAAQvC,MAAMG,GAC9BqC,EAAYxC,MAAM0C,EAAQvD,KAAOuD,EAGnC,IAAK,IAAIvC,EAAI,EAAGA,EAAIoC,EAAQnD,SAASgB,OAAQD,IAAK,CAChD,IAAMuC,EAAUH,EAAQnD,SAASe,GACjCqC,EAAYpD,SAASsD,EAAQvD,KAAOuD,EACpCF,EAAYpD,SAASsD,EAAQvD,KAAKI,QAAUmD,EAAQ1C,OAAS,GAC7DyC,EAAaE,KAAKD,EAAQvD,KAI5B,OADAqD,EAAYxD,aAAeyD,EACpBD,GAGTI,mBAAoB,SAAUC,GAG5B,IAFA,IAAMC,EAAmB,GACnBC,EAAcC,KAAKC,MAAMD,KAAKE,UAAUL,IACrC1C,EAAI,EAAGA,EAAI4C,EAAY3C,OAAQD,IAAK,CAC3C,IAAMuC,EAAUK,EAAY5C,UACrBuC,EAAQlG,aACRkG,EAAQtD,gBACRsD,EAAQ1C,MACf8C,EAAiBJ,EAAQvD,KAAOuD,EAElC,OAAOI,GAGTK,gBAAiB,SAAUZ,GACzB,IAAM/F,EAAQwG,KAAKC,MAAMV,EAAQ/F,OAOjC,OANA+F,EAAQ/F,MAAQA,EAChB+F,EAAQ/F,MAAMwD,MAAQ,GACtBuC,EAAQvC,MAAMoD,QAAQ,SAAAC,GACpBd,EAAQ/F,MAAMwD,MAAMqD,EAAKlE,KAAOkE,EAChCd,EAAQ/F,MAAMwD,MAAMqD,EAAKlE,KAAKkE,KAAOA,EAAKA,OAErCd,mICrCX,IAAMe,GAAYhN,IAAO8B,IAAVmL,MA2DAC,8MApDb1E,MAAQ,CACNC,QAAS,GACTnI,MAAO,MAGT6M,kBAAoB,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtBC,EADmBF,EACnBE,KAAMC,EADaH,EACbG,MACdC,EAAKC,SAAL/E,OAAAK,EAAA,EAAAL,CAAA,GAAiB4E,EAAOC,OAG1BxF,mCAAgB,SAAA2F,IAAA,IAAAlF,EAAA,OAAAmF,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACQvI,GAAIuC,cAAc,CACtCS,QAASgF,EAAKjF,MAAMC,QACpBnI,MAAOmN,EAAKjF,MAAMlI,MAClB2N,UAAWR,EAAKtN,MAAM8N,YAJV,OACRxF,EADQqF,EAAAI,KAMdT,EAAKtN,MAAMgO,kBAAkB,UAAW1F,EAAQpB,MANlC,wBAAAyG,EAAAM,SAAAT,EAAAU,iFAUd,OACE5M,EAAAC,EAAAC,cAACqL,GAAD,KACEvL,EAAAC,EAAAC,cAAC2M,GAAD,sBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,UACLC,MAAOa,KAAK7F,MAAMC,QAClB+F,KAAK,OACLC,SAAUJ,KAAKlB,kBACfuB,YAAY,gBAEdjN,EAAAC,EAAAC,cAAC2M,GAAD,sBACA7M,EAAAC,EAAAC,cAACgN,EAAD,CACEpB,KAAK,QACLC,MAAOa,KAAK7F,MAAMlI,MAClBkO,KAAK,OACLI,UAAU,MACVC,KAAK,IACLJ,SAAUJ,KAAKlB,kBACfuB,YAAY,yBAEdjN,EAAAC,EAAAC,cAACmN,EAAD,CACEC,UAAWV,KAAK7F,MAAMC,UAAY4F,KAAK7F,MAAMlI,MAC7CyD,QAASsK,KAAKrG,eAFhB,UAMAvG,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAASsK,KAAKlO,MAAMgO,mBAA5B,kBA/CqBa,wvBCL7B,IAAMC,GAAc,CAClBC,WAAY,OACZC,UAAW,OACXC,MAAO,SAGHpC,GAAYhN,IAAO8B,IAAVuN,MAMTC,GAAatP,IAAOuP,GAAVC,KACL,SAAArP,GAAK,OAAIA,EAAMG,MAAMmP,cAGf,SAAAtP,GAAK,OAAIA,EAAMG,MAAMoP,WAGT,SAAAvP,GAAK,OAAIA,EAAMG,MAAMmP,cAEvB,SAAAtP,GAAK,OAAIA,EAAMG,MAAMqP,UAI1CC,GAAU5P,IAAO6P,EAAVC,MAIPC,GAAO/P,IAAOgQ,GAAVC,MAKJC,GAAWlQ,IAAOmQ,GAAVC,MAsECC,GAlEK,SAAAlQ,GAAS,IAEzBmQ,EASEnQ,EATFmQ,eACApH,EAQE/I,EARF+I,OACAqH,EAOEpQ,EAPFoQ,QACAC,EAMErQ,EANFqQ,iBACAvC,EAKE9N,EALF8N,UACAnF,EAIE3I,EAJF2I,SACA2H,EAGEtQ,EAHFsQ,sBACAC,EAEEvQ,EAFFuQ,cACAvC,EACEhO,EADFgO,kBAGF,OACE1M,EAAAC,EAAAC,cAACgP,GAAD,KACElP,EAAAC,EAAAC,cAAC2N,GAAD,gBACWxG,EAASgB,OAAS,GACzBrI,EAAAC,EAAAC,cAACiP,EAAD,CAAS1P,WAAS,EAAC6C,QAASuM,GAA5B,eAGiB,IAApBxH,EAASgB,OACNrI,EAAAC,EAAAC,cAACiO,GAAD,yDACAW,EACE9O,EAAAC,EAAAC,cAACiO,GAAD,iCACAnO,EAAAC,EAAAC,cAACiO,GAAD,gCAENnO,EAAAC,EAAAC,cAACoO,GAAD,KACGjH,EAAS+H,IAAI,SAAApI,GAAO,OACnBhH,EAAAC,EAAAC,cAACuO,GAAD,CAAUY,IAAKrI,EAAQI,KACrBpH,EAAAC,EAAAC,cAACiP,EAAD,CACE1P,WAAS,EACTb,OAAK,EACLY,KAAK,SACLE,WAAW,MACX4C,QACEwM,EACI,kBAAMC,EAAiB/H,EAAQI,MAC/B,kBAAM6H,EAAcjI,EAAQI,OAGjCJ,EAAQA,aAMhBS,EAEGzH,EAAAC,EAAAC,cAACoP,GAAD,CACE5C,kBAAmBA,EACnBF,UAAWA,IAGbxM,EAAAC,EAAAC,cAACF,EAAAC,EAAMgC,SAAP,KACIjC,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAASoK,EAAmB6C,MAAO/B,IAA3C,cAGFxN,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0M,EAAuBO,MAAO/B,IAA/C,8nBCnGZ,IAAMgC,GAAUjR,IAAOkR,KAAVC,KAEJ,SAAAhR,GAAK,OAAIA,EAAMQ,KACb,SAAAR,GAAK,OAAIA,EAAMW,OAChB,SAAAX,GAAK,OAAIA,EAAMU,MACd,SAAAV,GAAK,OAAIA,EAAMc,MACd,SAAAd,GAAK,OAAIA,EAAMc,MAGL,SAAAd,GAAK,OAAIA,EAAMY,MAAQZ,EAAMG,MAAMS,MAAQZ,EAAMG,MAAMwC,WACtD,SAAA3C,GAAK,OAAIA,EAAMY,MAAQZ,EAAMG,MAAMS,MAAQZ,EAAMG,MAAMwC,w+CCVvE,IAAMsO,GAAcC,YAAHC,KAoDX,SAAAnR,GAAK,OAAIA,EAAMG,MAAMS,QCtDrBwQ,GAAS,CACpBC,UAAW,CACT7O,OAAQ,UACR8O,WAAY,UACZ3O,UAAW,UACX4O,aAAc,UACdC,gBAAiB,UACjBC,SAAU,UACVC,YAAa,UACbpC,aAAc,UACdqC,WAAY,UACZC,OAAQ,UACRC,WAAW,UACXC,UAAW,UACXC,cAAe,UACfC,iBAAkB,UAClBnR,MAAO,UACPO,UAAW,UACX6Q,SAAU,UACVC,YAAa,OACbpQ,QAAS,UACTC,WAAY,UACZZ,gBAAiB,UACjB6C,QAAS,UACTC,WAAY,UACZC,YAAa,uDACbiO,WAAY,sFACZlQ,SAAU,UACV0C,YAAa,OACbvC,cAAe,OACfC,iBAAkB,OAClB+P,SAAU,kHACVC,iBAAkB,UAClBjS,SAAU,kDACVmP,UAAW,0DACX3O,MAAO,UACP4O,QAAS,WAGX8C,WAAY,CACV9P,OAAQ,OACR8O,WAAY,UACZ3O,UAAW,UACX4O,aAAc,UACdC,gBAAiB,UACjBC,SAAU,UACVC,YAAa,UACbpC,aAAc,UACdqC,WAAY,UACZC,OAAQ,UACRC,WAAW,UACXC,UAAW,UACXC,cAAe,UACfC,iBAAkB,UAClBnR,MAAO,UACPO,UAAW,UACX6Q,SAAU,UACVC,YAAa,OACbpQ,QAAS,UACTC,WAAY,UACZZ,gBAAiB,UACjB6C,QAAS,UACTC,WAAY,UACZC,YAAa,uDACbiO,WAAY,sFACZlQ,SAAU,UACV0C,YAAa,OACbvC,cAAe,OACfC,iBAAkB,OAClB+P,SAAU,+EACVC,iBAAkB,UAClBjS,SAAU,kDACVmP,UAAW,0DACX3O,MAAO,UACP4O,QAAS,WAGX+C,WAAY,CACV/P,OAAQ,OACR8O,WAAY,sCACZ3O,UAAW,UACX4O,aAAc,UACdC,gBAAiB,UACjBC,SAAU,UACVC,YAAa,UACbpC,aAAc,UACdqC,WAAY,OACZC,OAAQ,iCACRC,WAAW,OACXC,UAAW,UACXC,cAAe,UACfC,iBAAkB,UAClBnR,MAAO,UACPO,UAAW,OACX6Q,SAAU,OACVC,YAAa,UACbpQ,QAAS,UACTC,WAAY,UACZZ,gBAAiB,UACjB6C,QAAS,UACTC,WAAY,UACZC,YAAa,uDACbiO,WAAY,sFACZlQ,SAAU,UACV0C,YAAa,OACbvC,cAAe,OACfC,iBAAkB,UAClB+P,SAAU,2DACVC,iBAAkB,UAClBjS,SAAU,kDACVmP,UAAW,0DACX3O,MAAO,UACP4O,QAAS,gqCC1Gb,IAAMgD,GAAgB3S,IAAO8B,IAAV8Q,KAKH,SAAAzS,GAAK,OAAIA,EAAMG,MAAMqC,QAC1B,SAAAxC,GAAK,OAAIA,EAAMG,MAAMwC,WACf,SAAA3C,GAAK,OAAIA,EAAMG,MAAMC,WAGhCsS,GAAY7S,IAAO8B,IAAVgR,MASTC,GAAgB/S,IAAO8B,IAAVkR,MAObC,GAAkBjT,IAAO8B,IAAVoR,MAMfC,GAAiBnT,IAAO8B,IAAVsR,KACT,SAAAjT,GAAK,OAAIA,EAAMkT,KACpBlT,EAAMG,MAAMqR,gBACZxR,EAAMG,MAAMuR,aAKN,SAAA1R,GAAK,OACbA,EAAMoQ,QACF,sBACA,aAEG,SAAApQ,GAAK,OAAIA,EAAMkT,KAAO,QAAU,QAE3B,SAAAlT,GAAK,OACjBA,EAAMkT,KACFlT,EAAMG,MAAMoR,aACZvR,EAAMG,MAAMsR,UAEJ,SAAAzR,GAAK,OAAIA,EAAMkT,KAAO,mBAAqB,QAIxC,SAAAlT,GAAK,OAAIA,EAAMG,MAAMoP,WACvB,SAAAvP,GAAK,MAAmB,UAAfA,EAAMc,KAAmB,IAAM,KAKxC,SAAAd,GAAK,MAAmB,UAAfA,EAAMc,KAAmB,OAAS,QAI/CqS,GAAO,SAAAnT,GAClB,OACEsB,EAAAC,EAAAC,cAACgR,GAAD,KACElR,EAAAC,EAAAC,cAACyP,GAAD,MACA3P,EAAAC,EAAAC,cAAC4R,EAAD,CACElQ,cAAelD,EAAMkD,cACrBE,OAAQpD,EAAMoD,OACdD,KAAMnD,EAAMmD,KACZkQ,KAAMrT,EAAMqT,KACZhQ,SAAUrD,EAAMqD,SAChBC,gBAAiBtD,EAAMsD,kBAGzBhC,EAAAC,EAAAC,cAACwR,GAAD,CACE5C,QAASpQ,EAAMoQ,QACf8C,KAAMlT,EAAMkT,KACZpS,KAAMd,EAAMc,KACZwS,SAAUtT,EAAMsT,SAChBC,MAAOvT,EAAMuT,OAEbjS,EAAAC,EAAAC,cAAA,MAAI+R,MAAOvT,EAAMsT,UAAWtT,EAAMuT,OACjCvT,EAAMkT,MAAQ5R,EAAAC,EAAAC,cAAA,UAAKxB,EAAMsT,WAG5BhS,EAAAC,EAAAC,cAACkR,GAAD,KACG1S,EAAM2I,WAAa3I,EAAMwT,UACxBlS,EAAAC,EAAAC,cAACiS,GAAD,CACEtD,eAAgBnQ,EAAMmQ,eACtBpH,OAAQ/I,EAAM+I,OACdqH,QAASpQ,EAAMoQ,QACftC,UAAW9N,EAAM8N,UACjBnF,SAAU3I,EAAM2I,SAChB0H,iBAAkBrQ,EAAMqQ,iBACxBC,sBAAuBtQ,EAAMsQ,sBAC7BC,cAAevQ,EAAMuQ,cACrBvC,kBAAmBhO,EAAMgO,qBAI/B1M,EAAAC,EAAAC,cAACoR,GAAD,KACG5S,EAAM0B,UAGTJ,EAAAC,EAAAC,cAACsR,GAAD,wLC9GN,IAAMY,GAAU7T,IAAO8B,IAAVgS,MAQAC,GAAb,SAAAC,GAAA,SAAAD,IAAA,OAAApL,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA0F,GAAApL,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAAoL,GAAAK,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAAoL,EAAAC,GAAArL,OAAA4L,EAAA,EAAA5L,CAAAoL,EAAA,EAAAjD,IAAA,SAAAtD,MAAA,WACW,IACCrN,EAAUkO,KAAVlO,MACAsI,EAAuBtI,EAAvBsI,QAAS3B,EAAc3G,EAAd2G,GAAIyC,EAAUpJ,EAAVoJ,MACbiL,EAAoB/L,EAApB+L,MAAOC,EAAahM,EAAbgM,SACf,OACEtU,EAAMuU,QACFjT,EAAAC,EAAAC,cAACsP,GAAD,CAAStQ,IAAI,MAAME,KAAK,OAAOI,KAAK,SAEpCQ,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAACiT,GAAD,KACEnT,EAAAC,EAAAC,cAACiP,EAAD,CACE7B,SAAU5O,EAAM4O,SAChB3N,QAAQ,gBACR2C,QAAS,kBAAM5D,EAAM0U,gBAAgBpM,IACrCiL,MAAK,uBAAA3M,OAAyB0B,EAAQA,QAAjC,YAELhH,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,qBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACE7B,SAAU5O,EAAM4O,SAChBhL,QAAS,kBAAM5D,EAAMqQ,iBAAiB1J,IACtC1F,QAAQ,gBACRsS,MAAM,wCAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,gBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACE7B,SAAU5O,EAAM4O,SAChBhL,QAAS,kBAAM5D,EAAM4U,mBAAmBtM,IACxCrH,QAAQ,gBACRsS,MAAM,sBAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,iBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACE7B,SAAU5O,EAAM4O,UAAYyF,EAC5BzQ,QAAS,kBAAM5D,EAAM6U,iBAAiBlO,IACtC1F,QAAQ,gBACRsS,MAAOc,EAAQ,6DAA+D,wBAE9E/S,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,mBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACE7B,SAAU5O,EAAM4O,SAChBhL,QAAS,kBAAM5D,EAAM8U,WAAWT,EAAOC,EAAU3N,IACjD1F,QAAQ,gBACRsS,MAAM,qBAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,mBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACEvP,QAAM,EACN0N,SAAU5O,EAAM4O,SAChBhL,QAAS,kBAAM5D,EAAM+U,mBAAmBpO,EAAIyC,IAC5CnI,QAAQ,gBACRsS,MAAM,sBAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,uBAGjBrT,EAAAC,EAAAC,cAACiP,EAAD,CACE7B,SAAU5O,EAAM4O,SAChBhL,QAAS,kBAAM5D,EAAMuQ,cAAc5J,IACnC1F,QAAQ,cACRV,SAAS,WACTC,IAAI,MACJG,MAAM,MACNG,KAAK,OACLyS,MAAM,qBARR,aAlEZK,EAAA,CAAmCoB,yKCTnC,IAAMnI,GAAYhN,IAAO8B,IAAVsT,MAOFC,GAAa,SAAAC,GAAkB,IAAfzT,EAAeyT,EAAfzT,SAC3B,OACEJ,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAW1J,YAAY,eAAe2J,UAAU,aAAahH,KAAK,WAC/D,SAAAiH,GAAQ,OACPhU,EAAAC,EAAAC,cAAC+T,GAAD/M,OAAAgB,OAAA,GAAe8L,EAASE,eAAxB,CAAwCC,IAAKH,EAASI,WACnDhU,EACA4T,EAAS/G,iMCZpB,IAAMmF,GAAU7T,IAAO8B,IAAVgU,MAQAC,GAAb,SAAA/B,GAAA,SAAA+B,IAAA,OAAApN,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA0H,GAAApN,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAAoN,GAAA3B,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAAoN,EAAA/B,GAAArL,OAAA4L,EAAA,EAAA5L,CAAAoN,EAAA,EAAAjF,IAAA,SAAAtD,MAAA,WACW,IACCrN,EAAUkO,KAAVlO,MACA4M,EAA6B5M,EAA7B4M,KAAMtE,EAAuBtI,EAAvBsI,QAAS3B,EAAc3G,EAAd2G,GAAIyC,EAAUpJ,EAAVoJ,MACnBiL,EAAoBzH,EAApByH,MAAOC,EAAa1H,EAAb0H,SACf,OACEtU,EAAMuU,QACFjT,EAAAC,EAAAC,cAACsP,GAAD,CAAStQ,IAAI,MAAMG,MAAM,OAAOG,KAAK,OAAOF,OAAK,IAEjDU,EAAAC,EAAAC,cAACqU,GAAD,KACEvU,EAAAC,EAAAC,cAACiP,EAAD,CACE7M,QAAS,kBAAM5D,EAAM8V,YAAYlJ,IACjCgC,SAAU5O,EAAM4O,SAChB3N,QAAQ,iBACRL,OAAK,EACLE,KAAK,OACLC,WAAS,EACTwS,MAAM,iBAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,gBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACE7M,QAAS,kBAAM5D,EAAM+V,iBAAiBzN,EAASsE,IAC/CgC,SAAU5O,EAAM4O,SAChB3N,QAAQ,iBACRL,OAAK,EACLE,KAAK,OACLC,WAAS,EACTwS,MAAM,aAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,iBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACExP,QAAQ,iBACRL,OAAK,EACLG,WAAS,EACTD,KAAK,OACL8N,SAAU5O,EAAM4O,UAAYhC,EAAKyH,MACjCzQ,QAAS,kBAAM5D,EAAM6U,iBAAiBlO,IACtC4M,MAAO3G,EAAKyH,MAAQ,6DAA+D,wBAEnF/S,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,mBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACExP,QAAQ,iBACRL,OAAK,EACLG,WAAS,EACTD,KAAK,OACL8N,SAAU5O,EAAM4O,SAChBhL,QAAS,kBAAM5D,EAAM8U,WAAWT,EAAOC,EAAU3N,IACjD4M,MAAM,qBAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,mBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACE7M,QAAS,kBAAM5D,EAAMgW,gBAAgBpJ,EAAKlE,IAAKJ,EAAQI,IAAKU,IAC5DwF,SAAU5O,EAAM4O,SAChB3N,QAAQ,iBACRC,QAAM,EACNN,OAAK,EACLE,KAAK,OACLC,WAAS,EACTwS,MAAK,UAAA3M,OAAYgG,EAAK2G,QAEtBjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,2BApE3BiB,EAAA,CAAiCZ,+VCTjC,IAAMnI,GAAYhN,IAAO8B,IAAVsU,MAMTC,GAAWrW,IAAOsW,GAAVC,MAODC,GAAU,SAAAlB,GAAA,IAAEvI,EAAFuI,EAAEvI,KAAF,OACrBtL,EAAAC,EAAAC,cAAC8U,GAAD,KACEhV,EAAAC,EAAAC,cAAC0U,GAAD,iBACYK,KAAQC,OAAO5J,EAAK6J,UAAW,iBAG3CnV,EAAAC,EAAAC,cAAC0U,GAAD,kBACaK,KAAQC,OAAO5J,EAAK8J,UAAW,+ICnBhD,IAAMC,GAAQ9W,IAAO8B,IAAViV,MAMEC,GAAb,SAAAhD,GAAA,SAAAgD,IAAA,OAAArO,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA2I,GAAArO,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAAqO,GAAA5C,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAAqO,EAAAhD,GAAArL,OAAA4L,EAAA,EAAA5L,CAAAqO,EAAA,EAAAlG,IAAA,SAAAtD,MAAA,WACW,IACCrN,EAAUkO,KAAVlO,MADD8W,EAE0B9W,EAAM8L,QAA/BpD,EAFDoO,EAECpO,IAAK4L,EAFNwC,EAEMxC,SAAUD,EAFhByC,EAEgBzC,MACvB,OACE/S,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACGxU,EAAMuU,QAEHjT,EAAAC,EAAAC,cAACsP,GAAD,CAAStQ,IAAI,MAAMG,MAAM,OAAOG,KAAK,SAErCQ,EAAAC,EAAAC,cAACmV,GAAD,KACErV,EAAAC,EAAAC,cAACiP,EAAD,CACExP,QAAQ,QACRF,WAAS,EACT6N,SAAU5O,EAAM4O,SAChBhL,QAAS,kBAAM5D,EAAM+W,mBAAmB/W,EAAM8L,UAC9CyH,MAAM,qBAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,iBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACExP,QAAQ,QACRF,WAAS,EACT6N,SAAU5O,EAAM4O,UAAYyF,EAC5BzQ,QAAS,kBAAM5D,EAAM6U,iBAAiBnM,IACtC6K,MAAOc,EAAQ,6DAA+D,wBAE9E/S,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,mBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACExP,QAAQ,QACRF,WAAS,EACT6N,SAAU5O,EAAM4O,SAChBhL,QAAS,kBAAM5D,EAAM8U,WAAWT,EAAOC,EAAU5L,IACjD6K,MAAM,qBAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,mBAGfrT,EAAAC,EAAAC,cAACiP,EAAD,CACExP,QAAQ,QACRF,WAAS,EACT6N,SAAU5O,EAAM4O,SAChB1N,QAAM,EACN0C,QAAS,kBAAM5D,EAAMgX,mBAAmBtO,IACxC6K,MAAM,qBAENjS,EAAAC,EAAAC,cAAA,KAAGmT,UAAU,4BAjD7BkC,EAAA,CAAoC7B,0KCNpC,IAAMnI,GAAYhN,IAAO8B,IAAVsV,MAOFC,GAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAgJ,GAAA,QAAAG,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAA0O,IAAAM,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MACEjP,MAAQ,CACNkL,MAAO,GACPkE,QAAS,GACTC,KAAM,IAJVpK,EAOEN,kBAAoB,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtBC,EADmBF,EACnBE,KAAMC,EADaH,EACbG,MACdC,EAAKC,SAAL/E,OAAAK,EAAA,EAAAL,CAAA,GAAiB4E,EAAOC,KAT5BC,EAYElG,cAZFoB,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KAYkB,SAAApK,IAAA,IAAAqK,EAAAH,EAAAD,EAAAlE,EAAA,OAAA9F,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAgK,EACmBvK,EAAKjF,MAA9BqP,EADMG,EACNH,KAAMD,EADAI,EACAJ,QAASlE,EADTsE,EACStE,MADT5F,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGNvI,GAAI8B,cAAc,CACtBmM,QACAkE,UACAC,OACAI,OAAQxK,EAAKtN,MAAMmD,KAAKuF,MAPd,OASZ4E,EAAKtN,MAAM+X,eAAezK,EAAKtN,MAAMmD,MACrCmK,EAAKtN,MAAMgY,oBAVCrK,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAsK,GAAAtK,EAAA,SAaZA,EAAAsK,IACE3K,EAAK4K,SAAS,CACZC,KAAM7W,EAAAC,EAAAC,cAAA,sEACN4W,QAAS9W,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,QAhBD,yBAAA1K,EAAAM,SAAAT,EAAAU,KAAA,YAZlBZ,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAA0O,EAAAC,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA0O,EAAA,EAAAvG,IAAA,SAAAtD,MAAA,WAkCI,OACE/L,EAAAC,EAAAC,cAAC8W,GAAD,KACEhX,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,QACLC,MAAOa,KAAK7F,MAAMkL,MAClBlF,KAAK,OACLC,SAAUJ,KAAKlB,kBACfuB,YAAY,kBAEdjN,EAAAC,EAAAC,cAACgN,EAAD,CACEpB,KAAK,UACLC,MAAOa,KAAK7F,MAAMoP,QAClBpJ,KAAK,OACLC,SAAUJ,KAAKlB,kBACfuB,YAAY,oBAEdjN,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,OACLC,MAAOa,KAAK7F,MAAMqP,KAClBrJ,KAAK,OACLI,UAAU,KACVH,SAAUJ,KAAKlB,kBACfuB,YAAY,4CAEdjN,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAASsK,KAAK9G,eAAtB,UACA9F,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAASsK,KAAKlO,MAAMgY,mBAA5B,eA3DRd,EAAA,CAAgCrI,8bCPhC,IAAMhC,GAAYhN,IAAO8B,IAAV4W,KAIO,SAAAvY,GAAK,OAAIA,EAAMG,MAAMiB,YAIrCoX,GAAU3Y,IAAOuP,GAAVqJ,MAMPC,GAAY7Y,IAAO6P,EAAViJ,MAKFC,GAAQ,SAAA5Y,GAAK,OACxBsB,EAAAC,EAAAC,cAACqX,GAAD,KACEvX,EAAAC,EAAAC,cAACgX,GAAD,cACAlX,EAAAC,EAAAC,cAAC2M,GAAD,CAAO0C,MAAO,CAAEiI,WAAY,WAA5B,YACAxX,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,WACLC,MAAOrN,EAAMwD,SACb6K,KAAK,OACLC,SAAUtO,EAAMgN,oBAElB1L,EAAAC,EAAAC,cAAC2M,GAAD,iBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,WACLC,MAAOrN,EAAM+Y,SACb1K,KAAK,WACLC,SAAUtO,EAAMgN,oBAElB1L,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/J,QAAM,EAACF,OAAK,EAACd,QAAS5D,EAAMmG,OAApC,UACA7E,EAAAC,EAAAC,cAACkX,GAAD,8BACEpX,EAAAC,EAAAC,cAACiP,EAAD,CACE3P,KAAK,SACLT,MAAI,EACJuD,QAAS5D,EAAMgZ,kBAHjB,ybCtCN,IAAMnM,GAAYhN,IAAO8B,IAAVsX,KAIK,SAAAjZ,GAAK,OAAIA,EAAMG,MAAMiB,YAInCoX,GAAU3Y,IAAOuP,GAAV8J,MAMPR,GAAY7Y,IAAO6P,EAAVyJ,MAKFC,GAAS,SAAApZ,GAAK,OACzBsB,EAAAC,EAAAC,cAAC6X,GAAD,KACE/X,EAAAC,EAAAC,cAAC8X,GAAD,eACAhY,EAAAC,EAAAC,cAAC2M,GAAD,CAAO0C,MAAO,CAAEiI,WAAY,WAA5B,YACAxX,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,WACLC,MAAOrN,EAAMwD,SACb6K,KAAK,OACLC,SAAUtO,EAAMgN,oBAElB1L,EAAAC,EAAAC,cAAC2M,GAAD,cACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,QACLC,MAAOrN,EAAMuZ,MACblL,KAAK,OACLC,SAAUtO,EAAMgN,oBAElB1L,EAAAC,EAAAC,cAAC2M,GAAD,iBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,WACLC,MAAOrN,EAAM+Y,SACb1K,KAAK,WACLC,SAAUtO,EAAMgN,oBAElB1L,EAAAC,EAAAC,cAAC2M,GAAD,yBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,kBACLC,MAAOrN,EAAMwZ,gBACbnL,KAAK,WACLC,SAAUtO,EAAMgN,oBAElB1L,EAAAC,EAAAC,cAACmN,EAAD,CAAQjK,OAAK,EAACE,QAAM,EAAChB,QAAS5D,EAAMgG,QAApC,UACA1E,EAAAC,EAAAC,cAACiY,GAAD,gCACEnY,EAAAC,EAAAC,cAACiP,EAAD,CACE3P,KAAK,SACLT,MAAI,EACJuD,QAAS5D,EAAMgZ,kBAHjB,ssBChDN,IAAMU,GAAW7Z,IAAO8B,IAAVgY,MAIR9M,GAAYhN,IAAO8B,IAAViY,KACO,SAAA5Z,GAAK,OAAIA,EAAMG,MAAM4R,eAIrB,SAAA/R,GAAK,OAAIA,EAAMG,MAAMU,OAKnB,SAAAb,GAAK,OAAIA,EAAMG,MAAMkS,kBAC3B,SAAArS,GAAK,OAAIA,EAAMG,MAAMiS,UAEvB,SAAApS,GAAK,OAAIA,EAAM6Z,YAAc7Z,EAAMG,MAAMiS,WAGnD0H,GAAeja,IAAOuP,GAAV2K,KACP,SAAA/Z,GAAK,OAAIA,EAAMG,MAAM6R,kBACf,SAAAhS,GAAK,OAAIA,EAAMG,MAAMoP,YAIhCyK,GAAcna,IAAO6P,EAAVuK,KACN,SAAAja,GAAK,OAAIA,EAAMG,MAAM6R,mBAKnBkI,GAAb,SAAA/C,GAAA,SAAA+C,IAAA,IAAA9C,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAgM,GAAA,QAAA7C,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAA0R,IAAA1C,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MACEjP,MAAQ,CACNU,QAAQ,EACRwK,MAAO,GACPkE,QAAS,GACTC,KAAM,GACNnD,SAAS,GANbjH,EASEN,kBAAoB,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtBC,EADmBF,EACnBE,KAAMC,EADaH,EACbG,MACdC,EAAKC,SAAL/E,OAAAK,EAAA,EAAAL,CAAA,GAAiB4E,EAAOC,KAX5BC,EAcE0K,kBAAoB,WAClB1K,EAAKC,SAAS,CAAExE,QAASuE,EAAKjF,MAAMU,UAfxCuE,EAkBE/F,cAlBF,eAAA4N,EAAA3M,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KAkBkB,SAAApK,EAAM7G,GAAN,OAAA8G,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACRP,EAAKC,SAAS,CAAEgH,SAAS,IADjB,cAEdjH,EAAKtN,MAAMqY,aAFG1K,EAAAE,KAAA,EAGRvI,GAAIiC,cAAcZ,GAHV,OAId2G,EAAKtN,MAAM+X,eAAezK,EAAKtN,MAAMmD,MACrCmK,EAAKC,SAAS,CAAEgH,SAAS,IALX,wBAAA5G,EAAAM,SAAAT,EAAAU,SAlBlB,gBAAAiM,GAAA,OAAAhF,EAAAlB,MAAA/F,KAAAgG,YAAA,GAAA5G,EA0BEhG,cA1BF,eAAA8S,EAAA5R,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KA0BkB,SAAAyC,EAAMvO,GAAN,IAAA+L,EAAAtE,EAAAkE,EAAAC,EAAA4C,EAAA,OAAA7M,EAAAlM,EAAAmM,KAAA,SAAA6M,GAAA,cAAAA,EAAA3M,KAAA2M,EAAA1M,MAAA,cAAA0M,EAAA1M,KAAA,EACRP,EAAKC,SAAS,CAAEgH,SAAS,IADjB,cAEdjH,EAAKtN,MAAMqY,aAFGR,EAGmBvK,EAAKjF,MAA9BkL,EAHMsE,EAGNtE,MAAOkE,EAHDI,EAGCJ,QAASC,EAHVG,EAGUH,MAClB4C,EAAe,IAEG/G,MAApBA,GACsBzH,EAAQyH,MACrB+G,EAAa7C,QAAtBA,GACwB3L,EAAQ2L,QAC1B6C,EAAa5C,KAAnBA,GACqB5L,EAAQ4L,KAXnB6C,EAAA1M,KAAA,GAaRvI,GAAIgC,cAAcwE,EAAQpD,IAAK4R,GAbvB,QAcdhN,EAAKtN,MAAM+X,eAAezK,EAAKtN,MAAMmD,MACrCmK,EAAKC,SAAS,CAAEgH,SAAS,IAfX,yBAAAgG,EAAAtM,SAAAoM,EAAAnM,SA1BlB,gBAAAsM,GAAA,OAAAJ,EAAAnG,MAAA/F,KAAAgG,YAAA,GAAA5G,EA4CEyJ,mBAAqB,SAAAjL,GACnBwB,EAAKtN,MAAMkY,SAAS,CAClBC,KACE7W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAAC4M,EAAD,CACEC,KAAK,OACLjB,KAAK,QACLkB,SAAUhB,EAAKN,kBACfuB,YAAY,kBAEdjN,EAAAC,EAAAC,cAACgN,EAAD,CACEH,KAAK,OACLjB,KAAK,UACLkB,SAAUhB,EAAKN,kBACfuB,YAAY,oBAEdjN,EAAAC,EAAAC,cAAC4M,EAAD,CACEhB,KAAK,OACLiB,KAAK,OACLI,UAAU,KACVH,SAAUhB,EAAKN,kBACfuB,YAAY,yCAIlB6J,QACE9W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS,kBAAM0J,EAAKhG,cAAcwE,KAA1C,UACAxK,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,cAxEV/K,EA8EE0J,mBA9EF,eAAAyD,EAAAjS,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KA8EuB,SAAA8C,EAAM/T,GAAN,OAAA8G,EAAAlM,EAAAmM,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,OACnBP,EAAKtN,MAAMkY,SAAS,CAClBC,KAAM7W,EAAAC,EAAAC,cAAA,6GACN4W,QACE9W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS,kBAAM0J,EAAK/F,cAAcZ,KAA1C,eACArF,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,aANa,wBAAAsC,EAAA1M,SAAAyM,EAAAxM,SA9EvB,gBAAA0M,GAAA,OAAAH,EAAAxG,MAAA/F,KAAAgG,YAAA,GAAA5G,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAA0R,EAAA/C,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA0R,EAAA,EAAAvJ,IAAA,SAAAtD,MAAA,WA0FW,IAAAwN,EAAA3M,KAAA4M,EACoC5M,KAAKlO,MAAxC0K,EADDoQ,EACCpQ,aAAc2B,EADfyO,EACezO,iBACtB,OACE/K,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACGtG,KAAK7F,MAAMU,OAERzH,EAAAC,EAAAC,cAACuZ,GAAD,CACEhD,eAAgB7J,KAAKlO,MAAM+X,eAC3BC,kBAAmB9J,KAAK8J,kBACxB7U,KAAM+K,KAAKlO,MAAMmD,OAGnB7B,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAW1J,YAAawC,KAAKlO,MAAMmD,KAAKuF,IAAK2F,KAAK,WAC/C,SAACiH,EAAU0F,GAAX,OACC1Z,EAAAC,EAAAC,cAACkY,GAADlR,OAAAgB,OAAA,CACEiM,IAAKH,EAASI,UACVJ,EAASE,eAFf,CAGEyF,eAAgBD,EAASC,iBAExBvQ,EAAagG,IAAI,SAAC5E,EAAS1C,GAC1B,IAAM8R,EAAc7O,EAAiBP,GACrC,OACExK,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAW5K,YAAasB,EAAS1C,MAAOA,EAAOuH,IAAK7E,GACjD,SAACwJ,EAAU0F,GAAX,OACC1Z,EAAAC,EAAAC,cAAC2Z,GAAD3S,OAAAgB,OAAA,GACM8L,EAAS8F,eADf,CAEE3F,IAAKH,EAASI,SACdmE,WAAYmB,EAASnB,YACjBvE,EAAS+F,iBAEb/Z,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAMC,GAAE,IAAAkD,OAAMsU,EAAYxD,OACxBpW,EAAAC,EAAAC,cAACsY,GAAD,KAAeoB,EAAY3H,OAC3BjS,EAAAC,EAAAC,cAACwY,GAAD,KAAgBkB,EAAYzD,UAE9BnW,EAAAC,EAAAC,cAAC8Z,GAAD,CACEvE,mBAAoB8D,EAAK9D,mBACzBC,mBAAoB6D,EAAK7D,mBACzBlC,WAAY+F,EAAK7a,MAAM8U,WACvBP,QAASsG,EAAK7a,MAAMuU,QACpBzI,QAASoP,EACTrG,iBAAkBgG,EAAK7a,MAAM6U,wBAOzCvT,EAAAC,EAAAC,cAACmN,EAAD,CAAQ9J,MAAI,EAACH,OAAK,EAACd,QAASiX,EAAK7C,mBAAjC,sBACC1C,EAAS/G,oBA1I5B2L,EAAA,CAAiCrL,aCrCpB0M,GAAb,SAAApE,GAAA,SAAAoE,IAAA,IAAAnE,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAqN,GAAA,QAAAlE,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAA+S,IAAA/D,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MACEjP,MAAQ,CACNkR,MAAO,GACP/V,SAAU,GACVuV,SAAU,GACVS,gBAAiB,GACjBxT,QAAQ,GANZsH,EASEN,kBAAoB,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtBC,EADmBF,EACnBE,KAAMC,EADaH,EACbG,MACdC,EAAKC,SAAL/E,OAAAK,EAAA,EAAAL,CAAA,GAAiB4E,EAAOC,KAX5BC,EAcE0L,iBAAmB,WACjB1L,EAAKC,SAAS,CAAEvH,QAASsH,EAAKjF,MAAMrC,UAfxCsH,EAkBEnH,MAlBFqC,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KAkBU,SAAApK,IAAA,IAAAqK,EAAArU,EAAAuV,EAAA5V,EAAA,OAAAsK,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAgK,EACyBvK,EAAKjF,MAA5B7E,EADFqU,EACErU,SAAUuV,EADZlB,EACYkB,SADZpL,EAAAE,KAAA,EAEavI,GAAIa,MAAM,CAAE3C,WAAUuV,aAFnC,QAEA5V,EAFAwK,EAAAI,OAIJT,EAAKtN,MAAM+X,eAAe5U,EAAK+D,MAJ3B,wBAAAyG,EAAAM,SAAAT,EAAAU,SAlBVZ,EAyBEtH,OAzBFwC,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KAyBW,SAAAyC,IAAA,IAAAmB,EAAAjC,EAAAR,EAAAvV,EAAAL,EAAA,OAAAsK,EAAAlM,EAAAmM,KAAA,SAAA6M,GAAA,cAAAA,EAAA3M,KAAA2M,EAAA1M,MAAA,cAAA2N,EAC+BlO,EAAKjF,MAAnCkR,EADDiC,EACCjC,MAAOR,EADRyC,EACQzC,SAAUvV,EADlBgY,EACkBhY,SADlB+W,EAAA1M,KAAA,EAEYvI,GAAIU,OAAO,CAC5BxC,WAAU+V,QAAOR,aAHZ,SAED5V,EAFCoX,EAAAxM,MAKG7G,KAAKuU,OAAStY,EAAK+D,KAAKwB,KAAK4E,EAAKnH,QALrC,wBAAAoU,EAAAtM,SAAAoM,EAAAnM,SAzBXZ,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAA+S,EAAApE,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA+S,EAAA,EAAA5K,IAAA,SAAAtD,MAAA,WAkCI,OACE/L,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACGtG,KAAK7F,MAAMrC,OAER1E,EAAAC,EAAAC,cAACka,GAAD,CACElC,gBAAiBtL,KAAK7F,MAAMmR,gBAC5BD,MAAOrL,KAAK7F,MAAMkR,MAClBxB,eAAgB7J,KAAKlO,MAAM+X,eAC3B/K,kBAAmBkB,KAAKlB,kBACxB+L,SAAU7K,KAAK7F,MAAM0Q,SACrB/S,OAAQkI,KAAKlI,OACbgT,iBAAkB9K,KAAK8K,iBACvBxV,SAAU0K,KAAK7F,MAAM7E,WAGvBlC,EAAAC,EAAAC,cAACma,GAAD,CACE5D,eAAgB7J,KAAKlO,MAAM+X,eAC3B/K,kBAAmBkB,KAAKlB,kBACxB7G,MAAO+H,KAAK/H,MACZ4S,SAAU7K,KAAK7F,MAAM0Q,SACrBC,iBAAkB9K,KAAK8K,iBACvBxV,SAAU0K,KAAK7F,MAAM7E,gBAvDnC+X,EAAA,CAAkC1M,q0DCDlC,IAAM+M,GAAQ/b,IAAO8B,IAAVka,MAaLC,GAAUjc,IAAO8B,IAAVoa,KAIS,SAAA/b,GAAK,OAAIA,EAAMG,MAAM2B,SAGrB,SAAA9B,GAAK,OAAIA,EAAMG,MAAMU,OAKhC,SAAAb,GAAK,OAAIA,EAAMG,MAAM4B,aAS1BnC,GAASC,IAAOC,OAAVkc,KAID,SAAAhc,GAAK,OAAIA,EAAMG,MAAM8B,WAY1Bga,GAAOpc,IAAO8B,IAAVua,MAOJxI,GAAU7T,IAAO8B,IAAVwa,KAKW,SAAAnc,GAAK,OAAIA,EAAMG,MAAM8B,UAMb,SAAAjC,GAAK,OAAIA,EAAMG,MAAM8B,UAA2B,SAAAjC,GAAK,OAAIA,EAAMG,MAAM8B,UAK7E,SAAAjC,GAAK,OAAIA,EAAMG,MAAMiC,eACnB,SAAApC,GAAK,OAAIA,EAAMG,MAAM8B,UAA2B,SAAAjC,GAAK,OAAIA,EAAMG,MAAM8B,UAClF,SAAAjC,GAAK,OAAIA,EAAMG,MAAMkC,mBAIrB+Z,GAAb,SAAAjF,GAAA,SAAAiF,IAAA,IAAAhF,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAkO,GAAA,QAAA/E,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAA4T,IAAA5E,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MACEjP,MAAQ,CACNgU,QAAQ,EACRlE,KAAM,GACNC,QAAS,IAJb9K,EAOE+K,WAAa,WACX/K,EAAKC,SAAS,CAAE8O,QAAQ,KAR5B/O,EAWE4K,SAAW,SAAAoE,GACThP,EAAKC,SAAS,CACZ8O,QAAQ,EACRlE,KAAMmE,EAAWnE,KACjBC,QAASkE,EAAWlE,WAf1B9K,EAmBEiP,aAAe,SAAAtP,GAETA,EAAME,OAAOwH,UAAU6H,SAAS,WAClClP,EAAK+K,cAtBX/K,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAA4T,EAAAjF,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA4T,EAAA,EAAAzL,IAAA,SAAAtD,MAAA,WA0BI,OACE/L,EAAAC,EAAAC,cAACF,EAAAC,EAAMgC,SAAP,KACG2K,KAAK7F,MAAMgU,QACV/a,EAAAC,EAAAC,cAACib,GAAD,CAAO9H,UAAU,QAAQhO,GAAG,QAAQ/C,QAASsK,KAAKqO,cAChDjb,EAAAC,EAAAC,cAACkb,GAAD,CAAS/H,UAAU,gBAAgB9D,MAAO3C,KAAKlO,MAAM6Q,OACnDvP,EAAAC,EAAAC,cAACmb,GAAD,CAAQhI,UAAU,cAAc/Q,QAASsK,KAAKmK,YAA9C,QACA/W,EAAAC,EAAAC,cAACob,GAAD,CAAMjI,UAAU,cACbzG,KAAK7F,MAAM8P,KACZ7W,EAAAC,EAAAC,cAACqb,GAAD,CAASlI,UAAU,iBAChBzG,KAAK7F,MAAM+P,YAMrBlK,KAAKlO,MAAM0B,SAAS,CACnB2W,WAAYnK,KAAKmK,WACjBH,SAAUhK,KAAKgK,gBA3CzBkE,EAAA,CAAgCvN,aC9EnBiO,GAAb,SAAAjJ,GAAA,SAAAiJ,IAAA,IAAA1F,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA4O,GAAA,QAAAzF,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAAsU,IAAAtF,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MACEjP,MAAQ,CACNgM,MAAO,GACP0I,WAAY,GACZzI,SAAU,GACVpN,KAAM,GACNqN,SAAS,GANbjH,EASE0P,YATF,eAAA7H,EAAA3M,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KASgB,SAAApK,EAAMP,GAAN,IAAAgQ,EAAA/V,EAAA,OAAAuG,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACNoP,EAAQhQ,EAAME,OAAO8P,OAChB,GAAG5O,KAAKmO,SAAS,SAFhB,CAAA7O,EAAAE,KAAA,eAAAF,EAAAuP,OAAA,wBAGNhW,EAAO,IAAIiW,SAHLxP,EAAAE,KAAA,EAIN3G,EAAKkW,OAAO,OAAQH,EAAM,IAJpB,cAAAtP,EAAAE,KAAA,EAKN3G,EAAKkW,OAAO,gBAAiB,iBALvB,OAMZ9P,EAAKC,SAAS,CAAErG,SANJ,wBAAAyG,EAAAM,SAAAT,EAAAU,SAThB,gBAAAiM,GAAA,OAAAhF,EAAAlB,MAAA/F,KAAAgG,YAAA,GAAA5G,EAkBE+P,UAlBF,eAAAjD,EAAA5R,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KAkBc,SAAAyC,EAAM1T,GAAN,IAAA2W,EAAAC,EAAAjD,EAAAkD,EAAA,OAAA/P,EAAAlM,EAAAmM,KAAA,SAAA6M,GAAA,cAAAA,EAAA3M,KAAA2M,EAAA1M,MAAA,UACLP,EAAKjF,MAAMnB,KADN,CAAAqT,EAAA1M,KAAA,eAERP,EAAKtN,MAAMqY,aACXoF,WAAW,kBAAMnQ,EAAKtN,MAAMkY,SAAS,CACnCC,KAAM7W,EAAAC,EAAAC,cAAA,KAAGqP,MAAO,CAAE6M,UAAW,WAAvB,wBACNtF,QAAS9W,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,YACP,KANIkC,EAAA2C,OAAA,wBASV5P,EAAKC,SAAS,CAAEgH,SAAS,IACzBjH,EAAKtN,MAAMqY,aAVDkC,EAAA1M,KAAA,EAWQ8P,MAAM,0DAA2D,CACjFC,OAAQ,OACRzF,KAAM7K,EAAKjF,MAAMnB,OAbT,cAWJoW,EAXI/C,EAAAxM,KAAAwM,EAAA1M,KAAA,GAeSyP,EAAIO,OAfb,QAeJN,EAfIhD,EAAAxM,KAgBJuM,EAAe,CACnBjG,MAAOkJ,EAAKO,WACZf,WAAYQ,EAAKQ,MAAM,GAAGD,WAC1BxJ,SAAUiJ,EAAKS,WAnBPzD,EAAAtC,GAsBF3K,EAAKtN,MAAMqO,KAtBTkM,EAAA1M,KAuBH,YAvBG0M,EAAAtC,GAAA,GA2BH,YA3BGsC,EAAAtC,GAAA,2BAAAsC,EAAA1M,KAAA,GAwBSvI,GAAIgC,cAAcX,EAAI2T,GAxB/B,eAwBNkD,EAxBMjD,EAAAxM,KAyBNT,EAAKtN,MAAM+X,eAAezK,EAAKtN,MAAMmD,MAzB/BoX,EAAA2C,OAAA,2BAAA3C,EAAA1M,KAAA,GA4BSvI,GAAIyC,cAAcpB,EAAI2T,GA5B/B,eA4BNkD,EA5BMjD,EAAAxM,KA6BNT,EAAKtN,MAAMie,mBAAmBT,EAAOtW,MA7B/BqT,EAAA2C,OAAA,2BAAA3C,EAAA1M,KAAA,GAgCSvI,GAAIoB,WAAWC,EAAI2T,GAhC5B,QAgCNkD,EAhCMjD,EAAAxM,KAiCNT,EAAKtN,MAAM+X,eAAezK,EAAKtN,MAAMmD,MAjC/B,QAmCVmK,EAAKC,SAAS,CAAEgH,SAAS,IAnCf,yBAAAgG,EAAAtM,SAAAoM,EAAAnM,SAlBd,gBAAAsM,GAAA,OAAAJ,EAAAnG,MAAA/F,KAAAgG,YAAA,GAAA5G,EAwDEuH,iBAAmB,SAAAlO,GACjB2G,EAAKtN,MAAMkY,SAAS,CAClBC,KACE7W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAAC2M,GAAD,CAAO+P,QAAQ,QAAf,UACA5c,EAAAC,EAAAC,cAAC4M,EAAD,CACEC,KAAK,OACL1H,GAAG,OACHyG,KAAK,OACLkB,SAAUhB,EAAK0P,YACfzO,YAAY,qBAIlB6J,QACE9W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAACmN,EAAD,CACEC,SAAUtB,EAAKjF,MAAMkM,QACrB3Q,QAAS,kBAAM0J,EAAK+P,UAAU1W,KAFhC,UAMArF,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,cA9EV/K,EAoFE6Q,YApFF,eAAA1D,EAAAjS,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KAoFgB,SAAA8C,EAAO/T,EAAIyX,GAAX,IAAAC,EAAAb,EAAA,OAAA/P,EAAAlM,EAAAmM,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,cAAA8M,EAAA9M,KAAA,EACNP,EAAKC,SAAS,CAAEgH,SAAS,IADnB,OAEZjH,EAAKtN,MAAMqY,aACLgG,EAAY,CAAED,WAHRzD,EAAA1C,GAIJ3K,EAAKtN,MAAMqO,KAJPsM,EAAA9M,KAKL,YALK8M,EAAA1C,GAAA,EASL,YATK0C,EAAA1C,GAAA,0BAAA0C,EAAA9M,KAAA,EAMFvI,GAAIkC,mBAAmBb,EAAI0X,GANzB,cAOR/Q,EAAKtN,MAAM+X,eAAezK,EAAKtN,MAAMmD,MAP7BwX,EAAAuC,OAAA,2BAAAvC,EAAA9M,KAAA,GAUavI,GAAI4C,mBAAmBvB,EAAI0X,GAVxC,eAUFb,EAVE7C,EAAA5M,KAWRT,EAAKtN,MAAMie,mBAAmBT,EAAOtW,MAX7ByT,EAAAuC,OAAA,2BAAAvC,EAAA9M,KAAA,GAcFvI,GAAI2B,gBAAgBN,EAAI0X,GAdtB,QAeR/Q,EAAKtN,MAAM+X,eAAezK,EAAKtN,MAAMmD,MAf7B,QAkBZmK,EAAKC,SAAS,CAAEgH,SAAS,IAlBb,yBAAAoG,EAAA1M,SAAAyM,EAAAxM,SApFhB,gBAAA0M,EAAA0D,GAAA,OAAA7D,EAAAxG,MAAA/F,KAAAgG,YAAA,GAAA5G,EAyGEwH,WAAa,SAACT,EAAO+J,EAASzX,GAC5B,IAAIwR,EAECA,EADA9D,EACO/S,EAAAC,EAAAC,cAAA,OAAK+c,IAAKlK,EAAOmK,IAAI,UAAU3N,MAAO,CAAE4N,SAAU,OAAQC,UAAW,OAAQzP,MAAO,OAAQ0P,OAAQ,UAD7Frd,EAAAC,EAAAC,cAAA,4DAEnB8L,EAAKtN,MAAMkY,SAAS,CAClBC,OACAC,QACE9W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACGH,GACC/S,EAAAC,EAAAC,cAACmN,EAAD,CACEC,SAAUtB,EAAKjF,MAAMkM,QACrB3Q,QAAS,kBAAM0J,EAAK6Q,YAAYxX,EAAIyX,KAFtC,UAOF9c,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,aAzHV/K,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAAsU,EAAAjJ,GAAArL,OAAA4L,EAAA,EAAA5L,CAAAsU,EAAA,EAAAnM,IAAA,SAAAtD,MAAA,WAgII,OACEa,KAAKlO,MAAM0B,SAAS,CAClBoT,WAAY5G,KAAK4G,WACjBP,QAASrG,KAAK7F,MAAMkM,QACpBlM,MAAO6F,KAAK7F,MACZwM,iBAAkB3G,KAAK2G,uBArI/BiI,EAAA,CAAiC9H,iBCDpB4J,GAAb,SAAA/K,GAAA,SAAA+K,IAAA,OAAApW,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA0Q,GAAApW,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAAoW,GAAA3K,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAAoW,EAAA/K,GAAArL,OAAA4L,EAAA,EAAA5L,CAAAoW,EAAA,EAAAjO,IAAA,SAAAtD,MAAA,WACW,IAAAC,EAAAY,KACP,OACE5M,EAAAC,EAAAC,cAACqd,GAAD,KACG,SAAAC,GAAU,OACTxd,EAAAC,EAAAC,cAACud,GAADvW,OAAAgB,OAAA,GAAiB8D,EAAKtN,MAAW8e,GAC9B,SAAAE,GAAW,OACV1R,EAAKtN,MAAM0B,SAAX8G,OAAAI,GAAA,EAAAJ,CAAA,GACKsW,EACAE,YATnBJ,EAAA,CAAmC5J,2JCInC,IAAMnI,GAAYhN,IAAO8B,IAAVsd,MAuFAC,8MAhFb7W,MAAQ,CACNqC,aAAc4C,EAAKtN,MAAM0K,aACzB2B,iBAAkBiB,EAAKtN,MAAMqM,oBAa/B8S,gDAAY,SAAA3R,EAAMgQ,GAAN,IAAAjT,EAAAD,EAAAE,EAAAe,EAAA,OAAAkC,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACFtD,EAAqCiT,EAArCjT,YAAaD,EAAwBkT,EAAxBlT,OAAQE,EAAgBgT,EAAhBhT,YACxBD,EAFK,CAAAoD,EAAAE,KAAA,eAAAF,EAAAuP,OAAA,oBAKN3S,EAAYmB,cAAgBpB,EAAOoB,aACrCnB,EAAYnB,QAAUkB,EAAOlB,MANrB,CAAAuE,EAAAE,KAAA,eAAAF,EAAAuP,OAAA,wBAUJ3R,EAAWpD,GAAOkC,oBAAoBiD,EAAKjF,MAAOiC,EAAQC,EAAaC,GAVnEmD,EAAAE,KAAA,EAWJP,EAAKC,SAAShC,GAXV,cAAAoC,EAAAE,KAAA,GAYJvI,GAAIQ,gBAAgB,CAAEC,MAAOwG,KAAKE,UAAUa,EAAKjF,MAAMqC,gBAZnD,yBAAAiD,EAAAM,SAAAT,EAAAU,wJATckR,GACpBA,EAAU1U,eAAiBwD,KAAKlO,MAAM0K,cACxCwD,KAAKX,SAAS,CACZ7C,aAAc0U,EAAU1U,aACxB2B,iBAAkB+S,EAAU/S,oDAsBzB,IAAAwO,EAAA3M,KACP,OACE5M,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAiB+J,UAAWjR,KAAKiR,WAC/B7d,EAAAC,EAAAC,cAAC6d,GAAD,CACE9L,MAAM,gBACND,SAAS,0CACTxS,KAAK,QACLqC,KAAM+K,KAAKlO,MAAMmD,KACjBC,OAAQ8K,KAAKlO,MAAMoD,OACnBF,cAAegL,KAAKlO,MAAMkD,cAC1BgQ,KAAK,OACLG,KAAMnF,KAAKlO,MAAMqT,KACjBhQ,SAAU6K,KAAKlO,MAAMqD,SACrBC,gBAAiB4K,KAAKlO,MAAMsD,iBAE5BhC,EAAAC,EAAAC,cAAC8d,GAAD,KACEhe,EAAAC,EAAAC,cAAC+d,GAAD,CACExH,eAAgB7J,KAAKlO,MAAM+X,eAC3B1J,KAAK,WAEJ,SAAA+L,GAAA,IAAGvF,EAAHuF,EAAGvF,iBAAkBC,EAArBsF,EAAqBtF,WAAYP,EAAjC6F,EAAiC7F,QAAjC,OACCsG,EAAK7a,MAAMkD,cAEP5B,EAAAC,EAAAC,cAACge,GAAD,CACE3K,iBAAkBA,EAClBN,QAASA,EACTO,WAAYA,EACZ5R,cAAe2X,EAAK7a,MAAMkD,cAC1B6U,eAAgB8C,EAAK7a,MAAM+X,eAC3BrN,aAAcmQ,EAAKxS,MAAMqC,aACzB2B,iBAAkBwO,EAAKxS,MAAMgE,iBAC7BlJ,KAAM0X,EAAK7a,MAAMmD,QAIlB0X,EAAK7a,MAAMuU,SACZjT,EAAAC,EAAAC,cAACie,GAAD,CAAc1H,eAAgB8C,EAAK7a,MAAM+X,6BArE1ClJ,aCLJ6Q,GANC,SAAA1f,GAAK,OACnBsB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,wDCJJ,SAASme,GAAOC,GAAS,IACfvR,EAAoBuR,EAApBvR,KAAMsC,EAAciP,EAAdjP,IAAKkP,EAASD,EAATC,KACnB,MAAO,CACLC,UADK,SACK7S,EAAO8S,EAAQlS,GACvB,IAAKZ,EAAM+S,SAAW/S,EAAM0D,MAAQA,EAAK,OAAO9C,IAEhD,GADAZ,EAAMgT,iBACFJ,EAAM,CACR,IAAMK,EAASH,EAAO1S,MAAM8S,OAAOC,KAAK,SAAAngB,GAAK,OAAIA,EAAMoO,OAASA,IAChE0R,EAAOM,UAAUH,EAAS,YAAc7R,GAE1C0R,EAAOO,WAAWjS,KAKxB,IAAMkS,GAAU,CACdZ,GAAO,CAAEhP,IAAK,IAAKtC,KAAM,SACzBsR,GAAO,CAAEhP,IAAK,IAAKtC,KAAM,SACzBsR,GAAO,CAAEhP,IAAK,IAAKtC,KAAM,OAAQwR,MAAM,IACvCF,GAAO,CAAEhP,IAAK,IAAKtC,KAAM,QAASwR,MAAM,IACxCF,GAAO,CAAEhP,IAAK,IAAKtC,KAAM,WACzBsR,GAAO,CAAEhP,IAAK,IAAKtC,KAAM,kBACzBsR,GAAO,CAAEhP,IAAK,IAAKtC,KAAM,eCpB3B,SAASmS,GAAWxgB,EAAO+f,EAAQlS,GAAM,IAC/B4S,EAA+BzgB,EAA/BygB,WAAY/e,EAAmB1B,EAAnB0B,SACpB,OADuC1B,EAAT6f,KACjBxR,MACX,IAAK,OACH,OACE/M,EAAAC,EAAAC,cAAA,MAAAgH,OAAAgB,OAAA,GAASiX,EAAT,CAAqB5P,MAAO,CAAE6P,WAAY,OAAQ1f,WAAY,OAC5DM,EAAAC,EAAAC,cAAA,QAAMqP,MAAO,CAAE8P,WAAY,UAAWC,aAAc,MAAO3f,QAAS,IAAKyf,WAAY,SAAWhf,IAGtG,IAAK,cACH,OACEJ,EAAAC,EAAAC,cAAA,OACEqP,MAAO,CACLgQ,WAAY,oBACZC,YAAa,OACb7R,MAAO,MACP8R,QAAS,KACTC,UAAW,WAEb1f,EAAAC,EAAAC,cAAA,aAAgBif,EAAa/e,IAInC,IAAK,YACH,OAAOJ,EAAAC,EAAAC,cAAA,IAAOif,EAAa/e,GAC7B,IAAK,gBACH,OAAOJ,EAAAC,EAAAC,cAAA,KAAQif,EAAa/e,GAC9B,IAAK,cACH,OAAOJ,EAAAC,EAAAC,cAAA,KAAAgH,OAAAgB,OAAA,CAAIqH,MAAO,CAAEoQ,SAAU,OAAQnI,WAAY,SAAc2H,GAAa/e,GAC/E,IAAK,cACH,OAAOJ,EAAAC,EAAAC,cAAA,KAAAgH,OAAAgB,OAAA,CAAIqH,MAAO,CAAEoQ,SAAU,OAAQnI,WAAY,SAAc2H,GAAa/e,GAC/E,IAAK,gBACH,OAAOJ,EAAAC,EAAAC,cAAA,KAAAgH,OAAAgB,OAAA,CAAIqH,MAAO,CAAEoQ,SAAU,OAAQnI,WAAY,OAAQkI,UAAW,WAAgBP,GAAa/e,GACpG,IAAK,YACH,OAAOJ,EAAAC,EAAAC,cAAA,KAAQif,EAAa/e,GAC9B,IAAK,gBACH,OAAOJ,EAAAC,EAAAC,cAAA,KAAQif,EAAa/e,GAC9B,QACE,OAAOmM,KAIb,SAASqT,GAAWlhB,EAAO+f,EAAQlS,GAAM,IAC/BnM,EAA+B1B,EAA/B0B,SAAUkW,EAAqB5X,EAArB4X,KAAM6I,EAAezgB,EAAfygB,WACxB,OAAQ7I,EAAKvJ,MACX,IAAK,MACH,OAAO/M,EAAAC,EAAAC,cAAA,OAAAgH,OAAAgB,OAAA,CAAMqH,MAAO,CAAEsQ,MAAO,YAAiBV,GAAa/e,GAC7D,IAAK,OACH,OAAOJ,EAAAC,EAAAC,cAAA,OAAAgH,OAAAgB,OAAA,CAAMqH,MAAO,CAAEsQ,MAAO,YAAiBV,GAAa/e,GAC7D,IAAK,QACH,OAAOJ,EAAAC,EAAAC,cAAA,OAAAgH,OAAAgB,OAAA,CAAMqH,MAAO,CAAEsQ,MAAO,YAAiBV,GAAa/e,GAC7D,IAAK,SACH,OAAOJ,EAAAC,EAAAC,cAAA,OAAAgH,OAAAgB,OAAA,CAAMqH,MAAO,CAAEsQ,MAAO,YAAiBV,GAAa/e,GAC7D,IAAK,SACH,OAAOJ,EAAAC,EAAAC,cAAA,OAAAgH,OAAAgB,OAAA,CAAMqH,MAAO,CAAEsQ,MAAO,YAAiBV,GAAa/e,GAC7D,IAAK,OACH,OAAOJ,EAAAC,EAAAC,cAAA,OAAAgH,OAAAgB,OAAA,CAAMqH,MAAO,CAAE8P,WAAY,UAAWC,aAAc,QAAaH,GAAa/e,GACvF,IAAK,OACH,OAAOJ,EAAAC,EAAAC,cAAA,SAAYif,EAAa/e,GAClC,IAAK,SACH,OAAOJ,EAAAC,EAAAC,cAAA,KAAQif,EAAa/e,GAC9B,IAAK,gBACH,OAAOJ,EAAAC,EAAAC,cAAA,MAASif,EAAa/e,GAC/B,IAAK,YACH,OAAOJ,EAAAC,EAAAC,cAAA,IAAOif,EAAa/e,GAC7B,IAAK,OACH,IAAI0f,EAAU,GACd,IAAK,IAAI1X,KAAKhI,EACF,UAANgI,IACF0X,EAAQ1X,GAAKhI,EAASgI,IAE1B,IAAI2X,EAAU,GACd,IAAK,IAAIC,KAAK5f,EAAS1B,MACrBqhB,EAAQC,GAAK5f,EAAS1B,MAAMshB,GAE9BF,EAAQphB,MAAQqhB,EAChB,IAAIE,EAAMH,EAAQphB,MAAM0B,SAClBoJ,EAAQyW,EAAIC,QAAQ,KACpBC,EAAMF,EAAIC,QAAQ,KAClBE,EAAOH,EAAII,UAAU7W,EAAQ,EAAG2W,GAChCG,EAAWL,EAAIM,MAAM,EAAG/W,GAE9B,OADAsW,EAAQphB,MAAM0B,SAAWkgB,EAEvBtgB,EAAAC,EAAAC,cAAA,IAAAgH,OAAAgB,OAAA,CACEqH,MAAO,CAAEsQ,MAAO,UAAWW,eAAgB,aAC3CJ,KAAMA,EACNK,IAAI,sBACJ5U,OAAO,UACHsT,EALN,CAMEpT,MAAOuU,IAENR,GAIP,QACE,OAAOvT,wjBC/Fb,IAAMmU,GAAiBniB,IAAO8B,IAAVsgB,KAGH,SAAAjiB,GAAK,OAAIA,EAAMkiB,QAAU,SAGzB,SAAAliB,GAAK,OAChBA,EAAMkiB,OACF,OACA,WAUJC,GAAYtiB,IAAOC,OAAVsiB,KACJ,SAAApiB,GAAK,MACK,SAAjBA,EAAMkiB,OACF,OACA,QAII,SAAAliB,GAAK,OACbA,EAAMkiB,OACF,OACA,QAEO,SAAAliB,GAAK,OAChBA,EAAMkiB,OACF,OACA,UAEK,SAAAliB,GAAK,OACdA,EAAMqiB,OACF,EACA,KAoFOC,8MA3EbC,iBAAmB,SAAClU,EAAMmU,GACxB,IACIrB,EADEsB,EAAWnV,EAAKtN,MAAM0iB,QAAQrU,GAQpC,MANa,QAATA,IAAgB8S,EAAQ,WACf,SAAT9S,IAAiB8S,EAAQ,WAChB,UAAT9S,IAAkB8S,EAAQ,WACjB,WAAT9S,IAAmB8S,EAAQ,WAClB,WAAT9S,IAAmB8S,EAAQ,WAG7B7f,EAAAC,EAAAC,cAAC2gB,GAAD,CACED,OAAQ5U,EAAKtN,MAAMkiB,OACnBG,OAAQI,EACR5R,MAAO,CAAEsQ,SACTxQ,IAAG,QAAA/J,OAAUyH,GACbzK,QAAS,kBAAM0J,EAAKtN,MAAM2iB,YAAYtU,KAEtC/M,EAAAC,EAAAC,cAAA,KAAGmT,UAAS,UAAA/N,OAAY4b,SAK9BI,kBAAoB,SAACvU,EAAMmU,GACzB,IACIzR,EADA0R,EAAWnV,EAAKtN,MAAM6iB,SAASxU,GAMnC,GAJIA,EAAKmO,SAAS,SAAQzL,EAAOzP,EAAAC,EAAAC,cAAA,sBAC7B6M,EAAKmO,SAAS,SAAQzL,EAAOzP,EAAAC,EAAAC,cAAA,sBAC7B6M,EAAKmO,SAAS,WAAUzL,EAAOzP,EAAAC,EAAAC,cAAA,sBAE/B,CAAC,gBAAiB,iBAAiBgb,SAASnO,GAAO,KAEjDyU,EADIzV,EAAUC,EAAKtN,MAAMqI,MAArBgF,MAEJA,EAAM8S,OAAO4C,UACfD,EAASzV,EAAM2V,SAASC,UAAU5V,EAAM8S,OAAO4C,QAAQpS,MACzD8R,EAAWnV,EAAKtN,MAAM6iB,SAAS,cAAgBC,GAAUA,EAAOzU,OAASA,EAG3E,OACE/M,EAAAC,EAAAC,cAAC2gB,GAAD,CACED,OAAQ5U,EAAKtN,MAAMkiB,OACnBG,OAAQI,EACR9R,IAAG,QAAA/J,OAAUyH,GACbzK,QAAS,kBAAM0J,EAAKtN,MAAMkjB,aAAa7U,KAEvC/M,EAAAC,EAAAC,cAAA,KAAGmT,UAAS,UAAA/N,OAAY4b,KACvBzR,4EAML,OACEzP,EAAAC,EAAAC,cAACwgB,GAAD,CAAgBE,OAAQhU,KAAKlO,MAAMkiB,QAChChU,KAAKqU,iBAAiB,OAAQ,QAC9BrU,KAAKqU,iBAAiB,SAAU,UAChCrU,KAAKqU,iBAAiB,YAAa,aACnCrU,KAAKqU,iBAAiB,MAAO,WAC7BrU,KAAKqU,iBAAiB,OAAQ,WAC9BrU,KAAKqU,iBAAiB,SAAU,WAChCrU,KAAKqU,iBAAiB,QAAS,WAC/BrU,KAAKqU,iBAAiB,SAAU,WAChCrU,KAAKqU,iBAAiB,gBAAiB,iBACvCrU,KAAKqU,iBAAiB,OAAQ,QAC9BrU,KAAK0U,kBAAkB,cAAe,WACtC1U,KAAK0U,kBAAkB,cAAe,WACtC1U,KAAK0U,kBAAkB,gBAAiB,WACxC1U,KAAK0U,kBAAkB,cAAe,eACtC1U,KAAK0U,kBAAkB,gBAAiB,WACxC1U,KAAK0U,kBAAkB,gBAAiB,WACxC1U,KAAKqU,iBAAiB,OAAQ,gBAvEX1T,ivBCzC5B,IAAMhC,GAAYhN,IAAO8B,IAAVwhB,KAOC,SAAAnjB,GAAK,OAAIA,EAAMG,MAAMgS,YACxB,SAAAnS,GAAK,OACdA,EAAM6Z,YAAc7Z,EAAMuU,QACtB,MACA,KAEQ,SAAAvU,GAAK,OACjBA,EAAM6Z,WACF7Z,EAAMG,MAAM0R,WACZ7R,EAAMG,MAAMyR,QAET,SAAA5R,GAAK,OAAIA,EAAMG,MAAM2R,YAY1BsR,GAAUvjB,IAAOuP,GAAViU,KACI,SAAArjB,GAAK,OAAIA,EAAMG,MAAMoP,YAIhC+T,GAAUzjB,IAAO0jB,GAAVC,MAOPC,GAAc,CAClBxiB,QAAS,OACTyiB,OAAQ,kBACRC,SAAU,OACVjF,UAAW,SAGAkF,GAAb,SAAA/P,GAAA,SAAA+P,IAAA,IAAAxM,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA0V,GAAA,QAAAvM,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAAob,IAAApM,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MAEEtQ,WAAa,SAACF,EAAQmC,EAAWG,GAC/BkE,EAAKtN,MAAMqY,aACX/K,EAAKtN,MAAMgH,WAAWF,EAAQmC,EAAWG,IAJ7CkE,EAOE0I,gBAAkB,SAAClP,EAAQmC,EAAWG,GACpCkE,EAAKtN,MAAMkY,SAAS,CAClBC,KAAM7W,EAAAC,EAAAC,cAAA,gEACN4W,QACE9W,EAAAC,EAAAC,cAACF,EAAAC,EAAMgC,SAAP,KACEjC,EAAAC,EAAAC,cAAA,UAAQoC,QAAS,kBAAM0J,EAAKtG,WAAWF,EAAQmC,EAAWG,KAA1D,kBACA9H,EAAAC,EAAAC,cAAA,UAAQoC,QAAS0J,EAAKtN,MAAMqY,YAA5B,cAbV/K,EAmBEwI,YAAc,SAAAlJ,GACZnF,QAAQC,IAAIkF,GACZU,EAAKtN,MAAMkY,SAAS,CAClBC,KACE7W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAAC4hB,GAAD,KAAUxW,EAAK2G,OACfjS,EAAAC,EAAAC,cAAC8hB,GAAD,KAAU1W,EAAKiX,QACfviB,EAAAC,EAAAC,cAACsiB,GAAA,EAAD,CACEzW,MAAO0W,KAAMC,SAASzX,KAAKC,MAAMI,EAAKA,OACtCsU,WAAYA,GACZV,WAAYA,GACZ3P,MAAO4S,MAIbrL,QACE9W,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,SAEFxH,MAAO,CAAE6N,UAAW,OAAQiF,SAAU,WArC5CrW,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAAob,EAAA/P,GAAArL,OAAA4L,EAAA,EAAA5L,CAAAob,EAAA,EAAAjT,IAAA,SAAAtD,MAAA,WAyCW,IAAAwN,EAAA3M,KAAA4M,EAC0B5M,KAAKlO,MAA9BoJ,EADD0R,EACC1R,MAAOwD,EADRkO,EACQlO,KAAMtE,EADdwS,EACcxS,QACrB,OACEhH,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CACE5K,YAAaoC,EAAKlE,IAClBU,MAAOA,EACP6a,eAAgB/V,KAAKlO,MAAMuU,SAE1B,SAACe,EAAU0F,GAAX,OACC1Z,EAAAC,EAAAC,cAAC0iB,GAAD1b,OAAAgB,OAAA,GACM8L,EAAS8F,eADf,CAEE3F,IAAKH,EAASI,SACdmE,WAAYmB,EAASnB,WACrBtF,QAASsG,EAAK7a,MAAMuU,SAChBe,EAAS+F,iBAEb/Z,EAAAC,EAAAC,cAAC2iB,GAAD,CACEnO,gBAAiB6E,EAAK7E,gBACtBlB,WAAY+F,EAAK7a,MAAM8U,WACvBnO,GAAIiG,EAAKlE,IACTU,MAAOA,EACPmL,QAASsG,EAAK7a,MAAMuU,QACpBuB,YAAa+E,EAAK/E,YAClBxN,QAASA,EACTsE,KAAMA,EACNmJ,iBAAkB8E,EAAK7a,MAAM+V,iBAC7BlB,iBAAkBgG,EAAK7a,MAAM6U,mBAG/BvT,EAAAC,EAAAC,cAAA,UAAKoL,EAAK2G,OACVjS,EAAAC,EAAAC,cAAA,SAAIoL,EAAKiX,QAETviB,EAAAC,EAAAC,cAAC4iB,GAAD,CAASxX,KAAMA,YA1E7BgX,EAAA,CAA+B5O,2jCCjD/B,IAAMnI,GAAYhN,IAAO8B,IAAV0iB,KAOC,SAAArkB,GAAK,OAAIA,EAAMG,MAAMmR,aAG/BgT,GAAgBzkB,IAAO8B,IAAV4iB,MAMbC,GAAa3kB,IAAO8B,IAAV8iB,KAQE,SAAAzkB,GAAK,OACnBA,EAAMib,eACFjb,EAAMG,MAAMkS,iBACZrS,EAAMG,MAAMU,OAIJ,SAAAb,GAAK,OACjBA,EAAMib,eACFjb,EAAMG,MAAMiS,SACZ,SAIFsS,GAAW7kB,IAAO8B,IAAVgjB,MAQRjM,GAAY7Y,IAAO6P,EAAVkV,KAIW,SAAA5kB,GAAK,OAAIA,EAAMG,MAAMwC,WAEpC,SAAA3C,GAAK,OAAIA,EAAMG,MAAMwC,YAInBkiB,GAAb,SAAAhR,GAAA,SAAAgR,IAAA,IAAAzN,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA2W,GAAA,QAAAxN,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAAqc,IAAArN,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MACEjP,MAAQ,CACNC,QAAS,GACTnI,MAAO,IAHXmN,EAMEN,kBAAoB,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtBC,EADmBF,EACnBE,KAAMC,EADaH,EACbG,MACdC,EAAKC,SAAL/E,OAAAK,EAAA,EAAAL,CAAA,GAAiB4E,EAAOC,KAR5BC,EAWEsH,mBAAqB,SAAAtM,GACnBgF,EAAKtN,MAAMkY,SAAS,CAClBC,KACE7W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAAC2M,GAAD,wBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEC,KAAK,OACLjB,KAAK,UACLkB,SAAUhB,EAAKN,kBACfuB,YAAajG,EAAQA,UAEvBhH,EAAAC,EAAAC,cAAC2M,GAAD,sBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEC,KAAK,OACLjB,KAAK,QACLkB,SAAUhB,EAAKN,kBACfuB,YAAajG,EAAQnI,SAI3BiY,QACE9W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS,kBAAM0J,EAAKvF,cAC1BO,EAAQI,IACR,CACEJ,QAASgF,EAAKjF,MAAMC,SAAWA,EAAQA,QACvCnI,MAAOmN,EAAKjF,MAAMlI,OAASmI,EAAQnI,UAJvC,UAOAmB,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,cAxCV/K,EA8CEvF,cA9CF,eAAAoN,EAAA3M,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KA8CkB,SAAApK,EAAO7G,EAAI2T,GAAX,IAAA/O,EAAA,OAAAkC,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACdP,EAAKtN,MAAMqY,aACL9M,EAAWpD,GAAOa,oBAAoBrC,EAAI2T,EAAchN,EAAKtN,MAAMqI,OACzE/C,GAAIyC,cAAcpB,EAAI2T,GACtBhN,EAAKtN,MAAM8kB,0BAA0BvZ,GAJvB,wBAAAoC,EAAAM,SAAAT,EAAAU,SA9ClB,gBAAAiM,EAAAK,GAAA,OAAArF,EAAAlB,MAAA/F,KAAAgG,YAAA,GAAA5G,EAqDEyH,mBAAqB,SAACpO,EAAIyC,GACxBkE,EAAKtN,MAAMkY,SAAS,CAClBC,KAAM7W,EAAAC,EAAAC,cAAA,uGACN4W,QACE9W,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS,kBAAM0J,EAAKrF,cAActB,EAAIyC,KAA9C,kBAGA9H,EAAAC,EAAAC,cAACmN,EAAD,CAAQ/K,QAAS0J,EAAKtN,MAAMqY,YAA5B,cA7DV/K,EAmEErF,cAnEF,eAAAmS,EAAA5R,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KAmEkB,SAAAyC,EAAO1T,EAAIyC,GAAX,IAAAmC,EAAA,OAAAkC,EAAAlM,EAAAmM,KAAA,SAAA6M,GAAA,cAAAA,EAAA3M,KAAA2M,EAAA1M,MAAA,cACRtC,EAAWpD,GAAOgB,oBAAoBxC,EAAIyC,EAAOkE,EAAKtN,MAAMqI,OADpDkS,EAAA1M,KAAA,EAERvI,GAAI2C,cAActB,GAFV,OAGd2G,EAAKtN,MAAM8kB,0BAA0BvZ,GAHvB,wBAAAgP,EAAAtM,SAAAoM,EAAAnM,SAnElB,gBAAA0M,EAAA0D,GAAA,OAAAlE,EAAAnG,MAAA/F,KAAAgG,YAAA,GAAA5G,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAAqc,EAAAhR,GAAArL,OAAA4L,EAAA,EAAA5L,CAAAqc,EAAA,EAAAlU,IAAA,SAAAtD,MAAA,WAyEW,IAAAwN,EAAA3M,KAAA4M,EAWH5M,KAAKlO,MATPgH,EAFK8T,EAEL9T,WACAqJ,EAHKyK,EAGLzK,iBACAyE,EAJKgG,EAILhG,WACA1L,EALK0R,EAKL1R,MACAmL,EANKuG,EAMLvG,QACAjM,EAPKwS,EAOLxS,QACAiB,EARKuR,EAQLvR,MACAgH,EATKuK,EASLvK,cACAsE,EAVKiG,EAULjG,iBAEM1U,EAAemI,EAAfnI,MAAOuI,EAAQJ,EAARI,IACf,OACEpH,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAW5K,YAAa9B,EAAKU,MAAOA,GACjC,SAAAkM,GAAQ,OACPhU,EAAAC,EAAAC,cAACujB,GAADvc,OAAAgB,OAAA,GACM8L,EAAS8F,eADf,CAEE3F,IAAKH,EAASI,WAEdpU,EAAAC,EAAAC,cAACwjB,GAAD,CACEnQ,iBAAkBA,EAClBN,QAASA,EACTO,WAAYA,EACZxM,QAASA,EACT3B,GAAI+B,EACJU,MAAOA,EACPwL,mBAAoBiG,EAAKjG,mBACzBG,mBAAoB8F,EAAK9F,mBACzB1E,iBAAkBA,EAClBqE,gBAAiBmG,EAAK7a,MAAM0U,gBAC5BnE,cAAeA,IAGjBjP,EAAAC,EAAAC,cAAC8iB,GAAkBhP,EAAS+F,gBAC1B/Z,EAAAC,EAAAC,cAACkjB,GAAD,KAAWpc,EAAQA,SACnBhH,EAAAC,EAAAC,cAACyjB,GAAD,KAAY9kB,IAGdmB,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAW1J,YAAahD,EAAK2F,KAAK,QAC/B,SAACiH,EAAU0F,GAAX,OACC1Z,EAAAC,EAAAC,cAACgjB,GAADhc,OAAAgB,OAAA,CACEiM,IAAKH,EAASI,UACVJ,EAASE,eAFf,CAGEyF,eAAgBD,EAASC,iBAEzB3Z,EAAAC,EAAAC,cAAC+d,GAAD,CACExH,eAAgB8C,EAAK7a,MAAM+X,eAC3B1J,KAAK,QAEJ,SAAAiH,GAAQ,OACP/L,EAAMmH,IAAI,SAAC9D,EAAMxD,GACf,OACE9H,EAAAC,EAAAC,cAAC0jB,GAAD1c,OAAAgB,OAAA,GACM8L,EADN,CAEEtO,WAAYA,EACZoC,MAAOA,EACPuH,IAAK/D,EAAKlE,IACVJ,QAASA,EACTsE,KAAMA,EACNmJ,iBAAkB8E,EAAK7a,MAAM+V,wBAMtCT,EAAS/G,uBA5I9BsW,EAAA,CAAgC7P,udC/DzB,IAAMmQ,GAAetlB,IAAO8B,IAAVyjB,KAEb,SAAAplB,GAAK,MACE,UAAfA,EAAMqT,KACF,aAAerT,EAAMG,MAAMU,MAC3B,QAEQ,SAAAb,GAAK,OAAIA,EAAMkiB,QAAU,QAExB,SAAAliB,GAAK,OAAIA,EAAMkiB,QAAU,SAC1B,SAAAliB,GAAK,MACF,UAAfA,EAAMqT,KACFrT,EAAMG,MAAM8R,SACZjS,EAAM6Z,WACJ7Z,EAAMG,MAAMmR,WACZ,eAKC,SAAAtR,GAAK,MACG,UAAfA,EAAMqT,KACFrT,EAAMG,MAAMS,MACZZ,EAAMG,MAAM+R,aAIH,SAAAlS,GAAK,MACD,UAAfA,EAAMqT,KACF,SACA,UAOM,SAAArT,GAAK,MACF,UAAfA,EAAMqT,KACFrT,EAAMG,MAAM+D,YACZ,0tBChCR,IAAM2I,GAAYhN,IAAO8B,IAAV0jB,KAIC,SAAArlB,GAAK,OACjBA,EAAM6Z,WACF7Z,EAAMG,MAAMmR,WACZ,gBAKFgU,GAAoBzlB,IAAO8B,IAAV4jB,MAQjBC,GAAY3lB,IAAO0jB,GAAVkC,MAOTC,GAAa7lB,IAAO6P,EAAViW,MAOHC,GAAb,SAAAzO,GAAA,SAAAyO,IAAA,IAAAxO,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA0X,GAAA,QAAAvO,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAAod,IAAApO,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MAEEtB,gBAAkB,SAAClP,EAAQmC,EAAWG,GACpCkE,EAAKtN,MAAMkY,SAAS,CAClBC,KAAM7W,EAAAC,EAAAC,cAAA,gEACN4W,QACE9W,EAAAC,EAAAC,cAACF,EAAAC,EAAMgC,SAAP,KACEjC,EAAAC,EAAAC,cAAA,UAAQoC,QAAS,kBAAM0J,EAAKtN,MAAMgH,WAAWF,EAAQmC,EAAWG,KAAhE,kBACA9H,EAAAC,EAAAC,cAAA,UAAQoC,QAAS0J,EAAKtN,MAAMqY,YAA5B,cARV/K,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAAod,EAAAzO,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAAod,EAAA,EAAAjV,IAAA,SAAAtD,MAAA,WAcW,IAAAwN,EAAA3M,KAAA4M,EAC0C5M,KAAKlO,MAA9CoJ,EADD0R,EACC1R,MAAOwD,EADRkO,EACQlO,KAAMtE,EADdwS,EACcxS,QAASud,EADvB/K,EACuB+K,eACxBC,EAAYlZ,EAAKA,KAAOL,KAAKC,MAAMI,EAAKA,MAAQmZ,GAEtD,OADAnZ,EAAKoZ,cAAgB1d,EAEnBhH,EAAAC,EAAAC,cAACF,EAAAC,EAAMgC,SAAP,KACEjC,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAWzE,IAAK/D,EAAMpC,YAAaoC,EAAKlE,IAAKU,MAAOA,GACjD,SAACkM,EAAU0F,GAAX,OACC1Z,EAAAC,EAAAC,cAACykB,GAADzd,OAAAgB,OAAA,GACM8L,EAAS8F,eADf,CAEE3F,IAAKH,EAASI,SACdmE,WAAYmB,EAASnB,YACjBvE,EAAS+F,iBAEb/Z,EAAAC,EAAAC,cAAC8jB,GAAD,KACEhkB,EAAAC,EAAAC,cAACgkB,GAAD,KAAY5Y,EAAK2G,OACjBjS,EAAAC,EAAAC,cAACkkB,GAAD,KAAa9Y,EAAKiX,QAClBviB,EAAAC,EAAAC,cAACiP,EAAD,CACE1P,WAAS,EACTE,QAAQ,iBACR2C,QAAS,kBAAMiiB,EAAejZ,EAAKlE,OAHrC,QAIApH,EAAAC,EAAAC,cAACiP,EAAD,CACE1P,WAAS,EACTE,QAAQ,iBACRC,QAAM,EACN0C,QAAS,kBAAMiX,EAAK7E,gBAAgBpJ,EAAKlE,IAAKJ,EAAQI,IAAKU,KAJ7D,WAOF9H,EAAAC,EAAAC,cAAC2jB,GAAD,CAAc9R,KAAK,OAAOwG,WAAYmB,EAASnB,YAC7CvY,EAAAC,EAAAC,cAACsiB,GAAA,EAAD,CACEnT,IAAK/D,EAAKlE,IACVU,MAAOA,EACPiE,MAAO0W,KAAMC,SAAS8B,GACtBI,UAAQ,EACRhF,WAAYA,GACZV,WAAYA,cAjD9BoF,EAAA,CAAmC/W,iQCvCnC,IAAMhC,GAAYhN,IAAO8B,IAAVwkB,KAOO,SAAAnmB,GAAK,OACvBA,EAAM6Z,WACF7Z,EAAMG,MAAMmR,WACZtR,EAAMG,MAAMqC,SAIP4jB,GAAb,SAAAjP,GAAA,SAAAiP,IAAA,OAAA5d,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAkY,GAAA5d,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAA4d,GAAAnS,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAA4d,EAAAjP,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA4d,EAAA,EAAAzV,IAAA,SAAAtD,MAAA,WACW,IAAAC,EAAAY,KAAA4M,EAMH5M,KAAKlO,MAJP4M,EAFKkO,EAELlO,KACAkY,EAHKhK,EAGLgK,0BACA1b,EAJK0R,EAIL1R,MACAyc,EALK/K,EAKL+K,eAEF,OACEvkB,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAWzE,IAAK/D,EAAKlE,IAAK8B,YAAaoC,EAAKlE,IAAKU,MAAOA,GACrD,SAACkM,EAAU0F,GAAX,OACC1Z,EAAAC,EAAAC,cAAC6kB,GAAD7d,OAAAgB,OAAA,CACEmH,IAAK/D,EAAKlE,IACVU,MAAOA,GACHkM,EAAS8F,eAHf,CAIE3F,IAAKH,EAASI,SACdmE,WAAYmB,EAASnB,aAErBvY,EAAAC,EAAAC,cAAC8kB,GAAD,CACEC,SAAUV,EACVf,0BAA2BA,EAC3B0B,aAAc5Z,EACdvE,MAAOiF,EAAKtN,MAAMqI,MAClBC,QAASsE,EAAK3D,UACd2D,KAAML,KAAKC,MAAMI,EAAKA,MACtBiX,OAAQjX,EAAKiX,OACbtQ,MAAO3G,EAAK2G,OAEX,SAAAkT,GAAK,OACJnlB,EAAAC,EAAAC,cAACklB,GAAD,CACEC,WAAYrR,EAAS+F,gBACrBoL,MAAOA,EACP9f,GAAIiG,EAAKlE,IACTwZ,OAAO,OACPrI,WAAYmB,EAASnB,WACrBtG,MAAO3G,EAAK2G,MACZsS,eAAgBA,aApClCO,EAAA,CAAwCvX,0tBCXxC,IAAM+X,GAAa/mB,IAAO8B,IAAVklB,MAUVC,GAAiBjnB,IAAO8B,IAAVolB,KAGS,SAAA/mB,GAAK,OAAIA,EAAMG,MAAMwC,YAG5CqkB,GAAQnnB,IAAO0jB,GAAV0D,KACM,SAAAjnB,GAAK,OAAIA,EAAMG,MAAMoP,WAK3B,SAAAvP,GAAK,OAAIA,EAAMG,MAAMwR,aAG1BuV,GAAiBrnB,IAAO8B,IAAVwlB,MAOPC,GAAb,SAAAjQ,GAAA,SAAAiQ,IAAA,IAAAhQ,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAkZ,GAAA,QAAA/P,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAA4e,IAAA5P,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MACEjP,MAAQ,GADViF,EAGEuY,eAAiB,SAAA/e,GACfwG,EAAKC,SAAL/E,OAAAK,EAAA,EAAAL,CAAA,GAAiB1B,GAAUwG,EAAKjF,MAAMvB,MAJ1CwG,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAA4e,EAAAjQ,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA4e,EAAA,EAAAzW,IAAA,SAAAtD,MAAA,WAOW,IAAAwN,EAAA3M,KAAAmZ,EACyBnZ,KAAKlO,MAAMsI,QAAnCA,EADD+e,EACC/e,QAASnI,EADVknB,EACUlnB,MAAOuI,EADjB2e,EACiB3e,IAExB,OADAjB,QAAQC,IAAIwG,KAAKlO,MAAM2I,UAErBrH,EAAAC,EAAAC,cAAColB,GAAD,KACEtlB,EAAAC,EAAAC,cAACslB,GAAD,KACExlB,EAAAC,EAAAC,cAACwlB,GAAD,CAAOzT,MAAOpT,GAAd,UAA6BmI,GAC7BhH,EAAAC,EAAAC,cAACiP,EAAD,CACExQ,OAAK,EACLC,OAAK,EACLY,KAAK,SACLR,OAAO,OACPS,WAAS,EAKT6C,QAAS,kBAAMiX,EAAK7a,MAAMqQ,qBAV5B,+BAgBF/O,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CAAW1J,YAAahD,GACrB,SAAC4M,EAAU0F,GAAX,OACC1Z,EAAAC,EAAAC,cAAC0lB,GAAD1e,OAAAgB,OAAA,CACEiM,IAAKH,EAASI,UACVJ,EAASE,eAFf,CAGEyF,eAAgBD,EAASC,iBAExBJ,EAAK7a,MAAMuJ,MAAMmH,IAAI,SAAC9D,EAAMxD,GAE3B,OADA3B,QAAQC,IAAIkF,GACLiO,EAAKxS,MAAMuE,EAAKlE,KAEnBpH,EAAAC,EAAAC,cAAC8lB,GAAD,CACE3W,IAAK/D,EAAKlE,IACVU,MAAOA,EACPme,gBAAiB1M,EAAK7a,MAAMunB,gBAC5B3a,KAAMA,EACNvE,MAAOwS,EAAK7a,MAAMqI,MAClBC,QAASuS,EAAK7a,MAAMsI,QACpBK,SAAUkS,EAAK7a,MAAM2I,SACrBxF,KAAM0X,EAAK7a,MAAMmD,KACjB0iB,eAAgBhL,EAAKgL,eACrB2B,UAAW3M,EAAK7a,MAAMwnB,UACtB1C,0BAA2BjK,EAAK7a,MAAM8kB,0BACtC/M,eAAgB8C,EAAK7a,MAAM+X,iBAG7BzW,EAAAC,EAAAC,cAACqd,GAAD,KACG,SAAAC,GAAU,OACTxd,EAAAC,EAAAC,cAACimB,GAADjf,OAAAgB,OAAA,GACMsV,EADN,CAEEnO,IAAK/D,EAAKlE,IACVJ,QAASuS,EAAK7a,MAAMsI,QACpBK,SAAUkS,EAAK7a,MAAM2I,SACrBiE,KAAMA,EACNxD,MAAOA,EACPyc,eAAgBhL,EAAKgL,eACrB7e,WAAY6T,EAAK7a,MAAMgH,kBAOlCsO,EAAS/G,oBAzExB6Y,EAAA,CAAoCvY,+/CCpCpC,IAAM6Y,GAAkB7nB,IAAO8B,IAAVgmB,KAOL,SAAA3nB,GAAK,OAAIA,EAAMG,MAAMmR,aAG/BsW,GAAgB/nB,IAAO8B,IAAVkmB,KAQD,SAAA7nB,GAAK,OAAIA,EAAMG,MAAMU,OAGvB,SAAAb,GAAK,OAAIA,EAAMG,MAAMiS,WAG/BkS,GAAgBzkB,IAAO8B,IAAVmmB,MAMbpD,GAAW7kB,IAAO8B,IAAVomB,MAQRrP,GAAY7Y,IAAO6P,EAAVsY,KAIW,SAAAhoB,GAAK,OAAIA,EAAMG,MAAMwC,WAEpC,SAAA3C,GAAK,OAAIA,EAAMG,MAAMwC,YAI1BslB,GAAgBpoB,IAAO8B,IAAVumB,KAOH,SAAAloB,GAAK,OAAIA,EAAMG,MAAMgS,YACxB,SAAAnS,GAAK,OACdA,EAAMmoB,UAAYnoB,EAAMuU,QACpB,MACA,KAEQ,SAAAvU,GAAK,OAAIA,EAAMG,MAAMyR,QAC1B,SAAA5R,GAAK,OAAIA,EAAMG,MAAM2R,YAYnBsW,GAAb,SAAAjR,GAAA,SAAAiR,IAAA,OAAA5f,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAka,GAAA5f,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAA4f,GAAAnU,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAA4f,EAAAjR,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA4f,EAAA,EAAAzX,IAAA,SAAAtD,MAAA,WACW,IAAAyN,EACoB5M,KAAKlO,MAAxBsI,EADDwS,EACCxS,QAASiB,EADVuR,EACUvR,MACjB,OACEjI,EAAAC,EAAAC,cAACkmB,GAAD,KACEpmB,EAAAC,EAAAC,cAACwjB,GAAD,CACEjQ,mBAAmB,UACnBnG,UAAU,EACVyZ,aAAa,UACb1hB,GAAI2B,EAAQI,IACZU,MAAOd,EAAQI,IACfJ,QAASA,EACTggB,aAAa,UACb5T,gBAAgB,UAChBE,mBAAmB,YAGrBtT,EAAAC,EAAAC,cAAC+mB,GAAD,KACEjnB,EAAAC,EAAAC,cAACgnB,GAAD,KAAWlgB,EAAQA,SACnBhH,EAAAC,EAAAC,cAACinB,GAAD,KAAYngB,EAAQnI,QAGtBmB,EAAAC,EAAAC,cAAComB,GAAD,KACGre,EAAMmH,IAAI,SAAC9D,EAAMxD,GAAP,OACT9H,EAAAC,EAAAC,cAACymB,GAAD,CAAetX,IAAK/D,EAAKlE,KACvBpH,EAAAC,EAAAC,cAAC2iB,GAAD,CACEnO,gBAAgB,UAChBpH,UAAU,EACVxF,MAAOA,EACP0M,YAAY,UACZxN,QAASA,EACTsE,KAAMA,EACN0b,aAAa,UACbI,iBAAiB,YAGnBpnB,EAAAC,EAAAC,cAAA,UAAKoL,EAAK2G,OACVjS,EAAAC,EAAAC,cAAA,SAAIoL,EAAKiX,QAETviB,EAAAC,EAAAC,cAAC4iB,GAAD,CAASxX,KAAMA,aAvC7Bwb,EAAA,CAAoCvZ,stCCrEpC,IAAM4U,GAAc,CAClB7C,aAAc,MACd+H,UAAW,QACXjK,UAAW,OACXiF,SAAU,QACViF,SAAU,MACV3nB,QAAS,OACT4nB,WAAY,gCAGR1D,GAAetlB,IAAO8B,IAAVmnB,KAEI,SAAA9oB,GAAK,OAAIA,EAAMG,MAAMU,OAC3B,SAAAb,GAAK,OAAIA,EAAMkiB,QAAU,QAExB,SAAAliB,GAAK,OAAIA,EAAMkiB,QAAU,SAC1B,SAAAliB,GAAK,OAAIA,EAAMG,MAAM8R,UAI1B,SAAAjS,GAAK,OAAIA,EAAMG,MAAMS,OAShB,SAAAZ,GAAK,OAAIA,EAAMG,MAAM+D,cAG/B6kB,GAAiBlpB,IAAO8B,IAAVqnB,MAOdC,GAAcppB,IAAO8B,IAAVunB,MASXC,GAActpB,IAAO8B,IAAVynB,MAKXC,GAAaxpB,IAAO8B,IAAV2nB,KAGM,SAAAtpB,GAAK,OAAIA,EAAMG,MAAMqP,SAC1B,SAAAxP,GAAK,OAAIA,EAAMG,MAAMoP,WAO3B,SAAAvP,GAAK,OAAIA,EAAMG,MAAMS,QAGnB2oB,GAAb,SAAApS,GAAA,SAAAoS,IAAA,OAAA/gB,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAqb,GAAA/gB,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAA+gB,GAAAtV,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAA+gB,EAAApS,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA+gB,EAAA,EAAA5Y,IAAA,SAAAtD,MAAA,WAEW,IAAAC,EAAAY,KAAA4M,EACkB5M,KAAKlO,MAAtBymB,EADD3L,EACC2L,MAAOld,EADRuR,EACQvR,MACf,OACEjI,EAAAC,EAAAC,cAACunB,GAAD,KACEznB,EAAAC,EAAAC,cAACgoB,GAAD,CACElhB,QAASme,EAAMpe,MAAMC,QACrBiB,MAAOA,IAGTjI,EAAAC,EAAAC,cAACynB,GAAD,KACE3nB,EAAAC,EAAAC,cAAC6nB,GAAD,KACE/nB,EAAAC,EAAAC,cAAA,6BAGFF,EAAAC,EAAAC,cAAC2nB,GAAD,KACE7nB,EAAAC,EAAAC,cAACioB,GAAD,CACEphB,MAAOoe,EAAMpe,MACbsa,YAAa8D,EAAM9D,YACnBO,aAAcuD,EAAMvD,aACpBR,QAAS+D,EAAM/D,QACfG,SAAU4D,EAAM5D,WAGlBvhB,EAAAC,EAAAC,cAAC2M,GAAD,eACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEyC,MAAO,CAAE4N,SAAU,SACnBpQ,KAAK,OACLjB,KAAK,QACLC,MAAOoZ,EAAMpe,MAAMkL,MACnB9E,UAAU,KACVF,YAAY,gBACZD,SAAUmY,EAAMzZ,oBAGlB1L,EAAAC,EAAAC,cAAC2M,GAAD,iBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEyC,MAAO,CAAE4N,SAAU,SACnBpQ,KAAK,OACLjB,KAAK,SACLC,MAAOoZ,EAAMpe,MAAMwb,OACnBtV,YAAY,4BACZD,SAAUmY,EAAMzZ,oBAGlB1L,EAAAC,EAAAC,cAACkoB,GAAD,KACEpoB,EAAAC,EAAAC,cAACsiB,GAAA,EAAD,CACE6F,WAAS,EACT9Y,MAAO4S,GACPlD,QAASA,GACT9K,IAAKgR,EAAMhR,IACXpI,MAAOoZ,EAAMpe,MAAMgF,MACnBiB,SAAUmY,EAAMnY,SAChB4S,WAAYA,GACZV,WAAYA,MAIhBlf,EAAAC,EAAAC,cAACmN,EAAD,CACEkC,MAAO,CAAE7B,UAAW,MAAO4a,YAAa,OACxChb,UAAW6X,EAAMpe,MAAMkL,QAAUkT,EAAMpe,MAAMC,QAC7C1E,QAAS6iB,EAAMjgB,YAHjB,QAQAlF,EAAAC,EAAAC,cAACmN,EAAD,CACEkC,MAAO,CAAE7B,UAAW,MAAO4a,YAAa,OAExChmB,QAAS,kBAAM0J,EAAKtN,MAAM0U,oBAH5B,iBAnEZ6U,EAAA,CAAqC1a,usBCnErC,IAAM4U,GAAc,CAClB7C,aAAc,MACd+H,UAAW,QACXC,SAAU,MACV3nB,QAAS,OACT4nB,WAAY,gCAGRI,GAAcppB,IAAO8B,IAAVkoB,MAOXV,GAActpB,IAAO8B,IAAVmoB,MAKXT,GAAaxpB,IAAO8B,IAAVooB,KAGM,SAAA/pB,GAAK,OAAIA,EAAMG,MAAMqP,SAC1B,SAAAxP,GAAK,OAAIA,EAAMG,MAAMoP,WAO3B,SAAAvP,GAAK,OAAIA,EAAMG,MAAMS,QAG1BopB,GAAenqB,IAAO8B,IAAVsoB,MAOLC,GAAb,SAAA/S,GAAA,SAAA+S,IAAA,OAAA1hB,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAgc,GAAA1hB,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAA0hB,GAAAjW,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAA0hB,EAAA/S,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA0hB,EAAA,EAAAvZ,IAAA,SAAAtD,MAAA,WAEW,IAAAC,EAAAY,KAAA4M,EACuB5M,KAAKlO,MAA3BymB,EADD3L,EACC2L,MAAO9f,EADRmU,EACQnU,GAAIub,EADZpH,EACYoH,OACnB,OACE5gB,EAAAC,EAAAC,cAAC2oB,GAAD,KACE7oB,EAAAC,EAAAC,cAAC4oB,GAAelc,KAAKlO,MAAM2mB,WACzBrlB,EAAAC,EAAAC,cAAA,iBAAAoF,OAAYsH,KAAKlO,MAAMuT,SAGzBjS,EAAAC,EAAAC,cAAC6oB,GAAD,KACE/oB,EAAAC,EAAAC,cAACioB,GAAD,CACEvH,OAAQA,EACR7Z,MAAOoe,EAAMpe,MACbsa,YAAa8D,EAAM9D,YACnBO,aAAcuD,EAAMvD,aACpBR,QAAS+D,EAAM/D,QACfG,SAAU4D,EAAM5D,WAGlBvhB,EAAAC,EAAAC,cAACwoB,GAAD,KACE1oB,EAAAC,EAAAC,cAAC2M,GAAD,eACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEyC,MAAO,CAAE4N,SAAU,SACnBpQ,KAAK,OACLjB,KAAK,QACLC,MAAOoZ,EAAMpe,MAAMkL,MACnB9E,UAAU,KACVF,YAAY,gBACZD,SAAUmY,EAAMzZ,oBAElB1L,EAAAC,EAAAC,cAAC2M,GAAD,iBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEyC,MAAO,CAAE4N,SAAU,SACnBpQ,KAAK,OACLjB,KAAK,SACLC,MAAOoZ,EAAMpe,MAAMwb,OACnBtV,YAAY,4BACZD,SAAUmY,EAAMzZ,oBAElB1L,EAAAC,EAAAC,cAACmN,EAAD,CACEkC,MAAO,CAAE7B,UAAW,MAAO4a,YAAa,OACxChb,UAAW6X,EAAMpe,MAAMkL,QAAUkT,EAAMpe,MAAMC,QAC7CgiB,KAAK,OACL1mB,QAAS,kBAAM6iB,EAAM/f,WAAWC,KAJlC,QAQArF,EAAAC,EAAAC,cAACmN,EAAD,CACEkC,MAAO,CAAE7B,UAAW,MAAO4a,YAAa,OACxCU,KAAK,UACL1mB,QAAS,kBAAM0J,EAAKtN,MAAM6lB,eAAelf,KAH3C,WASFrF,EAAAC,EAAAC,cAAC2jB,GAAD,CACE9R,KAAK,QACL6O,OAAQA,EACRrI,WAAY3L,KAAKlO,MAAM6Z,YAEvBvY,EAAAC,EAAAC,cAACsiB,GAAA,EAAD,CACE6F,WAAS,EACT9Y,MAAO4S,GACPlD,QAASA,GACT9K,IAAKgR,EAAMhR,IACXpI,MAAOoZ,EAAMpe,MAAMgF,MACnBiB,SAAUmY,EAAMnY,SAChB4S,WAAYA,GACZV,WAAYA,YAtE1B0J,EAAA,CAAwCrb,ypBCzCxC,IAAM4U,GAAc,CAClB7C,aAAc,MACd+H,UAAW,QACXC,SAAU,MACV3nB,QAAS,OACT4nB,WAAY,gCAGRI,GAAcppB,IAAO8B,IAAV4oB,KAEK,SAAAvqB,GAAK,OAAIA,EAAMG,MAAMwC,YAKrCwmB,GAActpB,IAAO8B,IAAV6oB,MAKXnB,GAAaxpB,IAAO8B,IAAV8oB,KAGM,SAAAzqB,GAAK,OAAIA,EAAMG,MAAMqP,SAC1B,SAAAxP,GAAK,OAAIA,EAAMG,MAAMoP,WAO3B,SAAAvP,GAAK,OAAIA,EAAMG,MAAMS,QAG1BopB,GAAenqB,IAAO8B,IAAV+oB,MAILC,GAAb,SAAAxT,GAAA,SAAAwT,IAAA,OAAAniB,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAyc,GAAAniB,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAAmiB,GAAA1W,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAAmiB,EAAAxT,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAAmiB,EAAA,EAAAha,IAAA,SAAAtD,MAAA,WAgBW,IAAAyN,EACqB5M,KAAKlO,MAAzBymB,EADD3L,EACC2L,MAAO9d,EADRmS,EACQnS,SACf,OACErH,EAAAC,EAAAC,cAACopB,GAAD,KACEtpB,EAAAC,EAAAC,cAACqpB,GAAe3c,KAAKlO,MAAM2mB,WACzBrlB,EAAAC,EAAAC,cAAA,6BAGFF,EAAAC,EAAAC,cAACspB,GAAD,KACExpB,EAAAC,EAAAC,cAACioB,GAAD,CACEphB,MAAOoe,EAAMpe,MACbsa,YAAa8D,EAAM9D,YACnBO,aAAcuD,EAAMvD,aACpBR,QAAS+D,EAAM/D,QACfG,SAAU4D,EAAM5D,WAGlBvhB,EAAAC,EAAAC,cAACupB,GAAD,KACEzpB,EAAAC,EAAAC,cAAC2M,GAAD,eACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEyC,MAAO,CAAE4N,SAAU,SACnBpQ,KAAK,OACLjB,KAAK,QACLC,MAAOoZ,EAAMpe,MAAMkL,MACnB9E,UAAU,KACVF,YAAY,gBACZD,SAAUmY,EAAMzZ,oBAElB1L,EAAAC,EAAAC,cAAC2M,GAAD,iBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEyC,MAAO,CAAE4N,SAAU,SACnBpQ,KAAK,OACLjB,KAAK,SACLC,MAAOoZ,EAAMpe,MAAMwb,OACnBtV,YAAY,4BACZD,SAAUmY,EAAMzZ,oBAElB1L,EAAAC,EAAAC,cAAC2M,GAAD,gBACA7M,EAAAC,EAAAC,cAACwpB,GAAD,CACEna,MAAO,CAAE4N,SAAU,QAASxP,MAAO,QAASgc,aAAc,QAC1D5d,MAAOoZ,EAAMpe,MAAMC,QACnBgG,SAAUmY,EAAMzZ,kBAChBI,KAAK,WAEL9L,EAAAC,EAAAC,cAAA,UAAQ6L,MAAM,IAAd,oBACC1E,EAAS+H,IAAI,SAAApI,GAAO,OAAIhH,EAAAC,EAAAC,cAAA,UAAQmP,IAAKrI,EAAQI,IAAK2E,MAAO/E,EAAQI,KAAMJ,EAAQA,aAIpFhH,EAAAC,EAAAC,cAAC2jB,GAAD,CAAc9R,KAAK,SACjB/R,EAAAC,EAAAC,cAACsiB,GAAA,EAAD,CACE6F,WAAS,EACT9Y,MAAO4S,GACPlD,QAASA,GACT9K,IAAKgR,EAAMhR,IACXpI,MAAOoZ,EAAMpe,MAAMgF,MACnBiB,SAAUmY,EAAMnY,SAChB4S,WAAYA,GACZV,WAAYA,MAIhBlf,EAAAC,EAAAC,cAACmN,EAAD,CACEkC,MAAO,CAAE7B,UAAW,MAAO4a,YAAa,OACxChb,UAAW6X,EAAMpe,MAAMkL,QAAUkT,EAAMpe,MAAMC,QAC7C1E,QAAS6iB,EAAMjgB,YAHjB,QAQAlF,EAAAC,EAAAC,cAACmN,EAAD,CACEkC,MAAO,CAAE7B,UAAW,MAAO4a,YAAa,OACxChmB,QAASsK,KAAKlO,MAAMsQ,uBAFtB,gBAtFVqa,EAAA,CAAqC9b,stCCtCrC,IAAM4U,GAAc,CAClB7C,aAAc,MACd+H,UAAW,QACXjK,UAAW,OACXiF,SAAU,QACViF,SAAU,MACV3nB,QAAS,OACT4nB,WAAY,gCAGR1D,GAAetlB,IAAO8B,IAAVupB,KAEI,SAAAlrB,GAAK,OAAIA,EAAMG,MAAMU,OAC3B,SAAAb,GAAK,OAAIA,EAAMkiB,QAAU,QAExB,SAAAliB,GAAK,OAAIA,EAAMkiB,QAAU,SAC1B,SAAAliB,GAAK,OAAIA,EAAMG,MAAM8R,UAI1B,SAAAjS,GAAK,OAAIA,EAAMG,MAAMS,OAShB,SAAAZ,GAAK,OAAIA,EAAMG,MAAM+D,cAG/B6kB,GAAiBlpB,IAAO8B,IAAVwpB,MAOdlC,GAAcppB,IAAO8B,IAAVypB,MASXjC,GAActpB,IAAO8B,IAAV0pB,MAKXhC,GAAaxpB,IAAO8B,IAAV2pB,KAGM,SAAAtrB,GAAK,OAAIA,EAAMG,MAAMqP,SAC1B,SAAAxP,GAAK,OAAIA,EAAMG,MAAMoP,WAO3B,SAAAvP,GAAK,OAAIA,EAAMG,MAAMS,QAGnB2qB,GAAb,SAAApU,GAAA,SAAAoU,IAAA,OAAA/iB,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAqd,GAAA/iB,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAA+iB,GAAAtX,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAA+iB,EAAApU,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA+iB,EAAA,EAAA5a,IAAA,SAAAtD,MAAA,WAEW,IAAAC,EAAAY,KAAA4M,EACkB5M,KAAKlO,MAAtBymB,EADD3L,EACC2L,MAAOld,EADRuR,EACQvR,MACf,OACEjI,EAAAC,EAAAC,cAACgqB,GAAD,KACElqB,EAAAC,EAAAC,cAACgoB,GAAD,CACElhB,QAASme,EAAMpe,MAAMC,QACrBiB,MAAOA,IAGTjI,EAAAC,EAAAC,cAACiqB,GAAD,KACEnqB,EAAAC,EAAAC,cAACkqB,GAAD,KACEpqB,EAAAC,EAAAC,cAAA,iBAAAoF,OAAY6f,EAAMpe,MAAMkL,SAG1BjS,EAAAC,EAAAC,cAACmqB,GAAD,KACErqB,EAAAC,EAAAC,cAACioB,GAAD,CACEphB,MAAOoe,EAAMpe,MACbsa,YAAa8D,EAAM9D,YACnBO,aAAcuD,EAAMvD,aACpBR,QAAS+D,EAAM/D,QACfG,SAAU4D,EAAM5D,WAGlBvhB,EAAAC,EAAAC,cAAC2M,GAAD,eACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEyC,MAAO,CAAE4N,SAAU,SACnBpQ,KAAK,OACLjB,KAAK,QACLC,MAAOoZ,EAAMpe,MAAMkL,MACnB9E,UAAU,KACVF,YAAY,gBACZD,SAAUmY,EAAMzZ,oBAElB1L,EAAAC,EAAAC,cAAC2M,GAAD,iBACA7M,EAAAC,EAAAC,cAAC4M,EAAD,CACEyC,MAAO,CAAE4N,SAAU,SACnBpQ,KAAK,OACLjB,KAAK,SACLC,MAAOoZ,EAAMpe,MAAMwb,OACnBtV,YAAY,4BACZD,SAAUmY,EAAMzZ,oBAGlB1L,EAAAC,EAAAC,cAACoqB,GAAD,KACEtqB,EAAAC,EAAAC,cAACsiB,GAAA,EAAD,CACE6F,WAAS,EACT9Y,MAAO4S,GACPlD,QAASA,GACT9K,IAAKgR,EAAMhR,IACXpI,MAAOoZ,EAAMpe,MAAMgF,MACnBiB,SAAUmY,EAAMnY,SAChB4S,WAAYA,GACZV,WAAYA,MAGhBlf,EAAAC,EAAAC,cAACmN,EAAD,CACEkC,MAAO,CAAE7B,UAAW,MAAO4a,YAAa,OACxChb,UAAW6X,EAAMpe,MAAMkL,QAAUkT,EAAMpe,MAAMC,QAC7C1E,QAAS,kBAAM6iB,EAAM/f,WAAW4G,EAAKtN,MAAM4M,KAAKlE,OAHlD,QAOApH,EAAAC,EAAAC,cAACmN,EAAD,CACEkC,MAAO,CAAE7B,UAAW,MAAO4a,YAAa,OAExChmB,QAAS,kBAAM0J,EAAKtN,MAAM+V,qBAH5B,iBAhEZwV,EAAA,CAAwC1c,sBCvElCgd,GAAe,YAERC,GAAb,SAAA3U,GAAA,SAAA2U,IAAA,IAAA1U,EAAA9J,EAAA9E,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAA4d,GAAA,QAAAzU,EAAAnD,UAAAvK,OAAA2N,EAAA,IAAAjO,MAAAgO,GAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAD,EAAAC,GAAArD,UAAAqD,GAAA,OAAAjK,EAAA9E,OAAAuL,EAAA,EAAAvL,CAAA0F,MAAAkJ,EAAA5O,OAAAwL,EAAA,EAAAxL,CAAAsjB,IAAAtU,KAAAvD,MAAAmD,EAAA,CAAAlJ,MAAAtH,OAAA0Q,MACEjP,MAAQ,CACNgF,MAAO0W,KAAMC,SAAS1W,EAAKtN,MAAM4M,KAAOU,EAAKtN,MAAM4M,KAAOmZ,IAC1DxS,MAAOjG,EAAKtN,MAAMuT,OAAS,GAC3BjL,QAASgF,EAAKtN,MAAMsI,SAAW,GAC/Bub,OAAQvW,EAAKtN,MAAM6jB,QAAU,GAC7B2C,aAAclZ,EAAKtN,MAAMwmB,cAN7BlZ,EAUEN,kBAAoB,SAAAC,GAAS,IAAAC,EACHD,EAAME,OAAtBC,EADmBF,EACnBE,KAAMC,EADaH,EACbG,MACdC,EAAKC,SAAL/E,OAAAK,EAAA,EAAAL,CAAA,GAAiB4E,EAAOC,KAZ5BC,EAeEgB,SAAW,SAAA6G,GAAe,IAAZ9H,EAAY8H,EAAZ9H,MACZC,EAAKC,SAAS,CAAEF,WAhBpBC,EAmBEmI,IAAM,SAAAsK,GACJzS,EAAKyS,OAASA,GApBlBzS,EAuBEoV,QAAU,SAAArU,GAER,OADkBf,EAAKjF,MAAfgF,MACK0e,YAAY3L,KAAK,SAAAxI,GAAI,OAAIA,EAAKvJ,OAASA,KAzBxDf,EA4BEqV,YAAc,SAACtU,GACbf,EAAKyS,OAAOO,WAAWjS,IA7B3Bf,EAgCEuV,SAAW,SAAAxU,GAET,OADkBf,EAAKjF,MAAfgF,MACK8S,OAAOC,KAAK,SAAAP,GAAI,OAAIA,EAAKxR,OAASA,KAlCnDf,EAqCE4V,aAAe,SAAC7U,GAAS,IACf0R,EADevX,OAAAwjB,GAAA,EAAAxjB,QAAAwjB,GAAA,EAAAxjB,CAAA8E,IACfyS,OACA1S,EAAU0S,EAAV1S,MACA2V,EAAa3V,EAAb2V,SAGR,GAAa,kBAAT3U,GAAqC,kBAATA,EAA0B,CACxD,IAAMoU,EAAWnV,EAAKuV,SAASxU,GAChBf,EAAKuV,SAAS,aAG3B9C,EACGM,UAAUoC,EAAWoJ,GAAexd,GACpC4d,YAAY,iBACZA,YAAY,iBAEflM,EAAOM,UAAUoC,EAAWoJ,GAAexd,OAExC,CAEL,IAAM6d,EAAS5e,EAAKuV,SAAS,aACvBsJ,EAAS9e,EAAM8S,OAAOC,KAAK,SAAAngB,GAC/B,QAAS+iB,EAASoJ,WAAWnsB,EAAM0Q,IAAK,SAAAmS,GAAM,OAAIA,EAAOzU,OAASA,MAGhE6d,GAAUC,EACZpM,EACGM,UAAUwL,IACVI,YAAY,iBACZA,YAAY,iBACNC,EACTnM,EACGkM,YACU,kBAAT5d,EAA2B,gBAAkB,iBAE9Cge,UAAUhe,GAEb0R,EAAOM,UAAU,aAAagM,UAAUhe,KA1EhDf,EA+EE5G,WA/EF,eAAA0T,EAAA5R,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KA+Ee,SAAApK,EAAM7G,GAAN,IAAA2lB,EAAA1f,EAAArB,EAAA,OAAAkC,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACLye,EAAa,CACjB/Y,MAAOjG,EAAKjF,MAAMkL,MAClBsQ,OAAQvW,EAAKjF,MAAMwb,OACnBjX,KAAML,KAAKE,UAAUa,EAAKjF,MAAMgF,MAAMkf,WAJ7B5e,EAAAE,KAAA,EAMQvI,GAAIoB,WAAWC,EAAI2lB,GAN3B,cAML1f,EANKe,EAAAI,KAOLxC,EAAWpD,GAAOiC,iBAAiBwC,EAAK1F,KAAMoG,EAAKtN,MAAMqI,OAC/DiF,EAAKtN,MAAM8kB,0BAA0BvZ,GAR1BoC,EAAAE,KAAA,EASLP,EAAKtN,MAAMumB,WATN,wBAAA5Y,EAAAM,SAAAT,EAAAU,SA/Ef,gBAAAiM,GAAA,OAAAC,EAAAnG,MAAA/F,KAAAgG,YAAA,GAAA5G,EA2FE9G,WA3FFgC,OAAAmP,EAAA,EAAAnP,CAAAiF,EAAAlM,EAAAqW,KA2Fe,SAAAyC,IAAA,IAAAS,EAAAyL,EAAAle,EAAA1B,EAAA2lB,EAAApiB,EAAAqB,EAAA,OAAAkC,EAAAlM,EAAAmM,KAAA,SAAA6M,GAAA,cAAAA,EAAA3M,KAAA2M,EAAA1M,MAAA,cAAAiN,EACiBxN,EAAKtN,MAAzBumB,EADGzL,EACHyL,SAAUle,EADPyS,EACOzS,MACZ1B,EAAK2G,EAAKjF,MAAMC,QAAQI,KAAO4E,EAAKjF,MAAMC,QAChDb,QAAQC,IAAIf,GACN2lB,EAAa,CACjBxe,UAAWR,EAAKtN,MAAM8N,UACtB7E,UAAWqE,EAAKjF,MAAMC,QAAQI,KAAO4E,EAAKjF,MAAMC,QAChDiL,MAAOjG,EAAKjF,MAAMkL,MAClBsQ,OAAQvW,EAAKjF,MAAMwb,OACnBjX,KAAML,KAAKE,UAAUa,EAAKjF,MAAMgF,MAAMkf,WAT7BhS,EAAA1M,KAAA,EAWWvI,GAAIkB,WAAW8lB,GAX1B,cAWLpiB,EAXKqQ,EAAAxM,KAAAwM,EAAA1M,KAAA,EAYY1F,GAAO8B,iBAAiBtD,EAAIuD,EAAQhD,KAAMmB,GAZtD,OAYLkD,EAZKgP,EAAAxM,KAaPwY,GAAUjZ,EAAKtN,MAAMumB,WACzBjZ,EAAKtN,MAAM8kB,0BAA0BvZ,GAd1B,yBAAAgP,EAAAtM,SAAAoM,EAAAnM,SA3FfZ,EAAA,OAAA9E,OAAA2L,EAAA,EAAA3L,CAAAsjB,EAAA3U,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAAsjB,EAAA,EAAAnb,IAAA,SAAAtD,MAAA,WA6GI,OACEa,KAAKlO,MAAM0B,SAAS,CAClB8E,WAAY0H,KAAK1H,WACjBwG,kBAAmBkB,KAAKlB,kBACxB6V,SAAU3U,KAAK2U,SACfH,QAASxU,KAAKwU,QACdpU,SAAUJ,KAAKI,SACf4U,aAAchV,KAAKgV,aACnBP,YAAazU,KAAKyU,YAClBlN,IAAKvH,KAAKuH,IACVpN,MAAO6F,KAAK7F,MACZ3B,WAAYwH,KAAKxH,iBAxHzBolB,EAAA,CAAgCjd,uLCEhC,IAAM2d,GAAkB3sB,IAAO8B,IAAV8qB,MA0VNC,8MA/UbrkB,MAAQiF,EAAKtN,MAAM8L,QAAQ/F,MACvBuH,EAAKtN,MAAM8L,QAAQ/F,MACnB,CACAgD,QAAQ,EACRqH,SAAS,EACTzH,SAAU2E,EAAKtN,MAAMqH,YAAYsB,SACjCY,MAAO+D,EAAKtN,MAAMqH,YAAYkC,MAC9BhB,aAAc+E,EAAKtN,MAAMqH,YAAYkB,aACrCiL,UAAU,EACVmZ,YAAY,EACZC,gBAAiB,GACjBC,cAAe,GACfC,WAAY,GACZC,gBAAgB,EAChBC,eAAe,KAiBnBC,eAAiB,SAAApjB,GACfyD,EAAKC,SAAS1D,MAGhBib,gEAA4B,SAAAtX,EAAM3D,GAAN,OAAA4D,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACpBP,EAAKC,SAAS1D,GADM,OAE1ByD,EAAKka,YAFqB,wBAAA7Z,EAAAM,SAAAT,EAAAU,iEAK5BoC,sBAAwB,WAAM,IAAAuH,EACKvK,EAAKjF,MAChCkD,EAAW,CACfiI,UAH0BqE,EACpBrE,SAGNmZ,YAJ0B9U,EACV8U,YAKlBrf,EAAK2f,eAAe1hB,MAGtBmJ,gBAAkB,SAAApM,GAChBgF,EAAKC,SAAS,CACZsf,cAAevkB,EACf0kB,eAAgB1f,EAAKjF,MAAM2kB,cAC3BD,gBAAgB,EAChBJ,YAAarf,EAAKjF,MAAMskB,gBAI5B5W,iBAAmB,SAACzN,EAASsE,GAC3BU,EAAKC,SAAS,CACZsf,cAAevkB,EACfwkB,WAAYlgB,EACZogB,eAAe,EACfD,gBAAiBzf,EAAKjF,MAAM0kB,eAC5BJ,YAAarf,EAAKjF,MAAMskB,gBAI5Bpc,oDAAgB,SAAA8J,EAAM1T,GAAN,OAAA8G,EAAAlM,EAAAmM,KAAA,SAAA6M,GAAA,cAAAA,EAAA3M,KAAA2M,EAAA1M,MAAA,OACdP,EAAKwX,0BAALtc,OAAAK,EAAA,EAAAL,CAAA,GAAkC7B,GAAM2G,EAAKjF,MAAM1B,KADrC,wBAAA4T,EAAAtM,SAAAoM,EAAAnM,iEAIhBmC,iBAAmB,SAAA1J,GACjB,IAAMkD,EAAc,GAChBlD,GACFkD,EAAY+iB,gBAAkBjmB,EAC9BkD,EAAYuG,SAAU,GAEnBvG,EAAYuG,SAAU,EAC3B9C,EAAKwX,0BAA0Bjb,MAGjCsG,oCAAiB,SAAAuK,IAAA,IAAA7Q,EAAA,OAAA4D,EAAAlM,EAAAmM,KAAA,SAAAiN,GAAA,cAAAA,EAAA/M,KAAA+M,EAAA9M,MAAA,OACThE,EAAc1B,GAAOyB,kBAAkB0D,EAAKjF,MAAME,cACxD+E,EAAKwX,0BAA0Bjb,GAFhB,wBAAA8Q,EAAA1M,SAAAyM,EAAAxM,WAOjBF,wDAAoB,SAAAkf,EAAOC,EAAS7kB,GAAhB,IAAAuB,EAAA,OAAA4D,EAAAlM,EAAAmM,KAAA,SAAA0f,GAAA,cAAAA,EAAAxf,KAAAwf,EAAAvf,MAAA,UACF,YAAZsf,EADc,CAAAC,EAAAvf,KAAA,eAEVhE,EAAc1B,GAAOC,oBAAoBkF,EAAKjF,MAAOC,IAE/CA,EAAQI,MAAO,EAJX0kB,EAAAvf,KAAA,EAKVP,EAAKC,SAAS1D,GALJ,OAMhByD,EAAKka,YANW4F,EAAAvf,KAAA,eAQbP,EAAKC,SAAS,CAAExE,QAASuE,EAAKjF,MAAMU,SARvB,wBAAAqkB,EAAAnf,SAAAif,EAAAhf,mEAcpBlH,iDAAa,SAAAqmB,EAAOvmB,EAAQmC,EAAWG,GAA1B,IAAAmC,EAAA,OAAAkC,EAAAlM,EAAAmM,KAAA,SAAA4f,GAAA,cAAAA,EAAA1f,KAAA0f,EAAAzf,MAAA,cACLtC,EAAWpD,GAAO2B,iBAAiBhD,EAAQmC,EAAWG,EAAOkE,EAAKjF,OAD7DilB,EAAAzf,KAAA,EAELvI,GAAI0B,WAAWF,GAFV,OAGXwG,EAAKwX,0BAA0BvZ,GAHpB,wBAAA+hB,EAAArf,SAAAof,EAAAnf,qEAMbqf,YAAc,SAAAziB,GACO,YAAfA,EAAMuD,MAAoBf,EAAKC,SAAS,CAAE4a,UAAU,OAG1DhJ,gDAAY,SAAAqO,EAAMhQ,GAAN,IAAAjT,EAAAD,EAAAE,EAAA6D,EAAAof,EAAA3iB,EAAAG,EAAAyiB,EAAAniB,EAAA,OAAAkC,EAAAlM,EAAAmM,KAAA,SAAAigB,GAAA,cAAAA,EAAA/f,KAAA+f,EAAA9f,MAAA,cAAA8f,EAAA9f,KAAA,EACJP,EAAKC,SAAS,CAAEgH,SAAS,IADrB,UAEFhK,EAA2CiT,EAA3CjT,YAAaD,EAA8BkT,EAA9BlT,OAAQE,EAAsBgT,EAAtBhT,YAAa6D,EAASmP,EAATnP,KACrC9D,EAHK,CAAAojB,EAAA9f,KAAA,eAAA8f,EAAA9f,KAAA,EAIFP,EAAKC,SAAS,CAAEgH,SAAS,IAJvB,cAAAoZ,EAAAzQ,OAAA,oBAON3S,EAAYmB,cAAgBpB,EAAOoB,aACrCnB,EAAYnB,QAAUkB,EAAOlB,MARrB,CAAAukB,EAAA9f,KAAA,gBAAA8f,EAAA9f,KAAA,GASFP,EAAKC,SAAS,CAAEgH,SAAS,IATvB,eAAAoZ,EAAAzQ,OAAA,qBAcG,YAAT7O,EAdM,CAAAsf,EAAA9f,KAAA,gBAeFtC,EAAWpD,GAAOwC,qBAAqB2C,EAAKjF,MAAOiC,EAAQC,EAAaC,GAftEmjB,EAAA9f,KAAA,GAgBFP,EAAKC,SAAShC,GAhBZ,eAiBR+B,EAAKka,YAjBGmG,EAAAzQ,OAAA,qBAqBJpS,EAAQwC,EAAKjF,MAAMM,SAAS2B,EAAOoB,aACnCT,EAASqC,EAAKjF,MAAMM,SAAS4B,EAAYmB,aAG3CZ,IAAUG,EAzBJ,CAAA0iB,EAAA9f,KAAA,gBA0BFtC,EAAWpD,GAAO0C,oBAAoByC,EAAKjF,MAAOyC,EAAOR,EAAQC,EAAaC,GA1B5EmjB,EAAA9f,KAAA,GA2BFP,EAAKC,SAAShC,GA3BZ,eA4BR+B,EAAKka,YA5BGmG,EAAAzQ,OAAA,yBAiCJ3R,EAAWpD,GAAO6C,mBAAmBsC,EAAKjF,MAAOyC,EAAOG,EAAQX,EAAQC,EAAaC,GAjCjFmjB,EAAA9f,KAAA,GAkCJP,EAAKC,SAAShC,GAlCV,eAmCV+B,EAAKka,YAnCKmG,EAAAzQ,OAAA,mCAAAyQ,EAAA1f,SAAAuf,EAAAtf,iEAuCZsZ,+BAAY,SAAAoG,IAAA,IAAAllB,EAAAmlB,EAAAC,EAAA,OAAArgB,EAAAlM,EAAAmM,KAAA,SAAAqgB,GAAA,cAAAA,EAAAngB,KAAAmgB,EAAAlgB,MAAA,cACFnF,EAAQ4E,EAAKtN,MAAM8L,QAAnBpD,WACFmlB,EAAcrlB,OAAOgB,OAAO,GAAdhB,OAAAI,GAAA,EAAAJ,CAAA,GACb8E,EAAKjF,OACV,CAAEmL,UAAU,EAAOe,SAAS,EAAO4T,UAAU,EAAOwE,YAAY,KAE/CpjB,MACbukB,EAAY,CAAE/nB,MAAOwG,KAAKE,UAAUohB,IAPhCE,EAAAlgB,KAAA,EASJvI,GAAIgC,cAAcoB,EAAKolB,GATnB,OAUVxgB,EAAKtN,MAAM+X,eAAezK,EAAKtN,MAAMmD,MAV3B,wBAAA4qB,EAAA9f,SAAA2f,EAAA1f,WAaZ+P,yDAAqB,SAAA+P,EAAMjjB,GAAN,IAAAQ,EAAA,OAAAkC,EAAAlM,EAAAmM,KAAA,SAAAugB,GAAA,cAAAA,EAAArgB,KAAAqgB,EAAApgB,MAAA,OACbtC,EADa/C,OAAAI,GAAA,EAAAJ,CAAA,GAEd8E,EAAKjF,MAFS,CAGjBM,SAASH,OAAAI,GAAA,EAAAJ,CAAA,GACJ8E,EAAKjF,MAAMM,SADRH,OAAAK,EAAA,EAAAL,CAAA,GAELuC,EAAWrC,IAFNF,OAAAI,GAAA,EAAAJ,CAAA,GAGD8E,EAAKjF,MAAMM,SAASoC,EAAWrC,KAH9B,CAIJ2L,MAAOtJ,EAAWsJ,MAClB0I,WAAYhS,EAAWgS,WACvBzI,SAAUvJ,EAAWuJ,eAI3BhH,EAAKC,SAAShC,GACd+B,EAAKka,YAdc,wBAAAyG,EAAAhgB,SAAA+f,EAAA9f,kJAlJnB,IAAKA,KAAKlO,MAAM8L,QAAQ/F,MAAO,CAI7B,IAJ6B,IACrB4C,EAAauF,KAAKlO,MAAMqH,YAAxBsB,SACFulB,EAAY1lB,OAAO2lB,KAAKxlB,GACxBylB,EAAW,GACR1kB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAE1B0kB,EADgBF,EAAUxkB,KACN,EAEtBwE,KAAKX,SAAS6gB,qCA2JT,IAAAvT,EAAA3M,KAAAmgB,EACyBngB,KAAKlO,MAAM8L,QAAnCyH,EADD8a,EACC9a,MAAO7K,EADR2lB,EACQ3lB,IAAK+O,EADb4W,EACa5W,QACd9O,EAAWuF,KAAK7F,MAAME,aACzBmI,IAAI,SAAApI,GAAO,OAAAE,OAAAI,GAAA,EAAAJ,CAAA,GACLqS,EAAKxS,MAAMM,SAASL,MAG7B,OACEhH,EAAAC,EAAAC,cAAC4T,EAAA,EAAD,CACE+J,UAAWjR,KAAKiR,UAChBoO,YAAarf,KAAKqf,YAClBe,aAAcpgB,KAAKogB,cAEnBhtB,EAAAC,EAAAC,cAAC6d,GAAD,CACEnc,cAAegL,KAAKlO,MAAMkD,cAC1BiN,eAAgBjC,KAAKiC,eACrBpH,OAAQmF,KAAK7F,MAAMU,OACnBqH,QAASlC,KAAK7F,MAAM+H,QACpBoD,SAAUtF,KAAK7F,MAAMmL,SACrBpQ,OAAQ8K,KAAKlO,MAAMoD,OACnBiQ,KAAMnF,KAAKlO,MAAMqT,KACjBhQ,SAAU6K,KAAKlO,MAAMqD,SACrByK,UAAWpF,EACXC,SAAUA,EACV2K,SAAUmE,EACVlE,MAAK,YAAA3M,OAAc2M,GACnBlD,iBAAkBnC,KAAKmC,iBACvBC,sBAAuBpC,KAAKoC,sBAC5BC,cAAerC,KAAKqC,cACpBvC,kBAAmBE,KAAKF,kBACxB1K,gBAAiB4K,KAAKlO,MAAMsD,gBAC5BH,KAAM+K,KAAKlO,MAAMmD,MAGhB+K,KAAK7F,MAAMmL,UACVlS,EAAAC,EAAAC,cAACgrB,GAAD,KACElrB,EAAAC,EAAAC,cAAC8kB,GAAD,CACExB,0BAA2B5W,KAAK4W,0BAChCyB,SAAUrY,KAAKoC,sBACfxC,UAAWpF,EACXL,MAAO6F,KAAK7F,OAEX,SAAAoe,GAAK,OACJnlB,EAAAC,EAAAC,cAAC+sB,GAAD,CACE9H,MAAOA,EACP9d,SAAUA,EACV2H,sBAAuBuK,EAAKvK,2BAOrCpC,KAAK7F,MAAM2kB,eACV1rB,EAAAC,EAAAC,cAAC8kB,GAAD,CACEC,SAAUrY,KAAKwG,gBACfoQ,0BAA2B5W,KAAK4W,0BAChChX,UAAWI,KAAKlO,MAAM8L,QAAQpD,IAC9BJ,QAAS4F,KAAK7F,MAAMwkB,cACpBxkB,MAAO6F,KAAK7F,OAEX,SAAAoe,GAAK,OACJnlB,EAAAC,EAAAC,cAACgtB,GAAD,CACE/H,MAAOA,EACPld,MAAOsR,EAAKxS,MAAMwkB,cAAc/jB,QAAQ4H,IAAI,SAAA5J,GAAM,OAAI+T,EAAKxS,MAAMkB,MAAMzC,KACvE4N,gBAAiBmG,EAAKnG,oBAM7BxG,KAAK7F,MAAM0kB,gBACVzrB,EAAAC,EAAAC,cAAC8kB,GAAD,CACEC,SAAUrY,KAAK6H,iBACf+O,0BAA2B5W,KAAK4W,0BAChCzc,MAAO6F,KAAK7F,MACZC,QAAS4F,KAAK7F,MAAMwkB,cACpBjgB,KAAML,KAAKC,MAAM0B,KAAK7F,MAAMykB,WAAWlgB,MACvC2G,MAAOrF,KAAK7F,MAAMykB,WAAWvZ,MAC7BsQ,OAAQ3V,KAAK7F,MAAMykB,WAAWjJ,QAE7B,SAAA4C,GAAK,OACJnlB,EAAAC,EAAAC,cAACitB,GAAD,CACEhI,MAAOA,EACP7Z,KAAMiO,EAAKxS,MAAMykB,WACjBvjB,MAAOsR,EAAKxS,MAAMwkB,cAAc/jB,QAAQ4H,IAAI,SAAA5J,GAAM,OAAI+T,EAAKxS,MAAMkB,MAAMzC,KACvEiP,iBAAkB8E,EAAK9E,qBAK9B7H,KAAK7F,MAAMskB,YACVrrB,EAAAC,EAAAC,cAACktB,GAAD,KACGxgB,KAAK7F,MAAM+H,QAER9O,EAAAC,EAAAC,cAACgT,EAAA,SAAD,KACElT,EAAAC,EAAAC,cAACmtB,GAAD,CACE3nB,WAAYkH,KAAKlH,WACjB8d,0BAA2B5W,KAAK4W,0BAChC/M,eAAgB7J,KAAKlO,MAAM+X,eAC3BwP,gBAAiBrZ,KAAK7F,MAAMkf,gBAC5Bf,aAActY,KAAK7F,MAAMme,aACzBgB,UAAWtZ,KAAKsZ,UAChBnf,MAAO6F,KAAK7F,MACZC,QAAS4F,KAAK7F,MAAMM,SAASuF,KAAK7F,MAAMukB,iBACxCjkB,SAAUA,EACVY,MAAO2E,KAAK7F,MAAMM,SAASuF,KAAK7F,MAAMukB,iBAAiB9jB,QACpD4H,IAAI,SAAA5J,GAAM,OAAK+T,EAAKxS,MAAMkB,MAAMzC,KACnCuJ,iBAAkBnC,KAAKmC,iBACvBlN,KAAM+K,KAAKlO,MAAMmD,QAIrB7B,EAAAC,EAAAC,cAAC+d,GAAD,CACExH,eAAgB7J,KAAKlO,MAAM+X,eAC3BkG,mBAAoB/P,KAAK+P,mBACzB5P,KAAK,WAEJ,SAAAiH,GAAQ,OACPuF,EAAKxS,MAAME,aAAamI,IAAI,SAACzH,EAAWG,GACtC,IAAMd,EAAUuS,EAAKxS,MAAMM,SAASM,GAC9BM,EAAQjB,EAAQQ,QAAQ4H,IAAI,SAAA5J,GAAM,OAAI+T,EAAKxS,MAAMkB,MAAMzC,KAC7D,OAAO+T,EAAKxS,MAAMC,EAAQI,MACxBpH,EAAAC,EAAAC,cAACotB,GAADpmB,OAAAgB,OAAA,GACM8L,EADN,CAEEtO,WAAY6T,EAAK7T,WACjBmhB,SAAUtN,EAAKxS,MAAM8f,SACrBrD,0BAA2BjK,EAAKiK,0BAChC/M,eAAgB8C,EAAK7a,MAAM+X,eAC3B3O,MAAOA,EACPuH,IAAKrI,EAAQI,IACb8e,UAAW3M,EAAK2M,UAChBnf,MAAOwS,EAAKxS,MACZC,QAASA,EACTiB,MAAOA,EACP8G,iBAAkBwK,EAAKxK,iBACvBqE,gBAAiBmG,EAAKnG,gBACtBqB,iBAAkB8E,EAAK9E,iBACvBxF,cAAesK,EAAKtK,cACpBpN,KAAM0X,EAAK7a,MAAMmD,sBApUvB0L,aCRlBggB,IAAkB,EAEhBC,GAAe,SAAA3Z,GAAA,IAActG,EAAdsG,EAAG4Z,UAAyBC,EAA5BxmB,OAAAymB,EAAA,EAAAzmB,CAAA2M,EAAA,sBACnB7T,EAAAC,EAAAC,cAAC0tB,EAAA,EAAUF,EACR,SAAAG,GAAU,OACTN,GACIvtB,EAAAC,EAAAC,cAACqN,EAAcsgB,GACf7tB,EAAAC,EAAAC,cAAC4tB,EAAA,EAAD,CAAU1rB,GAAG,SAmKR2rB,8MA7JbhnB,MAAQ,CACN+D,SAAU,GACVjJ,KAAM,KACNoR,SAAS,EACT+a,UAAWle,GAAOkB,WAClBjP,SAAU,WAOZC,gBAAkB,SAAAisB,GAChB,IAAInB,EAAW,GACG,WAAdmB,IACFnB,EAASkB,UAAYle,GAAOkB,WAC5B8b,EAAS/qB,SAAW,SAEJ,UAAdksB,IACFnB,EAASkB,UAAYle,GAAOC,UAC5B+c,EAAS/qB,SAAW,UAEJ,WAAdksB,IACFnB,EAASkB,UAAYle,GAAOmB,WAC5B6b,EAAS/qB,SAAW,UAEtBiK,EAAKC,SAAS6gB,MAGhBrW,qDAAiB,SAAAvK,EAAOgiB,GAAP,IAAApjB,EAAAjJ,EAAAsY,EAAApU,EAAAqD,EAAA2B,EAAAojB,EAAAC,EAAA,OAAAjiB,EAAAlM,EAAAmM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACXzB,EAAW,GAGX/E,EAAc,GACdqD,EAAe,GACf2B,EAAmB,GAJnBlJ,EAAOqsB,EAFI,CAAA7hB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAUgBvI,GAAIC,UAVpB,OAULkqB,EAVK9hB,EAAAI,KAaX5K,EAAOssB,EAAavoB,KAbTyG,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAsK,GAAAtK,EAAA,SAgBX8N,EAAK9N,EAAAsK,GAhBM,WAmBVwD,IAAStY,EAAKuF,IAnBJ,CAAAiF,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAoBavI,GAAI6B,cApBjB,QAoBPuoB,EApBO/hB,EAAAI,MAqBb3B,EAAWsjB,EAAYxoB,MAEdyF,QAAQ,SAAAb,GACXA,EAAQ/F,MACVsB,EAAY6E,KAAKN,GAAMc,gBAAgBZ,IAGvCzE,EAAY6E,KAAKN,GAAMC,kBAAkBC,MAG7BpB,EAAZvH,EAAK4C,MAAsBwG,KAAKC,MAAMrJ,EAAK4C,OAC3B5C,EAAKiJ,SAEzBC,EAAmBT,GAAMO,mBAAmBC,GAE5CyiB,IAAkB,EApCL,QAuCfvhB,EAAKC,SAAS,CACZlG,cACAqD,eACA2B,mBACAkI,SAAS,EACTnI,WACAjJ,SA7Ca,yBAAAwK,EAAAM,SAAAT,EAAAU,KAAA,qEAiDjB9K,OAAS,SAAA6J,GACHA,GAAOA,EAAMgT,iBACjB3a,GAAIlC,SACJyrB,IAAkB,EAClBvhB,EAAKC,SAAS,CAAEpK,KAAM,2FAzEtB+K,KAAK6J,kDA4EE,IAAA8C,EAAA3M,KAEP,OACE5M,EAAAC,EAAAC,cAACmuB,EAAA,EAAD,CAAexvB,MAAO+N,KAAK7F,MAAMinB,WAC/BhuB,EAAAC,EAAAC,cAACouB,EAAA,EAAD,KACEtuB,EAAAC,EAAAC,cAACquB,EAAA,EAAD,KACEvuB,EAAAC,EAAAC,cAAC0tB,EAAA,EAAD,CAAOY,OAAK,EAACC,KAAK,KACf,SAAAZ,GACC,OAAItU,EAAKxS,MAAMkM,QAAgB,KAE7BjT,EAAAC,EAAAC,cAACwuB,GAADxnB,OAAAgB,OAAA,GACM2lB,EADN,CAEEjsB,cAAe2rB,GACfnkB,aAAcmQ,EAAKxS,MAAMqC,aACzB2B,iBAAkBwO,EAAKxS,MAAMgE,iBAC7BlJ,KAAM0X,EAAKxS,MAAMlF,KACjBiJ,SAAUyO,EAAKxS,MAAM+D,SACrB2L,eAAgB8C,EAAK9C,eACrB3U,OAAQyX,EAAKzX,OACbmR,QAASsG,EAAKxS,MAAMkM,QACpB+a,UAAWzU,EAAKxS,MAAMinB,UACtBjsB,SAAUwX,EAAKxS,MAAMhF,SACrBC,gBAAiBuX,EAAKvX,qBAM7B4K,KAAK7F,MAAM+D,SAASzC,OAAS,GAE1BuE,KAAK7F,MAAM+D,SAASsE,IAAI,SAAC5E,EAAS1C,GAAV,OACtB9H,EAAAC,EAAAC,cAACyuB,GAAD,CACEtf,IAAK7E,EAAQpD,IACbqnB,KAAI,IAAAnpB,OAAMkF,EAAQ4L,MAClBqX,WC3IYmB,ED2IexD,GC3IGyD,ED2IM,CAClCjtB,cAAe2rB,GACf1rB,KAAM0X,EAAKxS,MAAMlF,KACjB2I,QAASA,EACTzE,YAAawT,EAAKxS,MAAMhB,YAAY+B,GACpC2O,eAAgB8C,EAAK9C,eACrB3U,OAAQyX,EAAKzX,OACbmR,QAASsG,EAAKxS,MAAMkM,QACpB+a,UAAWzU,EAAKxS,MAAMinB,UACtBjsB,SAAUwX,EAAKxS,MAAMhF,SACrBC,gBAAiBuX,EAAKvX,iBCpJ1C,SAAA6T,GAAA,SAAAiZ,IAAA,OAAA5nB,OAAAsL,EAAA,EAAAtL,CAAA0F,KAAAkiB,GAAA5nB,OAAAuL,EAAA,EAAAvL,CAAA0F,KAAA1F,OAAAwL,EAAA,EAAAxL,CAAA4nB,GAAAnc,MAAA/F,KAAAgG,YAAA,OAAA1L,OAAA2L,EAAA,EAAA3L,CAAA4nB,EAAAjZ,GAAA3O,OAAA4L,EAAA,EAAA5L,CAAA4nB,EAAA,EAAAzf,IAAA,SAAAtD,MAAA,WAGM,IAAIrN,EAAQwI,OAAOgB,OAAO,GAAI0E,KAAKlO,MAAOmwB,GAC1C,OAAO7uB,EAAAC,EAAAC,cAAC0uB,EAAqBlwB,OAJnCowB,EAAA,CACsBvhB,gBAFO,IAACqhB,EAAkBC,ID2JtC7uB,EAAAC,EAAAC,cAAC0tB,EAAA,EAAD,CACEa,KAAK,IACLM,OAAQ,SAAAlB,GAAU,OACftU,EAAKxS,MAAMkM,SACZjT,EAAAC,EAAAC,cAAC8uB,GAAD9nB,OAAAgB,OAAA,GACM2lB,EADN,CAEEjsB,cAAe2rB,GACfzrB,OAAQyX,EAAKzX,OACbmR,QAASsG,EAAKxS,MAAMkM,QACpB+a,UAAWzU,EAAKxS,MAAMinB,UACtBjsB,SAAUwX,EAAKxS,MAAMhF,SACrBC,gBAAiBuX,EAAKvX,gCAnJtBuL,aEjBlB0hB,IAASF,OAAO/uB,EAAAC,EAAAC,cAACgvB,GAAD,MAASxN,SAASyN,eAAe","file":"static/js/main.0070f4c8.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  display: ${props => props.block ? 'block' : 'inline'};\r\n  font-family: ${props => props.fancy ? props.theme.typeface : 'default'};\r\n  font-weight: ${props => props.bold ? 'bold' : 'normal'};\r\n  margin: ${props => props.margin};\r\n  position: ${props => props.position ? props.position : \"relative\"};\r\n  top: ${props => props.top};\r\n  bottom: ${props => props.bottom};\r\n  left: ${props => props.left};\r\n  right: ${props => props.right};\r\n  color: ${props => props.black ? props.theme.black : props.theme.links};\r\n  font-size: ${props => props.size ? props.size : '1.3rem'};\r\n  text-decoration: ${props => props.underline ? 'underline' : 'none'};\r\n  line-height: ${props => props.lineHeight};\r\n  padding: ${props => props.padding};\r\n  background: transparent;\r\n  outline: transparent;\r\n  border: none;\r\n  cursor: pointer;\r\n  &:hover, &:focus {\r\n    color: ${props => (\r\n    props.delete\r\n      ? props.theme.deleteLinkHover\r\n      : props.theme.linkHover\r\n  )};\r\n  }\r\n  &:disabled {\r\n    cursor: default;\r\n    opacity: 0.6;\r\n  }\r\n  &:disabled:hover {\r\n    color: inherit;\r\n  }\r\n`;\r\n\r\n\r\nexport const LinkBtn = props => {\r\n  return (\r\n    <Button {...props}>{props.children}</Button>\r\n  )\r\n};","import React from \"react\";\nimport styled from 'styled-components';\n\nconst Outer = styled.div`\n  display: flex;\n  position: fixed;\n  z-index: 99;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgb(0, 0, 0);\n  background-color: rgba(0, 0, 0, 0.4);\n`;\n\nconst Content = styled.div`\n  max-width: 60%;\n  min-width: 300px;\n  position: relative;\n  background-color: ${props => props.theme.modalBG};\n  margin: auto;\n  padding: 0;\n  border: 1px solid ${props => props.theme.links};\n  box-shadow: 0 0 10px #fff, 0 0 10px #cacaca, 0 0 20px #a3a3a3, 0 0 30px #777777;\n  animation-name: fadein;\n  animation-duration: 0.4s;\n  border-radius: 12px;\n  color: ${props => props.theme.modalColor};\n  font-size: 1.8rem;\n  font-weight: bold;\n  @keyframes fadein {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst Button = styled.button`\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  color: ${props => props.theme.buttonBG};\n  font-size: 20px;\n  outline: transparent;\n  background-color: transparent;\n  border: none;\n  &:hover, &:focus {\n    color: black;\n    text-decoration: none;\n    cursor: pointer;\n  }\n`;\n\nconst Body = styled.div`\n  max-width: 100%;\n  margin: auto;\n  padding: 40px 30px 30px 30px;\n  z-index: 999;\n`;\n\nconst Buttons = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n  button, a {\n    font-size: 1.8rem;\n    border: 1px solid ${props => props.theme.buttonBG};\n    padding: 7px 14px;\n    margin-top: 20px;\n    border-radius: 5px;\n    color: #fff;\n    cursor: pointer;\n    box-shadow: 0 0 20px 20px ${props => props.theme.buttonBG} inset, 0 0 0 0 ${props => props.theme.buttonBG};\n\t  transition: all 150ms ease-in-out;\n\t  text-decoration: none;\n  }\n  button:hover, a:hover {\n    background-color: ${props => props.theme.buttonHoverBG};\n    box-shadow: 0 0 5px ${props => props.theme.buttonBG} inset, 0 0 5px ${props => props.theme.buttonBG};\n    color: ${props => props.theme.buttonHoverColor};\n  }\n`;\n\nexport const Modal = props => (\n  <React.Fragment>\n    {props.show\n      ? (\n        <Outer className=\"modal\" id=\"modal\" onClick={props.outsideClick}>\n          <Content className=\"modal-content\" style={props.style}>\n            <Button className=\"modal-close\" onClick={props.closeModal}>&times;</Button>\n            <Body className=\"modal-body\">\n              {props.body}\n              <Buttons className=\"modal-btn-div\">\n                {props.buttons}\n              </Buttons>\n            </Body>\n          </Content>\n        </Outer>\n      )\n      : null}\n  </React.Fragment>\n);","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst NavContainer = styled.div`\r\n  grid-row: 1;\r\n  grid-column: 1 / 4;\r\n  min-width: 100%;\r\n  height: 30px;\r\n  position: fixed;\r\n  top: 0;\r\n  background-color: ${props => props.theme.pageBG};\r\n  z-index: 99999;\r\n`;\r\n\r\nconst NavInner = styled.div`\r\n  width: 1000px;\r\n  margin: auto;\r\n  height: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 0 20px;\r\n  a, button {\r\n    font-size: 1.6rem;\r\n    font-weight: bold;\r\n    font-family: ${props => props.theme.typeface};\r\n    color: ${props => props.theme.links};\r\n  }\r\n  a:hover, button:hover {\r\n    color: ${props => props.theme.linkHover};\r\n  }\r\n  a, button, h3 {\r\n     padding: 0 10px;\r\n  }\r\n  a {\r\n     border-right: 1px solid ${props => props.theme.mainColor};\r\n  }\r\n  h3 {\r\n    font-size: 1.8rem;\r\n    font-weight: bold;\r\n    color: ${props => props.theme.mainColor};\r\n    align-self: center;\r\n  }\r\n`;\r\n\r\nconst LinkContainer = styled.div`\r\n  align-self: center;\r\n`;\r\n\r\nconst ModeButton = styled.button`\r\n  padding: 0 20px 0 0;\r\n  margin: 0;\r\n  background: transparent;\r\n  border: none;\r\n  outline: transparent;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 7px;\r\n  right: 0;\r\n  font-size: 1.6rem;\r\n  font-weight: bold;\r\n  font-family: ${props => props.theme.typeface};\r\n  color: ${props => props.theme.links};\r\n  &:hover {\r\n    color: ${props => props.theme.linkHover};\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 0;\r\n  margin: 0;\r\n  background: transparent;\r\n  border: none;\r\n  outline: transparent;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const Navbar = props => {\r\n  const { authenticated, user, logout, nextMode, toggleStyleMode } = props;\r\n  return (\r\n    <NavContainer>\r\n      <NavInner>\r\n        {authenticated && (\r\n          <React.Fragment>\r\n            <h3>Hello, {user.username}!</h3>\r\n\r\n            <LinkContainer>\r\n              <Link to=\"/\">Home</Link>\r\n              <Button onClick={logout}>Logout</Button>\r\n            </LinkContainer>\r\n\r\n          </React.Fragment>\r\n        )}\r\n      </NavInner>\r\n\r\n      <ModeButton onClick={() => toggleStyleMode(nextMode)}>Toggle {nextMode} Mode</ModeButton>\r\n    </NavContainer>\r\n  );\r\n};","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst InputField = styled.input`\r\n  display: block;\r\n  border: 2px solid ${props => props.theme.links};\r\n  background-color: ${props => props.theme.fieldBG};\r\n  color: ${props => props.theme.fieldColor};\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  width: 100%;\r\n  margin-bottom: 5px;\r\n  outline: transparent;\r\n  box-shadow: ${props => props.theme.fieldShadow};\r\n`;\r\n\r\nexport const Input = props => (\r\n  <InputField {...props} />\r\n);","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst TextField = styled.textarea`\r\n  display: block;\r\n  border: 2px solid ${props => props.theme.links};\r\n  background-color: ${props => props.theme.fieldBG};\r\n  box-shadow: ${props => props.theme.fieldShadow};\r\n  color: ${props => props.theme.fieldColor};\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  min-width: 100%;\r\n  max-width: 100%;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nexport const TextArea = props => (\r\n  <TextField {...props} />\r\n);","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst FormButton = styled.button`\r\n  background: transparent;\r\n  border: none;\r\n  border-radius: ${props => props.round ? '5px' : 'none'};\r\n  box-shadow: 0 0 20px 20px ${props => props.theme.buttonBG} inset, 0 0 0 0 ${props => props.theme.buttonBG};\r\n  color: ${props => props.theme.buttonColor};\r\n  cursor: pointer;\r\n  display: ${props => props.center ? 'block' : 'inline'};\r\n  font-size: ${props => props.full && '1.8rem'};\r\n  height: ${props => props.full && '40px'};\r\n  margin: ${props => props.center ? '10px auto 0 auto' : '10px 10px 0 0'};\r\n  outline: transparent;\r\n  padding: 8px 12px;\r\n\ttransition: all 0.2s ease-in-out;\r\n  width: ${props => props.full && '100%'};\r\n\r\n  &:active, &:enabled:hover {\r\n    background-color: ${props => props.theme.buttonHoverBG};\r\n    box-shadow: inset 0 0 5px 3px ${props => props.theme.buttonBG}, 0 0 5px ${props => props.theme.buttonBG};\r\n    color: ${props => props.theme.buttonHoverColor};\r\n  }\r\n  &[disabled] {\r\n    cursor: not-allowed;\r\n    opacity: .6;\r\n  }\r\n  &[disabled]:hover {\r\n    /* border: 2px solid ${props => props.theme.black}; */\r\n    background-color: ${props => props.theme.black};\r\n    box-shadow: inset 0 0 5px 3px ${props => props.theme.black}, 0 0 5px ${props => props.theme.black};\r\n    color: ${props => props.theme.black};\r\n  }\r\n`;\r\n\r\nexport const Button = props => (\r\n  <FormButton {...props}>{props.children}</FormButton>\r\n);","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Dropdown = styled.select`\r\n  display: block;\r\n  border: 2px solid ${props => props.theme.links};\r\n  background-color: ${props => props.theme.fieldBG};\r\n  color: ${props => props.theme.fieldColor};\r\n  border-radius: 5px;\r\n  padding: 5px;\r\n  margin-bottom: 5px;\r\n  outline: transparent;\r\n  box-shadow: ${props => props.theme.fieldShadow};\r\n`;\r\n\r\nexport const Select = props => (\r\n  <Dropdown {...props}>{props.children}</Dropdown>\r\n);","import React from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nconst FormLabel = styled.label`\r\n  display: block;\r\n  padding: 10px 0 5px 0;\r\n  /* font-weight: bold; */\r\n  font-size: 1.7rem;\r\n`;\r\n\r\nexport const Label = props => (\r\n  <FormLabel {...props}>{props.children}</FormLabel>\r\n);","import axios from \"axios\";\n\nexport const API = {\n\n  // USER AUTHENTICATION ROUTES\n  // Get user info\n  getUser: function () {\n    return axios.get('/user');\n  },\n  // Get user info for profile (excludes some data)\n  getUserProfileData: function () {\n    return axios.get('/user/data');\n  },\n  // User updates their own info\n  updateUserInfo: function (userData) {\n    return axios.put('/user/data', userData);\n  },\n\n  updateUserOrder: function (order) {\n    return axios.put('/user/order', order);\n  },\n  // New user signup\n  signup: function (signupData) {\n    return axios.post('/user', signupData);\n  },\n  // User login\n  login: function (loginData) {\n    return axios.post('/user/login', loginData);\n  },\n  // User logout\n  logout: function () {\n    return axios.post('/user/logout');\n  },\n  //  Checks current password and returns error message if incorrect, or changes it if correct\n  changePassword: function (pwData) {\n    return axios.post('/user/change', pwData);\n  },\n\n\n\n  getTexts: function () {\n    return axios.get('/api/text');\n  },\n\n  createText: function (textData) {\n    return axios.post('/api/text', textData);\n  },\n\n  updateText: function (id, textData) {\n    return axios.put(`/api/text/${id}`, textData);\n  },\n\n  updateTextSubject: function (textId, changeData) {\n    return axios.put(`/api/text/subject/${textId}`, changeData);\n  },\n\n  deleteText: function (id) {\n    return axios.delete(`/api/text/${id}`);\n  },\n\n  removeTextImage: function (id, data) {\n    return axios.put(`/api/text/image/${id}`, data);\n  },\n\n\n  getProjects: function () {\n    return axios.get('/api/project');\n  },\n\n  createProject: function (projectData) {\n    return axios.post('/api/project', projectData)\n  },\n\n  updateProject: function (id, projectData) {\n    return axios.put(`/api/project/${id}`, projectData)\n  },\n\n  deleteProject: function (id) {\n    return axios.delete(`/api/project/${id}`);\n  },\n\n  removeProjectImage: function (id, data) {\n    console.log(data);\n    return axios.put(`/api/project/image/${id}`, data);\n  },\n\n\n  getSubjects: function () {\n    return axios.get('/api/subject');\n  },\n\n  getSingleSubject: function (id) {\n    return axios.get(`/api/subject/${id}`);\n  },\n\n  createSubject: function (subjectData) {\n    return axios.post('/api/subject', subjectData);\n  },\n\n  updateSubject: function (id, updateData) {\n    return axios.put(`/api/subject/${id}`, updateData);\n  },\n\n  deleteSubject: function (id) {\n    return axios.delete(`/api/subject/${id}`);\n  },\n\n  removeSubjectImage: function (id, data) {\n    return axios.put(`/api/subject/image/${id}`, data);\n  }\n};\n","import { API } from \"./API\";\n\nexport const Scales = {\n  toggleSubjectHelper: function (state, subject) {\n    const newSubjectOrder = [...state.subjectOrder, subject._id];\n    const newSubjects = {\n      ...state.subjects,\n      [subject._id]: {\n        subject: subject.subject,\n        textIds: [],\n        theme: subject.theme,\n        _id: subject._id\n      }\n    }\n    return {\n      subjectOrder: newSubjectOrder,\n      subjects: newSubjects,\n      create: !state.create\n    }\n  },\n\n  updateSubjectHelper: function (subjectId, subjectContent, state) {\n    const newSubjects = {\n      ...state.subjects,\n      [subjectId]: {\n        ...state.subjects[subjectId],\n        subject: subjectContent.subject,\n        theme: subjectContent.theme\n      }\n    }\n    return { subjects: newSubjects };\n  },\n\n  deleteSubjectHelper: function (subjectId, index, state) {\n    const subjectOrder = Array.from(state.subjectOrder);\n    const textIds = state.subjects[subjectId].textIds;\n    const texts = Object.assign({}, { ...state.texts });\n    const subjects = Object.assign({}, { ...state.subjects });\n    subjectOrder.splice(index, 1);\n\n    for (let i = 0; i < textIds.length; i++)\n      delete texts[textIds[i]];\n\n    delete subjects[subjectId];\n    return {\n      texts,\n      subjects,\n      subjectOrder\n    }\n  },\n\n  clearTopicsHelper: function (subjectOrder) {\n    let stateObject = {};\n    for (let i = 0; i < subjectOrder.length; i++) {\n      stateObject[subjectOrder[i]] = false;\n    }\n    return stateObject;\n  },\n\n  deleteTextHelper: function (textId, subjectId, index, state) {\n    const newTextIds = Array.from(state.subjects[subjectId].textIds);\n    // const newTextIds = state.subjects[subjectId].textIds.map(item => ({ ...item }));\n    newTextIds.splice(index, 1)\n    const newTexts = { ...state.texts };\n    delete newTexts[textId];\n    const newState = {\n      ...state,\n      subjects: {\n        ...state.subjects,\n        [subjectId]: {\n          ...state.subjects[subjectId],\n          textIds: newTextIds\n        }\n      },\n      texts: newTexts\n    }\n    return newState;\n  },\n\n  insertTextHelper: function (subjectId, newText, state) {\n    const newTextIds = Array.from(state.subjects[subjectId].textIds);\n    // const newTextIds = state.subjects[subjectId].textIds.map(item => ({ ...item }));\n    newTextIds.unshift(newText._id);\n    const newSubjects = {\n      ...state.subjects,\n      [subjectId]: {\n        ...state.subjects[subjectId],\n        textIds: newTextIds\n      }\n    };\n    const newTexts = {\n      ...state.texts,\n      [newText._id]: newText\n    };\n    return {\n      subjects: newSubjects,\n      texts: newTexts\n    }\n  },\n\n  updateTextHelper: function (newText, state) {\n    const newTexts = {\n      ...state.texts,\n      [newText._id]: newText\n    };\n    return {\n      texts: newTexts\n    }\n  },\n\n  singleProjectDragon: function (state, source, destination, draggableId) {\n    const newProjectOrder = Array.from(state.projectOrder);\n    newProjectOrder.splice(source.index, 1);\n    newProjectOrder.splice(destination.index, 0, draggableId)\n    const newState = {\n      ...state,\n      projectOrder: newProjectOrder\n    };\n    return newState;\n  },\n\n  dragonSubjectColumns: function (state, source, destination, draggableId) {\n    // create a new subject array that has the same values as the previous subject array:\n    const newSubjectOrder = Array.from(state.subjectOrder)\n    // remove the subject from the array:\n    newSubjectOrder.splice(source.index, 1);\n    // and insert the subject into its new position:\n    newSubjectOrder.splice(destination.index, 0, draggableId);\n    // create a new state with same properties, but new subjectOrder\n    const newState = {\n      ...state,\n      subjectOrder: newSubjectOrder\n    };\n    return newState;\n  },\n\n  singleSubjectDragon: function (state, start, source, destination, draggableId) {\n    const newTextIds = Array.from(start.textIds);\n    newTextIds.splice(source.index, 1);\n    newTextIds.splice(destination.index, 0, draggableId);\n    // create new subject column with the same properties as the old column, but with new textIds.\n    const newSubject = {\n      ...start,\n      textIds: newTextIds\n    };\n    // spread existing state into a new state object, and modify it with the new draggable placement:\n    const newState = {\n      ...state,\n      subjects: {\n        ...state.subjects,\n        [newSubject._id]: newSubject,\n      },\n    };\n    return newState;\n  },\n\n  multiSubjectDragon: function (state, start, finish, source, destination, draggableId) {\n    // first, create a new array from the existing start array:\n    const startTextIds = Array.from(start.textIds);\n    // Then, splice the dragged item from the new start array:\n    startTextIds.splice(source.index, 1);\n    // then create a new column with the dragged item removed:\n    const newStart = {\n      ...start,\n      textIds: startTextIds\n    };\n\n    // Then do the opposite for the destination column:\n    const finishTextIds = Array.from(finish.textIds);\n    finishTextIds.splice(destination.index, 0, draggableId);\n    const newFinish = {\n      ...finish,\n      textIds: finishTextIds,\n    }\n\n    // then create a new state object:\n    const newState = {\n      ...state,\n      subjects: {\n        ...state.subjects,\n        [newStart._id]: newStart,\n        [newFinish._id]: newFinish,\n      }\n    }\n\n    // change the text subject references in the database:\n    const textId = draggableId;\n    const sourceId = source.droppableId;\n    const destinationId = destination.droppableId;\n    const changeObject = {\n      sourceId,\n      destinationId\n    }\n    API.updateTextSubject(textId, changeObject);\n\n    return newState;\n  }\n}","export const Utils = {\n  formatInitialData: function (project) {\n    const initialData = { texts: {}, subjects: {} };\n    const subjectArray = [];\n\n    for (let i = 0; i < project.texts.length; i++) {\n      const element = project.texts[i];\n      initialData.texts[element._id] = element;\n    }\n\n    for (let i = 0; i < project.subjects.length; i++) {\n      const element = project.subjects[i];\n      initialData.subjects[element._id] = element;\n      initialData.subjects[element._id].textIds = element.texts || [];\n      subjectArray.push(element._id);\n    }\n\n    initialData.subjectOrder = subjectArray;\n    return initialData;\n  },\n\n  formatProjectOrder: function (projects) {\n    const projectOrderData = {};\n    const newProjects = JSON.parse(JSON.stringify(projects));\n    for (let i = 0; i < newProjects.length; i++) {\n      const element = newProjects[i];\n      delete element.order;\n      delete element.subjects;\n      delete element.texts;\n      projectOrderData[element._id] = element;\n    }\n    return projectOrderData;\n  },\n\n  addTextsToOrder: function (project) {\n    const order = JSON.parse(project.order);\n    project.order = order;\n    project.order.texts = {};\n    project.texts.forEach(text => {\n      project.order.texts[text._id] = text;\n      project.order.texts[text._id].text = text.text;\n    });\n    return project;\n  }\n}\n\n// const exampleDataStructure = {\n//   texts: {\n//     'text-1._id': {\n//       id: 'text-1._id',\n//       createdAt: 'Date',\n//       updatedAt: 'Date',\n//       thesis: 'thesis',\n//       title: 'title'\n//     },\n//     'text-2._id': {\n//       id: 'text-2._id',\n//       createdAt: 'Date',\n//       updatedAt: 'Date',\n//       thesis: 'thesis',\n//       title: 'title'\n//     },\n//     'text-3._id': {\n//       id: 'text-3._id',\n//       createdAt: 'Date',\n//       updatedAt: 'Date',\n//       thesis: 'thesis',\n//       title: 'title'\n//     },\n//   },\n//   subjects: {\n//     'subject-1._id': {\n//       id: 'subject-1._id',\n//       subject: 'subject-1.subject',\n//       textIds: [{ 'text-1': { text: \"text\" } }, 'text-2', 'text-3'],\n//     },\n//     'subject-2._id': {\n//       id: 'subject-2._id',\n//       subject: 'subject-2.subject',\n//       textIds: [],\n//     },\n//     'subject-3._id': {\n//       id: 'subject-3._id',\n//       subject: 'subject-3.subject',\n//       textIds: [],\n//     },\n//   },\n//   // facilitate reordering of the columns\n//   subjectOrder: ['subject-1._id', 'subject-2._id', 'subject-3._id']\n// }","import React, { Component } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Button, Input, Label, TextArea } from \"./FormElements\";\r\nimport { API } from \"../../utils\";\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  margin: auto;\r\n  padding-top: 8px;\r\n`;\r\n\r\nclass NewSubjectForm extends Component {\r\n  state = {\r\n    subject: '',\r\n    theme: '',\r\n  }\r\n\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  createSubject = async () => {\r\n    const subject = await API.createSubject({\r\n      subject: this.state.subject,\r\n      theme: this.state.theme,\r\n      projectId: this.props.projectId\r\n    });\r\n    this.props.toggleSubjectForm(\"created\", subject.data);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Label>Column Topic:</Label>\r\n        <Input\r\n          name=\"subject\"\r\n          value={this.state.subject}\r\n          type=\"text\"\r\n          onChange={this.handleInputChange}\r\n          placeholder=\"enter topic\"\r\n        />\r\n        <Label>Column Theme:</Label>\r\n        <TextArea\r\n          name=\"theme\"\r\n          value={this.state.theme}\r\n          type=\"text\"\r\n          maxLength=\"100\"\r\n          rows=\"3\"\r\n          onChange={this.handleInputChange}\r\n          placeholder=\"(100 characters max)\"\r\n        />\r\n        <Button\r\n          disabled={!this.state.subject || !this.state.theme}\r\n          onClick={this.createSubject}\r\n        >\r\n          Create\r\n         </Button>\r\n        <Button onClick={this.props.toggleSubjectForm}>Cancel</Button>\r\n      </Container>\r\n    )\r\n  }\r\n};\r\n\r\nexport default NewSubjectForm;","import React from \"react\";\nimport styled from \"styled-components\";\nimport NewSubjectForm from \"../Forms/NewSubjectForm\";\nimport { LinkBtn } from \"./LinkBtn\";\nimport { Button } from \"../Forms/FormElements\";\n\nconst buttonStyle = {\n  marginLeft: \"20px\",\n  marginTop: \"10px\",\n  width: \"120px\"\n}\n\nconst Container = styled.div`\n  min-height: 150px;\n  width: 165px;\n  background: transparent;\n`;\n\nconst HeadingTwo = styled.h2`\n  color: ${props => props.theme.headingColor};\n  padding: 0;\n  margin: 0;\n  font-family: ${props => props.theme.hTypeface};\n  line-height: 1;\n  padding-bottom: 5px;\n  border-bottom: 1px solid ${props => props.theme.headingColor};\n  font-size: 2.3rem;\n  text-shadow: 1px 1px 0 ${props => props.theme.midGrey};\n  /* font-weight: bold; */\n`;\n\nconst Message = styled.p`\n  padding: 10px 0 0 10px;\n`;\n\nconst List = styled.ul`\n  list-style: disc;\n  padding-left: 10px;\n`;\n\nconst ListItem = styled.li`\n  margin-left: 10px;\n`;\n\nconst SubjectList = props => {\n  const {\n    clearAllTopics,\n    create,\n    dragons,\n    toggleDragonText,\n    projectId,\n    subjects,\n    toggleSingleNewEditor,\n    toggleSubject,\n    toggleSubjectForm,\n  } = props;\n\n  return (\n    <Container>\n      <HeadingTwo>\n        Columns {subjects.length > 0 &&\n          <LinkBtn underline onClick={clearAllTopics}> clear all</LinkBtn>}\n      </HeadingTwo>\n\n      {subjects.length === 0\n        ? <Message>You don't have any columns for this project yet.</Message>\n        : dragons\n          ? <Message>click to switch columns:</Message>\n          : <Message>click to toggle on/off:</Message>}\n\n      <List>\n        {subjects.map(subject => (\n          <ListItem key={subject._id}>\n            <LinkBtn\n              underline\n              fancy\n              size=\"1.5rem\"\n              lineHeight=\"1.5\"\n              onClick={\n                dragons\n                  ? () => toggleDragonText(subject._id)\n                  : () => toggleSubject(subject._id)\n              }\n            >\n              {subject.subject}\n            </LinkBtn>\n          </ListItem>\n        ))}\n      </List>\n\n      {create\n        ? (\n          <NewSubjectForm\n            toggleSubjectForm={toggleSubjectForm}\n            projectId={projectId}\n          />\n        ) : (\n          <React.Fragment>\n              <Button onClick={toggleSubjectForm} style={buttonStyle}>\n                New Column\n            </Button>\n            <Button onClick={toggleSingleNewEditor} style={buttonStyle}>\n              New Item\n            </Button>\n          </React.Fragment>\n        )}\n    </Container>\n  )\n};\n\nexport default SubjectList;","import styled from \"styled-components\";\r\n\r\nconst Spinner = styled.span`\r\n  position: absolute;\r\n  top: ${props => props.top};\r\n  right: ${props => props.right};\r\n  left: ${props => props.left};\r\n  width: ${props => props.size};\r\n  height: ${props => props.size};\r\n\r\n  border: solid 2px transparent;\r\n  border-top-color: ${props => props.black ? props.theme.black : props.theme.mainColor};\r\n  border-left-color: ${props => props.black ? props.theme.black : props.theme.mainColor};\r\n  border-radius: 50%;\r\n\r\n  -webkit-animation: spinner 400ms linear infinite;\r\n  animation: spinner 400ms linear infinite;\r\n  @-webkit-keyframes spinner {\r\n    0%   { -webkit-transform: rotate(0deg); }\r\n    100% { -webkit-transform: rotate(360deg); }\r\n  }\r\n  @keyframes spinner {\r\n    0%   { transform: rotate(0deg); }\r\n    100% { transform: rotate(360deg); }\r\n  }\r\n`;\r\n\r\nexport {\r\n  Spinner,\r\n}","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p,\r\n  blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em,\r\n  img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u,\r\n  i, center, dl, dt, dd, fieldset, form, label, legend, table,\r\n  caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details,\r\n  embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby,\r\n  section, summary, time, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 100%;\r\n    font: inherit;\r\n    vertical-align: baseline;\r\n  }\r\n  article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {\r\n    display: block;\r\n  }\r\n  html {\r\n    box-sizing: border-box;\r\n    font-size: 10px;\r\n  }\r\n  *, *:before, *:after {\r\n    box-sizing: inherit;\r\n  }\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 1.5rem;\r\n    line-height: 1;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n  }\r\n  blockquote, q {\r\n    quotes: none;\r\n  }\r\n  blockquote:before, blockquote:after, q:before, q:after {\r\n    content: '';\r\n    content: none;\r\n  }\r\n  table {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n  }\r\n  strong {\r\n    font-weight: bold;\r\n  }\r\n  em {\r\n    font-style: italic;\r\n  }\r\n  a {\r\n    text-decoration: none;\r\n    color: ${props => props.theme.black};\r\n  }\r\n  u {\r\n    text-decoration: underline;\r\n  }\r\n`;","export const Themes = {\n  nightmode: {\n    pageBG: '#062333',\n    pageBGLite: '#17303d',\n    mainColor: '#d7d7d7',\n    homeBannerBG: '#ededed',\n    homeBannerColor: '#062333',\n    bannerBG: '#ededed',\n    bannerColor: '#062333',\n    headingColor: '#d7d7d7',\n    titleColor: '#ededed',\n    itemBG: '#d7d7d7',\n    itemDragBG:'#87b3b0',\n    itemColor: '#062333',\n    projectItemBG: '#062333',\n    projectItemColor: '#d7d7d7',\n    links: '#87b3b0',\n    linkHover: '#0892D0',\n    editorBG: '#ededed',\n    editorColor: '#999',\n    modalBG: '#ededed',\n    modalColor: '#062333',\n    deleteLinkHover: '#a80b0b',\n    fieldBG: '#ededed',\n    fieldColor: '#062333',\n    fieldShadow: 'inset 3px 3px 2px 0 #666, inset -3px -3px 2px 0 #fff',\n    fieldShine: 'inset 3px 3px 2px 0 #fff, inset -3px -3px 2px 0 #666, inset -1px -1px 1px 0 #062333',\n    buttonBG: '#0b4a47',\n    buttonColor: '#fff',\n    buttonHoverBG: '#fff',\n    buttonHoverColor: '#000',\n    columnBS: '0 0 20px #0892D0, 0 0 15px #0892D0, 0 0 10px #0892D0, 0 0 5px #0892D0, 0 0 2px #0892D0, inset 0 0 5px 0 #0892D0',\n    columnDragBorder: '#0892D0',\n    typeface: \"'Josefin Slab', 'Times New Roman', Times, serif\",\n    hTypeface: \"'Fredericka the Great', 'Times New Roman', Times, serif\",\n    black: '#111111',\n    midGrey: '#b3b3b3'\n  },\n\n  brightmode: {\n    pageBG: '#fff',\n    pageBGLite: '#f6f6f6',\n    mainColor: '#06245e',\n    homeBannerBG: '#06245e',\n    homeBannerColor: '#f8f8f8',\n    bannerBG: '#06245e',\n    bannerColor: '#f8f8f8',\n    headingColor: '#06245e',\n    titleColor: '#06245e',\n    itemBG: '#ced8ec',\n    itemDragBG:'#8aa7e2',\n    itemColor: '#06245e',\n    projectItemBG: '#eeeeee',\n    projectItemColor: '#06245e',\n    links: '#083eac',\n    linkHover: '#08d09e',\n    editorBG: '#f6f6f6',\n    editorColor: '#111',\n    modalBG: '#ededed',\n    modalColor: '#062333',\n    deleteLinkHover: '#c90000',\n    fieldBG: '#f8f8f8',\n    fieldColor: '#062333',\n    fieldShadow: 'inset 3px 3px 2px 0 #999, inset -3px -3px 2px 0 #fff',\n    fieldShine: 'inset 3px 3px 2px 0 #fff, inset -3px -3px 2px 0 #666, inset -1px -1px 1px 0 #062333',\n    buttonBG: '#06245e',\n    buttonColor: '#fff',\n    buttonHoverBG: '#fff',\n    buttonHoverColor: '#000',\n    columnBS: '0 0 18px #083eacce, 0 0 10px #083eacce, 0 0 5px #083eacce, 0 0 2px #083eacce',\n    columnDragBorder: '#083eac',\n    typeface: \"'Josefin Slab', 'Times New Roman', Times, serif\",\n    hTypeface: \"'Fredericka the Great', 'Times New Roman', Times, serif\",\n    black: '#111111',\n    midGrey: '#d8d8d8'\n  },\n\n  frightmode: {\n    pageBG: '#000',\n    pageBGLite: 'linear-gradient(135deg, #000, #222)',\n    mainColor: '#980000',\n    homeBannerBG: '#450000',\n    homeBannerColor: '#8aa7e2',\n    bannerBG: '#550000',\n    bannerColor: '#f8f8f8',\n    headingColor: '#06245e',\n    titleColor: '#fff',\n    itemBG: 'linear-gradient(#650000, #000)',\n    itemDragBG:'#000',\n    itemColor: '#8aa7e2',\n    projectItemBG: '#8aa7e2',\n    projectItemColor: '#450000',\n    links: '#8aa7e2',\n    linkHover: '#fff',\n    editorBG: '#111',\n    editorColor: '#8f8f8f',\n    modalBG: '#ededed',\n    modalColor: '#062333',\n    deleteLinkHover: '#c90000',\n    fieldBG: '#f8f8f8',\n    fieldColor: '#062333',\n    fieldShadow: 'inset 3px 3px 2px 0 #999, inset -3px -3px 2px 0 #fff',\n    fieldShine: 'inset 3px 3px 2px 0 #fff, inset -3px -3px 2px 0 #666, inset -1px -1px 1px 0 #062333',\n    buttonBG: '#250000',\n    buttonColor: '#fff',\n    buttonHoverBG: '#fff',\n    buttonHoverColor: '#450000',\n    columnBS: '0 0 18px #fff, 0 0 10px #fff, 0 0 5px #fff, 0 0 2px #fff',\n    columnDragBorder: '#083eac',\n    typeface: \"'Josefin Slab', 'Times New Roman', Times, serif\",\n    hTypeface: \"'Fredericka the Great', 'Times New Roman', Times, serif\",\n    black: '#8aa7e2',\n    midGrey: '#d8d8d8'\n  },\n};","import React from 'react';\nimport { Navbar } from './Navbar';\nimport SubjectList from \"./SubjectList\";\nimport styled from \"styled-components\";\nimport { GlobalStyle } from \"../Styles\";\n\nconst PageContainer = styled.div`\n  min-height: 100vh;\n  display: grid;\n  grid-template-columns: 200px 1fr 200px;\n  grid-template-rows: auto auto 1fr auto;\n  background: ${props => props.theme.pageBG};\n  color: ${props => props.theme.mainColor};\n  font-family: ${props => props.theme.typeface};\n`;\n\nconst NavColumn = styled.div`\n  grid-row: 3;\n  grid-column: 1;\n  width: 200px;\n  position: fixed;\n  top: 150px;\n  padding: 0 20px 0 20px;\n`;\n\nconst ContentColumn = styled.div`\n  grid-row: 3;\n  grid-column: 2 / 4;\n  display: flex;\n  overflow-x: auto;\n`;\n\nconst FooterContainer = styled.div`\n  grid-column: 1 / 4;\n  grid-row: 4;\n  height: 90px;\n`;\n\nconst TitleContainer = styled.div`\n  color: ${props => props.home\n    ? props.theme.homeBannerColor\n    : props.theme.bannerColor\n  };\n  grid-column: 1 / 4;\n  grid-row: 2;\n  text-align: center;\n  margin: ${props => (\n    props.dragons\n      ? \"30px auto 15px auto\"\n      : \"30px auto\"\n  )};\n  width: ${props => props.home ? '600px' : '100%'};\n  transition: color .3s ease-in;\n  background: ${props =>\n    props.home\n      ? props.theme.homeBannerBG\n      : props.theme.bannerBG\n  };\n  box-shadow: ${props => props.home ? '6px 6px 2px #000' : 'none'};\n  padding: 5px 0 8px 0;\n  align-items: center;  \n  h2 {\n    font-family: ${props => props.theme.hTypeface};\n    font-size: ${props => props.size === 'large' ? \"5\" : \"3\"}rem;\n  }\n  h3 {\n    margin-top: 10px;\n    font-weight: bold;\n    font-size: ${props => props.size === 'large' ? \"1.65\" : \"1.5\"}rem;\n  }\n`;\n\nexport const Page = props => {\n  return (\n    <PageContainer >\n      <GlobalStyle />\n      <Navbar\n        authenticated={props.authenticated}\n        logout={props.logout}\n        user={props.user}\n        mode={props.mode}\n        nextMode={props.nextMode}\n        toggleStyleMode={props.toggleStyleMode}\n      />\n\n      <TitleContainer\n        dragons={props.dragons}\n        home={props.home}\n        size={props.size}\n        subtitle={props.subtitle}\n        title={props.title}\n      >\n        <h2 title={props.subtitle}>{props.title}</h2>\n        {props.home && <h3>{props.subtitle}</h3>}\n      </TitleContainer>\n\n      <NavColumn>\n        {props.subjects && !props.editorOn &&\n          <SubjectList\n            clearAllTopics={props.clearAllTopics}\n            create={props.create}\n            dragons={props.dragons}\n            projectId={props.projectId}\n            subjects={props.subjects}\n            toggleDragonText={props.toggleDragonText}\n            toggleSingleNewEditor={props.toggleSingleNewEditor}\n            toggleSubject={props.toggleSubject}\n            toggleSubjectForm={props.toggleSubjectForm}\n          />}\n      </NavColumn>\n\n      <ContentColumn>\n        {props.children}\n      </ContentColumn>\n\n      <FooterContainer></FooterContainer>\n    </PageContainer >\n  );\n};","import React, { Fragment, PureComponent } from \"react\";\r\nimport styled from 'styled-components';\r\nimport { LinkBtn } from \"../../PageElements\";\r\nimport { Spinner } from \"../../Styles\";\r\n\r\nconst Buttons = styled.div`\r\n  position: absolute;\r\n  top: 6px;\r\n  left: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport class ColumnButtons extends PureComponent {\r\n  render() {\r\n    const { props } = this;\r\n    const { subject, id, index } = props;\r\n    const { image, publicId } = subject;\r\n    return (\r\n      props.loading\r\n        ? <Spinner top=\"8px\" left=\"54px\" size=\"12px\" />\r\n        : (\r\n          <Fragment>\r\n            <Buttons>\r\n              <LinkBtn\r\n                disabled={props.disabled}\r\n                padding=\"0 3px 5px 3px\"\r\n                onClick={() => props.toggleInlineNew(subject)}\r\n                title={`create new item for ${subject.subject} column`}\r\n              >\r\n                <i className=\"far fa-file-alt\"></i>\r\n              </LinkBtn>\r\n\r\n              <LinkBtn\r\n                disabled={props.disabled}\r\n                onClick={() => props.toggleDragonText(id)}\r\n                padding=\"0 3px 5px 3px\"\r\n                title=\"expand column to read all full texts\"\r\n              >\r\n                <i className=\"far fa-eye\"></i>\r\n              </LinkBtn>\r\n\r\n              <LinkBtn\r\n                disabled={props.disabled}\r\n                onClick={() => props.updateSubjectModal(subject)}\r\n                padding=\"0 3px 5px 3px\"\r\n                title=\"update column name\"\r\n              >\r\n                <i className=\"fas fa-edit\"></i>\r\n              </LinkBtn>\r\n\r\n              <LinkBtn\r\n                disabled={props.disabled || image}\r\n                onClick={() => props.uploadImageModal(id)}\r\n                padding=\"0 3px 5px 3px\"\r\n                title={image ? \"you must delete the current image before uploading another\" : \"upload project image\"}\r\n              >\r\n                <i className=\"fas fa-upload\"></i>\r\n              </LinkBtn>\r\n\r\n              <LinkBtn\r\n                disabled={props.disabled}\r\n                onClick={() => props.imageModal(image, publicId, id)}\r\n                padding=\"0 3px 5px 3px\"\r\n                title=\"see project image\"\r\n              >\r\n                <i className=\"far fa-images\"></i>\r\n              </LinkBtn>\r\n\r\n              <LinkBtn\r\n                delete\r\n                disabled={props.disabled}\r\n                onClick={() => props.deleteSubjectModal(id, index)}\r\n                padding=\"0 3px 5px 3px\"\r\n                title=\"delete this column\"\r\n              >\r\n                <i className=\"fas fa-trash-alt\"></i>\r\n              </LinkBtn>\r\n            </Buttons>\r\n            <LinkBtn\r\n              disabled={props.disabled}\r\n              onClick={() => props.toggleSubject(id)}\r\n              padding=\"0 4px 5px 0\"\r\n              position=\"absolute\"\r\n              top=\"2px\"\r\n              right=\"3px\"\r\n              size=\"2rem\"\r\n              title=\"close this column\"\r\n            >\r\n              &times;\r\n          </LinkBtn>\r\n          </Fragment>\r\n        )\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { Droppable } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  background: transparent;\r\n`;\r\n\r\nexport const DragonLair = ({ children }) => {\r\n  return (\r\n    <Droppable droppableId=\"all-subjects\" direction=\"horizontal\" type=\"subject\">\r\n      {provided => (\r\n        <Container {...provided.droppableProps} ref={provided.innerRef}>\r\n          {children}\r\n          {provided.placeholder}\r\n        </Container>\r\n      )}\r\n    </Droppable>\r\n  );\r\n}","import React, { PureComponent } from \"react\";\r\nimport styled from 'styled-components';\r\nimport { LinkBtn } from \"../../PageElements\";\r\nimport { Spinner } from \"../../Styles\";\r\n\r\nconst Buttons = styled.div`\r\n  position: absolute;\r\n  top: 6px;\r\n  right: 8px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport class ItemButtons extends PureComponent {\r\n  render() {\r\n    const { props } = this;\r\n    const { text, subject, id, index } = props;\r\n    const { image, publicId } = text;\r\n    return (\r\n      props.loading\r\n        ? <Spinner top=\"6px\" right=\"38px\" size=\"10px\" black />\r\n        : (\r\n          <Buttons>\r\n            <LinkBtn\r\n              onClick={() => props.seeFullText(text)}\r\n              disabled={props.disabled}\r\n              padding=\"0 2px 10px 3px\"\r\n              black\r\n              size=\"1rem\"\r\n              underline\r\n              title=\"see full text\"\r\n            >\r\n              <i className=\"far fa-eye\"></i>\r\n            </LinkBtn>\r\n\r\n            <LinkBtn\r\n              onClick={() => props.toggleSingleEdit(subject, text)}\r\n              disabled={props.disabled}\r\n              padding=\"0 2px 10px 3px\"\r\n              black\r\n              size=\"1rem\"\r\n              underline\r\n              title=\"edit text\"\r\n            >\r\n              <i className=\"fas fa-edit\"></i>\r\n            </LinkBtn>\r\n\r\n            <LinkBtn\r\n              padding=\"0 2px 10px 3px\"\r\n              black\r\n              underline\r\n              size=\"1rem\"\r\n              disabled={props.disabled || text.image}\r\n              onClick={() => props.uploadImageModal(id)}\r\n              title={text.image ? \"you must delete the current image before uploading another\" : \"upload project image\"}\r\n            >\r\n              <i className=\"fas fa-upload\"></i>\r\n            </LinkBtn>\r\n\r\n            <LinkBtn\r\n              padding=\"0 2px 10px 3px\"\r\n              black\r\n              underline\r\n              size=\"1rem\"\r\n              disabled={props.disabled}\r\n              onClick={() => props.imageModal(image, publicId, id)}\r\n              title=\"see project image\"\r\n            >\r\n              <i className=\"far fa-images\"></i>\r\n            </LinkBtn>\r\n\r\n            <LinkBtn\r\n              onClick={() => props.deleteTextModal(text._id, subject._id, index)}\r\n              disabled={props.disabled}\r\n              padding=\"0 2px 10px 3px\"\r\n              delete\r\n              black\r\n              size=\"1rem\"\r\n              underline\r\n              title={`delete ${text.title}`}\r\n            >\r\n              <i className=\"fas fa-trash-alt\"></i>\r\n            </LinkBtn>\r\n          </Buttons>\r\n        )\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport dateFns from \"date-fns\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n`;\r\n\r\nconst DateText = styled.h5`\r\n    display: inline-block;\r\n    font-size: 1.1rem;\r\n    font-weight: bold;\r\n    margin-top: 8px;\r\n`;\r\n\r\nexport const DateDiv = ({text}) => (\r\n  <Container>\r\n    <DateText>\r\n      created: {dateFns.format(text.createdAt, \"MMM DD, YYYY\")}\r\n    </DateText>\r\n\r\n    <DateText>\r\n      modified: {dateFns.format(text.updatedAt, \"MMM DD, YYYY\")}\r\n    </DateText>\r\n  </Container>\r\n);","import React, { Fragment, PureComponent } from \"react\";\r\nimport styled from 'styled-components';\r\nimport { LinkBtn } from \"../../PageElements\";\r\nimport { Spinner } from \"../../Styles\";\r\n\r\nconst Links = styled.div`\r\n  position: absolute;\r\n  top: 8px;\r\n  right: 8px;\r\n`;\r\n\r\nexport class ProjectButtons extends PureComponent {\r\n  render() {\r\n    const { props } = this;\r\n    const { _id, publicId, image } = props.project;\r\n    return (\r\n      <Fragment>\r\n        {props.loading\r\n          ? (\r\n            <Spinner top=\"8px\" right=\"44px\" size=\"12px\" />\r\n          ) : (\r\n            <Links>\r\n              <LinkBtn\r\n                padding=\"0 4px\"\r\n                underline\r\n                disabled={props.disabled}\r\n                onClick={() => props.updateProjectModal(props.project)}\r\n                title=\"edit project info\"\r\n              >\r\n                <i className=\"fas fa-edit\"></i>\r\n              </LinkBtn>\r\n\r\n              <LinkBtn\r\n                padding=\"0 4px\"\r\n                underline\r\n                disabled={props.disabled || image}\r\n                onClick={() => props.uploadImageModal(_id)}\r\n                title={image ? \"you must delete the current image before uploading another\" : \"upload project image\"}\r\n              >\r\n                <i className=\"fas fa-upload\"></i>\r\n              </LinkBtn>\r\n\r\n              <LinkBtn\r\n                padding=\"0 4px\"\r\n                underline\r\n                disabled={props.disabled}\r\n                onClick={() => props.imageModal(image, publicId, _id)}\r\n                title=\"see project image\"\r\n              >\r\n                <i className=\"far fa-images\"></i>\r\n              </LinkBtn>\r\n\r\n              <LinkBtn\r\n                padding=\"0 4px\"\r\n                underline\r\n                disabled={props.disabled}\r\n                delete\r\n                onClick={() => props.deleteProjectModal(_id)}\r\n                title=\"edit project info\"\r\n              >\r\n                <i className=\"fas fa-trash-alt\"></i>\r\n              </LinkBtn>\r\n            </Links>\r\n          )}\r\n      </Fragment>\r\n    );\r\n  }\r\n};","import React, { Component } from 'react';\r\nimport styled from \"styled-components\";\r\nimport { Button, Input, TextArea } from \"./FormElements\";\r\nimport { API } from \"../../utils\";\r\n\r\nconst Container = styled.div`\r\n  width: 300px;\r\n  margin: auto;\r\n  padding: 20px;\r\n  border: 1px solid green;\r\n`;\r\n\r\nexport class NewProject extends Component {\r\n  state = {\r\n    title: '',\r\n    summary: '',\r\n    link: '',\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  createProject = async () => {\r\n    const { link, summary, title } = this.state;\r\n    try {\r\n      await API.createProject({\r\n        title,\r\n        summary,\r\n        link,\r\n        userId: this.props.user._id\r\n      });\r\n      this.props.getInitialData(this.props.user);\r\n      this.props.toggleProjectForm();\r\n    }\r\n    catch (err) {\r\n      if (err)\r\n        this.setModal({\r\n          body: <p>Something went wrong with your request. Please try again.</p>,\r\n          buttons: <Button onClick={this.props.closeModal}>OK</Button>\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Input\r\n          name=\"title\"\r\n          value={this.state.title}\r\n          type=\"text\"\r\n          onChange={this.handleInputChange}\r\n          placeholder=\"project title\"\r\n        />\r\n        <TextArea\r\n          name=\"summary\"\r\n          value={this.state.summary}\r\n          type=\"text\"\r\n          onChange={this.handleInputChange}\r\n          placeholder=\"project summary\"\r\n        />\r\n        <Input\r\n          name=\"link\"\r\n          value={this.state.link}\r\n          type=\"text\"\r\n          maxLength=\"12\"\r\n          onChange={this.handleInputChange}\r\n          placeholder=\"project keyword (12 characters or less)\"\r\n        />\r\n        <Button onClick={this.createProject}>Create</Button>\r\n        <Button onClick={this.props.toggleProjectForm}>Cancel</Button>\r\n      </Container>\r\n    );\r\n  }\r\n};;","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport { Button, Input, Label } from \"./FormElements\";\r\nimport { LinkBtn } from \"../PageElements\";\r\n\r\nconst Container = styled.div`\r\n  width: 300px;\r\n  margin: auto;\r\n  padding: 20px;\r\n  border: 1px solid ${props => props.theme.linkHover};\r\n  border-radius: 10px;\r\n`;\r\n\r\nconst Heading = styled.h2`\r\n  font-size: 2.2rem;\r\n  text-align: center;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Paragraph = styled.p`\r\n  text-align: center;\r\n  padding-top: 10px;\r\n`;\r\n\r\nexport const Login = props => (\r\n  <Container>\r\n    <Heading>Login</Heading>\r\n    <Label style={{ fontWeight: \"normal\" }}>Username</Label>\r\n    <Input\r\n      name=\"username\"\r\n      value={props.username}\r\n      type=\"text\"\r\n      onChange={props.handleInputChange}\r\n    />\r\n    <Label>Password</Label>\r\n    <Input\r\n      name=\"password\"\r\n      value={props.password}\r\n      type=\"password\"\r\n      onChange={props.handleInputChange}\r\n    />\r\n    <Button center round onClick={props.login}>Submit</Button>\r\n    <Paragraph>Don't have an account?\r\n      <LinkBtn\r\n        size=\"1.5rem\"\r\n        bold\r\n        onClick={props.toggleSignupForm}\r\n      >\r\n        Create one.\r\n      </LinkBtn>\r\n    </Paragraph>\r\n  </Container>\r\n);","import React from 'react';\r\nimport styled from \"styled-components\";\r\nimport { Button, Input, Label } from \"./FormElements\";\r\nimport { LinkBtn } from \"../PageElements\";\r\n\r\nconst Container = styled.div`\r\nwidth: 300px;\r\nmargin: auto;\r\npadding: 20px;\r\nborder: 1px solid ${props => props.theme.linkHover};\r\nborder-radius: 10px;\r\n`;\r\n\r\nconst Heading = styled.h2`\r\n  font-size: 2.2rem;\r\n  text-align: center;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Paragraph = styled.p`\r\n  text-align: center;\r\n  padding-top: 10px;\r\n`;\r\n\r\nexport const Signup = props => (\r\n  <Container>\r\n    <Heading>Signup</Heading>\r\n    <Label style={{ fontWeight: \"normal\" }}>Username</Label>\r\n    <Input\r\n      name=\"username\"\r\n      value={props.username}\r\n      type=\"text\"\r\n      onChange={props.handleInputChange}\r\n    />\r\n    <Label>Email</Label>\r\n    <Input\r\n      name=\"email\"\r\n      value={props.email}\r\n      type=\"text\"\r\n      onChange={props.handleInputChange}\r\n    />\r\n    <Label>Password</Label>\r\n    <Input\r\n      name=\"password\"\r\n      value={props.password}\r\n      type=\"password\"\r\n      onChange={props.handleInputChange}\r\n    />\r\n    <Label>Confirm Password</Label>\r\n    <Input\r\n      name=\"confirmPassword\"\r\n      value={props.confirmPassword}\r\n      type=\"password\"\r\n      onChange={props.handleInputChange}\r\n    />\r\n    <Button round center onClick={props.signup}>Submit</Button>\r\n    <Paragraph>Already have an account?\r\n      <LinkBtn\r\n        size=\"1.5rem\"\r\n        bold\r\n        onClick={props.toggleSignupForm}\r\n      >\r\n        Log in.\r\n      </LinkBtn>\r\n    </Paragraph>\r\n  </Container>\r\n);","import React, { Component, Fragment } from 'react';\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { ProjectButtons } from \"../Dragons/DragonElements\";\nimport { Button, Input, TextArea } from \"../Forms/FormElements\";\nimport { NewProject } from \"../Forms\";\nimport { API } from '../../utils';\n\nconst DropZone = styled.div`\n  width: 100%;  \n`;\n\nconst Container = styled.div`\n  background-color: ${props => props.theme.projectItemBG};\n  position: relative;\n  width: 560px;\n  padding: 15px;\n  border: 1px solid ${props => props.theme.links};\n  border-radius: 5px;\n  margin: 0 auto 10px auto;\n  line-height: 1.2;\n  &:hover {\n    border: 1px solid ${props => props.theme.columnDragBorder};\n    box-shadow: ${props => props.theme.columnBS};\n  }\n  box-shadow: ${props => props.isDragging && props.theme.columnBS};\n`;\n\nconst ProjectTitle = styled.h2`\n  color: ${props => props.theme.projectItemColor};\n  font-family: ${props => props.theme.hTypeface};\n  font-size: 3.5rem;\n`;\n\nconst ProjectText = styled.p`\n  color: ${props => props.theme.projectItemColor};\n  text-indent: 25px;\n  font-size: 2rem;\n`;\n\nexport class ProjectCard extends Component {\n  state = {\n    create: false,\n    title: '',\n    summary: '',\n    link: '',\n    loading: false,\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  toggleProjectForm = () => {\n    this.setState({ create: !this.state.create });\n  };\n\n  deleteProject = async id => {\n    await this.setState({ loading: true });\n    this.props.closeModal();\n    await API.deleteProject(id);\n    this.props.getInitialData(this.props.user);\n    this.setState({ loading: false })\n  };\n\n  updateProject = async project => {\n    await this.setState({ loading: true });\n    this.props.closeModal();\n    const { title, summary, link } = this.state;\n    const updateObject = {};\n\n    if (title) updateObject.title = title;\n    else updateObject.title = project.title;\n    if (summary) updateObject.summary = summary;\n    else updateObject.summary = project.summary;\n    if (link) updateObject.link = link;\n    else updateObject.link = project.link;\n\n    await API.updateProject(project._id, updateObject);;\n    this.props.getInitialData(this.props.user)\n    this.setState({ loading: false });\n  };\n\n  updateProjectModal = project => {\n    this.props.setModal({\n      body: (\n        <Fragment>\n          <Input\n            type=\"text\"\n            name=\"title\"\n            onChange={this.handleInputChange}\n            placeholder=\"project title\"\n          />\n          <TextArea\n            type=\"text\"\n            name=\"summary\"\n            onChange={this.handleInputChange}\n            placeholder=\"project summary\"\n          />\n          <Input\n            name=\"link\"\n            type=\"text\"\n            maxLength=\"12\"\n            onChange={this.handleInputChange}\n            placeholder=\"project keyword (12 characters max)\"\n          />\n        </Fragment>\n      ),\n      buttons: (\n        <Fragment>\n          <Button onClick={() => this.updateProject(project)}>Submit</Button>\n          <Button onClick={this.props.closeModal}>Cancel</Button>\n        </Fragment>\n      )\n    })\n  };\n\n  deleteProjectModal = async id => {\n    this.props.setModal({\n      body: <h3>Are you sure you want to delete this entire project and all associated texts and topic columns?</h3>,\n      buttons: (\n        <Fragment>\n          <Button onClick={() => this.deleteProject(id)}>Yes, Delete</Button>\n          <Button onClick={this.props.closeModal}>Cancel</Button>\n        </Fragment>\n      )\n    })\n  };\n\n  render() {\n    const { projectOrder, projectOrderData } = this.props;\n    return (\n      <Fragment>\n        {this.state.create\n          ? (\n            <NewProject\n              getInitialData={this.props.getInitialData}\n              toggleProjectForm={this.toggleProjectForm}\n              user={this.props.user}\n            />\n          ) : (\n            <Droppable droppableId={this.props.user._id} type=\"project\">\n              {(provided, snapshot) => (\n                <DropZone\n                  ref={provided.innerRef}\n                  {...provided.droppableProps}\n                  isDraggingOver={snapshot.isDraggingOver}\n                >\n                  {projectOrder.map((project, index) => {\n                    const thisProject = projectOrderData[project];\n                    return (\n                      <Draggable draggableId={project} index={index} key={project}>\n                        {(provided, snapshot) => (\n                          <Container\n                            {...provided.draggableProps}\n                            ref={provided.innerRef}\n                            isDragging={snapshot.isDragging}\n                            {...provided.dragHandleProps}\n                          >\n                            <Link to={`/${thisProject.link}`}>\n                              <ProjectTitle>{thisProject.title}</ProjectTitle>\n                              <ProjectText  >{thisProject.summary}</ProjectText>\n                            </Link>\n                            <ProjectButtons\n                              updateProjectModal={this.updateProjectModal}\n                              deleteProjectModal={this.deleteProjectModal}\n                              imageModal={this.props.imageModal}\n                              loading={this.props.loading}\n                              project={thisProject}\n                              uploadImageModal={this.props.uploadImageModal}\n                            />\n                          </Container>\n                        )}\n                      </Draggable>\n                    )\n                  })}\n                  <Button full round onClick={this.toggleProjectForm}>Create New Project</Button>\n                  {provided.placeholder}\n                </DropZone>\n              )}\n            </Droppable>\n          )}\n      </Fragment>\n    )\n  }\n};","import React, { Component, Fragment } from 'react';\r\nimport { Login, Signup } from \"../Forms\";\r\nimport { API } from \"../../utils\";\r\n\r\nexport class Authenticate extends Component {\r\n  state = {\r\n    email: '',\r\n    username: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n    signup: false\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  toggleSignupForm = () => {\r\n    this.setState({ signup: !this.state.signup });\r\n  };\r\n\r\n  login = async () => {\r\n    const { username, password } = this.state;\r\n    const user = await API.login({ username, password });\r\n    if (user)\r\n      this.props.getInitialData(user.data);\r\n  };\r\n\r\n  signup = async () => {\r\n    const { email, password, username } = this.state;\r\n    const user = await API.signup({\r\n      username, email, password\r\n    });\r\n    if (!user.data.error && user.data._id) this.login();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {this.state.signup\r\n          ? (\r\n            <Signup\r\n              confirmPassword={this.state.confirmPassword}\r\n              email={this.state.email}\r\n              getInitialData={this.props.getInitialData}\r\n              handleInputChange={this.handleInputChange}\r\n              password={this.state.password}\r\n              signup={this.signup}\r\n              toggleSignupForm={this.toggleSignupForm}\r\n              username={this.state.username}\r\n            />\r\n          ) : (\r\n            <Login\r\n              getInitialData={this.props.getInitialData}\r\n              handleInputChange={this.handleInputChange}\r\n              login={this.login}\r\n              password={this.state.password}\r\n              toggleSignupForm={this.toggleSignupForm}\r\n              username={this.state.username}\r\n            />\r\n          )\r\n        }\r\n\r\n      </Fragment>\r\n    );\r\n  }\r\n};","import React, { Component } from \"react\";\nimport styled from 'styled-components';\n\nconst Outer = styled.div`\n  display: flex;\n  position: fixed;\n  z-index: 99;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgb(0, 0, 0);\n  background-color: rgba(0, 0, 0, 0.4);\n`;\n\nconst Content = styled.div`\n  max-width: 60%;\n  min-width: 300px;\n  position: relative;\n  background-color: ${props => props.theme.modalBG};\n  margin: auto;\n  padding: 0;\n  border: 1px solid ${props => props.theme.links};\n  box-shadow: 0 0 10px #fff, 0 0 10px #cacaca, 0 0 20px #a3a3a3, 0 0 30px #777777;\n  animation-name: fadein;\n  animation-duration: 0.4s;\n  border-radius: 12px;\n  color: ${props => props.theme.modalColor};\n  font-size: 1.8rem;\n  font-weight: bold;\n  @keyframes fadein {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst Button = styled.button`\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  color: ${props => props.theme.buttonBG};\n  font-size: 20px;\n  outline: transparent;\n  background-color: transparent;\n  border: none;\n  &:hover, &:focus {\n    color: black;\n    text-decoration: none;\n    cursor: pointer;\n  }\n`;\n\nconst Body = styled.div`\n  max-width: 100%;\n  margin: auto;\n  padding: 40px 30px 30px 30px;\n  z-index: 999;\n`;\n\nconst Buttons = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n  button, a {\n    font-size: 1.8rem;\n    border: 1px solid ${props => props.theme.buttonBG};\n    padding: 7px 14px;\n    margin-top: 20px;\n    border-radius: 5px;\n    color: #fff;\n    cursor: pointer;\n    box-shadow: 0 0 20px 20px ${props => props.theme.buttonBG} inset, 0 0 0 0 ${props => props.theme.buttonBG};\n\t  transition: all 150ms ease-in-out;\n\t  text-decoration: none;\n  }\n  button:hover, a:hover {\n    background-color: ${props => props.theme.buttonHoverBG};\n    box-shadow: 0 0 5px ${props => props.theme.buttonBG} inset, 0 0 5px ${props => props.theme.buttonBG};\n    color: ${props => props.theme.buttonHoverColor};\n  }\n`;\n\nexport class ModalLogic extends Component {\n  state = {\n    isOpen: false,\n    body: \"\",\n    buttons: \"\"\n  };\n\n  closeModal = () => {\n    this.setState({ isOpen: false });\n  };\n\n  setModal = modalInput => {\n    this.setState({\n      isOpen: true,\n      body: modalInput.body,\n      buttons: modalInput.buttons\n    });\n  };\n\n  outsideClick = event => {\n    // the space in this is necessary because the outer div is the only one that will have a space after 'modal' in the classname.\n    if (event.target.className.includes(\"modal \"))\n      this.closeModal();\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.isOpen &&\n          <Outer className=\"modal\" id=\"modal\" onClick={this.outsideClick}>\n            <Content className=\"modal-content\" style={this.props.style}>\n              <Button className=\"modal-close\" onClick={this.closeModal}>&times;</Button>\n              <Body className=\"modal-body\">\n                {this.state.body}\n                <Buttons className=\"modal-btn-div\">\n                  {this.state.buttons}\n                </Buttons>\n              </Body>\n            </Content>\n          </Outer>\n        }\n        {this.props.children({\n          closeModal: this.closeModal,\n          setModal: this.setModal\n        })}\n      </React.Fragment>\n    )\n  }\n}","import React, { PureComponent, Fragment } from 'react';\r\nimport { Button, Input, Label } from \"../Forms/FormElements\";\r\nimport { API } from \"../../utils\";\r\n\r\nexport class UploadLogic extends PureComponent {\r\n  state = {\r\n    image: '',\r\n    largeImage: '',\r\n    publicId: '',\r\n    data: '',\r\n    loading: false,\r\n  }\r\n\r\n  uploadImage = async event => {\r\n    const files = event.target.files;\r\n    if (!files[0].type.includes('image')) return;\r\n    const data = new FormData();\r\n    await data.append('file', files[0]);\r\n    await data.append('upload_preset', 'dragon-writer');\r\n    this.setState({ data });\r\n  };\r\n\r\n  saveImage = async id => {\r\n    if (!this.state.data) {\r\n      this.props.closeModal();\r\n      setTimeout(() => this.props.setModal({\r\n        body: <p style={{ textAlign: \"center\" }}>Images only, please.</p>,\r\n        buttons: <Button onClick={this.props.closeModal}>Close</Button>\r\n      }), 500)\r\n      return;\r\n    }\r\n    this.setState({ loading: true });\r\n    this.props.closeModal();\r\n    const res = await fetch('https://api.cloudinary.com/v1_1/dm6eoegii/image/upload/', {\r\n      method: 'POST',\r\n      body: this.state.data\r\n    });\r\n    const file = await res.json();\r\n    const updateObject = {\r\n      image: file.secure_url,\r\n      largeImage: file.eager[0].secure_url,\r\n      publicId: file.public_id,\r\n    };\r\n    let result;\r\n    switch (this.props.type) {\r\n      case 'project':\r\n        result = await API.updateProject(id, updateObject);\r\n        this.props.getInitialData(this.props.user);\r\n        break;\r\n      case 'subject':\r\n        result = await API.updateSubject(id, updateObject);\r\n        this.props.toggleImageInOrder(result.data);\r\n        break;\r\n      default:\r\n        result = await API.updateText(id, updateObject);\r\n        this.props.getInitialData(this.props.user);\r\n    }\r\n    this.setState({ loading: false });\r\n  };\r\n\r\n  uploadImageModal = id => {\r\n    this.props.setModal({\r\n      body: (\r\n        <Fragment>\r\n          <Label htmlFor=\"file\">Image:</Label>\r\n          <Input\r\n            type=\"file\"\r\n            id=\"file\"\r\n            name=\"file\"\r\n            onChange={this.uploadImage}\r\n            placeholder=\"upload an image\"\r\n          />\r\n        </Fragment>\r\n      ),\r\n      buttons: (\r\n        <Fragment>\r\n          <Button\r\n            disabled={this.state.loading}\r\n            onClick={() => this.saveImage(id)}\r\n          >\r\n            Submit\r\n          </Button>\r\n          <Button onClick={this.props.closeModal}>Cancel</Button>\r\n        </Fragment>\r\n      )\r\n    })\r\n  };\r\n\r\n  deleteImage = async (id, imageId) => {\r\n    await this.setState({ loading: true });\r\n    this.props.closeModal();\r\n    const deleteObj = { imageId };\r\n    switch (this.props.type) {\r\n      case 'project':\r\n        await API.removeProjectImage(id, deleteObj);\r\n        this.props.getInitialData(this.props.user);\r\n        break;\r\n      case 'subject':\r\n        const result = await API.removeSubjectImage(id, deleteObj);\r\n        this.props.toggleImageInOrder(result.data);\r\n        break;\r\n      default:\r\n        await API.removeTextImage(id, deleteObj);\r\n        this.props.getInitialData(this.props.user);\r\n    }\r\n    // calling setState here produces an error - but it isn't necessary anyway\r\n    this.setState({ loading: false });\r\n  };\r\n\r\n  imageModal = (image, imageId, id) => {\r\n    let body;\r\n    if (!image) body = <p>There is no image associated with this project.</p>;\r\n    else body = <img src={image} alt=\"nothing\" style={{ maxWidth: '70vw', maxHeight: '70vh', width: 'auto', height: 'auto' }} />;\r\n    this.props.setModal({\r\n      body,\r\n      buttons: (\r\n        <Fragment>\r\n          {image &&\r\n            <Button\r\n              disabled={this.state.loading}\r\n              onClick={() => this.deleteImage(id, imageId)}\r\n            >\r\n              Delete\r\n          </Button>\r\n          }\r\n          <Button onClick={this.props.closeModal}>Close</Button>\r\n        </Fragment>\r\n      )\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      this.props.children({\r\n        imageModal: this.imageModal,\r\n        loading: this.state.loading,\r\n        state: this.state,\r\n        uploadImageModal: this.uploadImageModal,\r\n      })\r\n    );\r\n  }\r\n}","import React, { PureComponent } from 'react';\r\nimport { ModalLogic, UploadLogic } from \"../Renderers\";\r\n\r\nexport class ImageUploader extends PureComponent {\r\n  render() {\r\n    return (\r\n      <ModalLogic>\r\n        {modalProps => (\r\n          <UploadLogic {...this.props} {...modalProps}>\r\n            {uploadProps => (\r\n              this.props.children({\r\n                ...modalProps,\r\n                ...uploadProps\r\n              })\r\n            )}\r\n          </UploadLogic>\r\n        )}\r\n      </ModalLogic>\r\n    );\r\n  }\r\n};","import React, { Component } from 'react';\nimport styled from \"styled-components\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport { ImageUploader, Page } from \"../components/PageElements\";\nimport { Authenticate, ProjectCard } from \"../components/PageElements\";\nimport { API, Scales } from \"../utils\"\n\nconst Container = styled.div`\n  padding-right: 220px;\n  padding-left: 20px;\n  margin: auto;\n`;\n\nclass Home extends Component {\n  state = {\n    projectOrder: this.props.projectOrder,\n    projectOrderData: this.props.projectOrderData\n  };\n\n  // Without this, first login will not show projects.\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.projectOrder !== this.props.projectOrder) {\n      this.setState({\n        projectOrder: nextProps.projectOrder,\n        projectOrderData: nextProps.projectOrderData\n      })\n    }\n  }\n\n  onDragEnd = async result => {\n    const { destination, source, draggableId } = result;\n    if (!destination) {\n      return;\n    }\n    if (destination.droppableId === source.droppableId &&\n      destination.index === source.index) {\n      return;\n    }\n\n    const newState = Scales.singleProjectDragon(this.state, source, destination, draggableId);\n    await this.setState(newState);\n    await API.updateUserOrder({ order: JSON.stringify(this.state.projectOrder) });\n    // Call this without passing user data in it so it will request new user data, which will\n    // this.props.getInitialData();\n  };\n\n  render() {\n    return (\n      <DragDropContext onDragEnd={this.onDragEnd}>\n        <Page\n          title=\"Dragon Writer\"\n          subtitle=\"Drag-and-drop storyboarding for writers\"\n          size=\"large\"\n          user={this.props.user}\n          logout={this.props.logout}\n          authenticated={this.props.authenticated}\n          home=\"true\"\n          mode={this.props.mode}\n          nextMode={this.props.nextMode}\n          toggleStyleMode={this.props.toggleStyleMode}\n        >\n          <Container>\n            <ImageUploader\n              getInitialData={this.props.getInitialData}\n              type=\"project\"\n            >\n              {({ uploadImageModal, imageModal, loading }) => (\n                this.props.authenticated\n                  ? (\n                    <ProjectCard\n                      uploadImageModal={uploadImageModal}\n                      loading={loading}\n                      imageModal={imageModal}\n                      authenticated={this.props.authenticated}\n                      getInitialData={this.props.getInitialData}\n                      projectOrder={this.state.projectOrder}\n                      projectOrderData={this.state.projectOrderData}\n                      user={this.props.user}\n                    />\n                    // 'loading' prevents the login form from flashing on the screen while the app checks if a user already has a session cookie upon first page load\n                  ) : (\n                    !this.props.loading &&\n                    <Authenticate getInitialData={this.props.getInitialData} />\n                  )\n              )}\n            </ImageUploader>\n          </Container>\n        </Page>\n      </DragDropContext>\n\n    );\n  }\n}\n\nexport default Home;","import React from \"react\";\r\n\r\nconst NoMatch = props => (\r\n  <div>\r\n    <h1>Nothin to see here. Move along.</h1>\r\n  </div>\r\n)\r\n\r\nexport default NoMatch;","function Hotkey(options) {\r\n  const { type, key, node } = options;\r\n  return {\r\n    onKeyDown(event, editor, next) {\r\n      if (!event.ctrlKey || event.key !== key) return next();\r\n      event.preventDefault();\r\n      if (node) {\r\n        const isCode = editor.value.blocks.some(block => block.type === type);\r\n        editor.setBlocks(isCode ? 'paragraph' : type);\r\n      }\r\n      editor.toggleMark(type);\r\n    }\r\n  }\r\n};\r\n\r\nconst plugins = [\r\n  Hotkey({ key: 'b', type: 'bold' }),\r\n  Hotkey({ key: '`', type: 'code' }),\r\n  Hotkey({ key: ',', type: 'code', node: true }),\r\n  Hotkey({ key: '.', type: 'tab-p', node: true }),\r\n  Hotkey({ key: 'i', type: 'italic' }),\r\n  Hotkey({ key: 'q', type: 'strikethrough' }),\r\n  Hotkey({ key: 'u', type: 'underline' }),\r\n];\r\n\r\nexport { plugins };","import React from \"react\";\r\n\r\nfunction renderNode(props, editor, next) {\r\n  const { attributes, children, node } = props;\r\n  switch (node.type) {\r\n    case \"code\":\r\n      return (\r\n        <pre {...attributes} style={{ textIndent: '25px', lineHeight: '1' }}>\r\n          <code style={{ background: '#eeeeee', borderRadius: '2px', padding: '0', textIndent: \"25px\" }}>{children}</code>\r\n        </pre>\r\n      );\r\n    case 'block-quote':\r\n      return (\r\n        <div\r\n          style={{\r\n            borderLeft: \"2px solid #e1e1e1\",\r\n            paddingLeft: \"10px\",\r\n            width: \"80%\",\r\n            opacity: \".8\",\r\n            fontStyle: \"italic\"\r\n          }}>\r\n          <blockquote {...attributes}>{children}</blockquote>\r\n        </div>\r\n      );\r\n\r\n    case 'paragraph':\r\n      return <p {...attributes}>{children}</p>\r\n    case 'bulleted-list':\r\n      return <ul {...attributes}>{children}</ul>\r\n    case 'heading-one':\r\n      return <h1 style={{ fontSize: \"30px\", fontWeight: \"bold\" }} {...attributes}>{children}</h1>\r\n    case 'heading-two':\r\n      return <h2 style={{ fontSize: \"25px\", fontWeight: \"bold\" }} {...attributes}>{children}</h2>\r\n    case 'heading-three':\r\n      return <h3 style={{ fontSize: \"18px\", fontWeight: \"bold\", fontStyle: 'italic' }} {...attributes}>{children}</h3>\r\n    case 'list-item':\r\n      return <li {...attributes}>{children}</li>\r\n    case 'numbered-list':\r\n      return <ol {...attributes}>{children}</ol>\r\n    default:\r\n      return next();\r\n  }\r\n};\r\n\r\nfunction renderMark(props, editor, next) {\r\n  const { children, mark, attributes } = props;\r\n  switch (mark.type) {\r\n    case \"red\":\r\n      return <span style={{ color: '#bd0000' }} {...attributes}>{children}</span>;\r\n    case \"blue\":\r\n      return <span style={{ color: '#1111ff' }} {...attributes}>{children}</span>;\r\n    case \"green\":\r\n      return <span style={{ color: '#39ff14' }} {...attributes}>{children}</span>;\r\n    case \"yellow\":\r\n      return <span style={{ color: '#fffb00' }} {...attributes}>{children}</span>;\r\n    case \"purple\":\r\n      return <span style={{ color: '#660d8a' }} {...attributes}>{children}</span>;\r\n    case \"code\":\r\n      return <code style={{ background: '#eeeeee', borderRadius: '2px' }} {...attributes}>{children}</code>;\r\n    case 'bold':\r\n      return <strong {...attributes}>{children}</strong>;\r\n    case 'italic':\r\n      return <em {...attributes}>{children}</em>;\r\n    case 'strikethrough':\r\n      return <del {...attributes}>{children}</del>;\r\n    case 'underline':\r\n      return <u {...attributes}>{children}</u>;\r\n    case 'link': {\r\n      let tempObj = {};\r\n      for (let i in children)\r\n        if (i !== \"props\")\r\n          tempObj[i] = children[i]\r\n\r\n      let propObj = {};\r\n      for (let j in children.props)\r\n        propObj[j] = children.props[j]\r\n\r\n      tempObj.props = propObj;\r\n      let str = tempObj.props.children;\r\n      const start = str.indexOf('(');\r\n      const end = str.indexOf(')');\r\n      const href = str.substring(start + 1, end);\r\n      const linkText = str.slice(0, start);\r\n      tempObj.props.children = linkText;\r\n      return (\r\n        <a\r\n          style={{ color: '#1111ff', textDecoration: 'underline' }}\r\n          href={href}\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n          {...attributes}\r\n          value={linkText}\r\n        >\r\n          {tempObj}\r\n        </a>\r\n      )\r\n    }\r\n    default:\r\n      return next();\r\n  }\r\n};\r\n\r\nexport { renderNode, renderMark };","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst EditorBtnArray = styled.div`\r\n  padding-top: 26px;\r\n  margin: 5px 0 0 0;  \r\n  margin-left: ${props => props.inline && '160px'};\r\n  text-align: center;\r\n  button span {\r\n    font-size: ${props => (\r\n      props.inline\r\n        ? \"1rem\"\r\n        : \"1.6rem\"\r\n    )};\r\n    line-height: 0.5;\r\n    font-weight: bold;\r\n    padding: 0;\r\n    margin: 0;\r\n    font-family: 'Times New Roman', Times, serif;\r\n  }\r\n`;\r\n\r\nconst EditorBtn = styled.button`\r\n  width: ${props => (\r\n    props.inline === \"true\"\r\n      ? \"30px\"\r\n      : \"40px\"\r\n  )};\r\n  padding: 0;\r\n  margin: 0 5px 5px 0;\r\n  height: ${props => (\r\n    props.inline\r\n      ? \"30px\"\r\n      : \"40px\"\r\n  )};\r\n  font-size: ${props => (\r\n    props.inline\r\n      ? \"1rem\"\r\n      : \"1.6rem\"\r\n  )};\r\n  opacity: ${props => (\r\n    props.snarky\r\n      ? 1\r\n      : 0.6\r\n  )};\r\n  &:last-of-type {\r\n    margin-right: 0;\r\n  }\r\n`;\r\n\r\nclass RenderButtons extends Component {\r\n\r\n  renderMarkButton = (type, icon) => {\r\n    const isActive = this.props.hasMark(type);\r\n    let color;\r\n    if (type === 'red') color = '#bd0000';\r\n    if (type === 'blue') color = '#1111ff';\r\n    if (type === 'green') color = '#39ff14';\r\n    if (type === 'yellow') color = '#fffb00';\r\n    if (type === 'purple') color = '#660d8a';\r\n\r\n    return (\r\n      <EditorBtn\r\n        inline={this.props.inline}\r\n        snarky={isActive}\r\n        style={{ color }}\r\n        key={`icon-${type}`}\r\n        onClick={() => this.props.onClickMark(type)}\r\n      >\r\n        <i className={`fas fa-${icon}`} />\r\n      </EditorBtn>\r\n    )\r\n  };\r\n\r\n  renderBlockButton = (type, icon) => {\r\n    let isActive = this.props.hasBlock(type);\r\n    let span;\r\n    if (type.includes('one')) span = <span>&nbsp;1</span>;\r\n    if (type.includes('two')) span = <span>&nbsp;2</span>;\r\n    if (type.includes('three')) span = <span>&nbsp;3</span>;\r\n\r\n    if (['numbered-list', 'bulleted-list'].includes(type)) {\r\n      const { value } = this.props.state;\r\n      let parent;\r\n      if (value.blocks.first())\r\n        parent = value.document.getParent(value.blocks.first().key);\r\n      isActive = this.props.hasBlock('list-item') && parent && parent.type === type;\r\n    }\r\n\r\n    return (\r\n      <EditorBtn\r\n        inline={this.props.inline}\r\n        snarky={isActive}\r\n        key={`icon-${type}`}\r\n        onClick={() => this.props.onClickBlock(type)}\r\n      >\r\n        <i className={`fas fa-${icon}`} />\r\n        {span}\r\n      </EditorBtn>\r\n    )\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <EditorBtnArray inline={this.props.inline}>\r\n        {this.renderMarkButton('bold', 'bold')}\r\n        {this.renderMarkButton('italic', 'italic')}\r\n        {this.renderMarkButton('underline', 'underline')}\r\n        {this.renderMarkButton('red', 'palette')}\r\n        {this.renderMarkButton('blue', 'palette')}\r\n        {this.renderMarkButton('yellow', 'palette')}\r\n        {this.renderMarkButton('green', 'palette')}\r\n        {this.renderMarkButton('purple', 'palette')}\r\n        {this.renderMarkButton('strikethrough', 'strikethrough')}\r\n        {this.renderMarkButton('code', 'code')}\r\n        {this.renderBlockButton('heading-one', 'heading')}\r\n        {this.renderBlockButton('heading-two', 'heading')}\r\n        {this.renderBlockButton('heading-three', 'heading')}\r\n        {this.renderBlockButton('block-quote', 'quote-right')}\r\n        {this.renderBlockButton('numbered-list', 'list-ol')}\r\n        {this.renderBlockButton('bulleted-list', 'list-ul')}\r\n        {this.renderMarkButton('link', 'link')}\r\n      </EditorBtnArray>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RenderButtons;","import React, { PureComponent, Fragment } from 'react';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { Editor } from \"slate-react\";\nimport { Value } from \"slate\";\nimport styled from 'styled-components';\nimport { renderMark, renderNode } from \"../Slate/utils/Renderers\";\nimport { DateDiv, ItemButtons } from \"./DragonElements\";\nimport { Button } from \"../Forms/FormElements\";\n\nconst Container = styled.div`\n  position: relative;\n  width: 100%;\n  margin-bottom: 8px;\n  border-radius: 5px;\n  padding: 6px 8px 4px 8px;\n  transition: background-color .2s ease-in-out;\n  box-shadow: ${props => props.theme.fieldShine};\n  opacity: ${props => (\n    props.isDragging || props.loading\n      ? \"0.9\"\n      : \"1\"\n  )};\n  background: ${props => (\n    props.isDragging\n      ? props.theme.itemDragBG\n      : props.theme.itemBG\n  )};\n  color: ${props => props.theme.itemColor};\n  h4 {\n    font-size: 1.8rem;\n    font-weight: bold;\n    padding-bottom: 2px;\n  }\n  p {\n    font-size: 1.5rem;\n    padding-left: 12px;\n  }\n`;\n\nconst ModalH2 = styled.h2`\n  font-family: ${props => props.theme.hTypeface};\n  font-size: 3.5rem;\n`;\n\nconst ModalH3 = styled.h3`\n  font-size: 2rem;\n  margin-bottom: 10px;\n  margin-top: 4px;\n  text-indent: 30px;\n`;\n\nconst editorStyle = {\n  padding: \"20px\",\n  border: \"1px solid black\",\n  overflow: \"auto\",\n  maxHeight: \"300px\",\n}\n\nexport class DragonEgg extends PureComponent {\n\n  deleteText = (textId, subjectId, index) => {\n    this.props.closeModal();\n    this.props.deleteText(textId, subjectId, index);\n  }\n\n  deleteTextModal = (textId, subjectId, index) => {\n    this.props.setModal({\n      body: <p>Are you sure you want to delete? This is permenent.</p>,\n      buttons: (\n        <React.Fragment>\n          <button onClick={() => this.deleteText(textId, subjectId, index)}>Yes, delete it</button>\n          <button onClick={this.props.closeModal}>Cancel</button>\n        </React.Fragment>\n      )\n    })\n  };\n\n  seeFullText = text => {\n    console.log(text);\n    this.props.setModal({\n      body: (\n        <Fragment>\n          <ModalH2>{text.title}</ModalH2>\n          <ModalH3>{text.thesis}</ModalH3>\n          <Editor\n            value={Value.fromJSON(JSON.parse(text.text))}\n            renderMark={renderMark}\n            renderNode={renderNode}\n            style={editorStyle}\n          />\n        </Fragment>\n      ),\n      buttons: (\n        <Button onClick={this.props.closeModal}>Close</Button>\n      ),\n      style: { maxHeight: '80vh', overflow: 'auto' }\n    })\n  }\n\n  render() {\n    const { index, text, subject } = this.props;\n    return (\n      <Fragment>\n        <Draggable\n          draggableId={text._id}\n          index={index}\n          isDragDisabled={this.props.loading}\n        >\n          {(provided, snapshot) => (\n            <Container\n              {...provided.draggableProps}\n              ref={provided.innerRef}\n              isDragging={snapshot.isDragging}\n              loading={this.props.loading}\n              {...provided.dragHandleProps}\n            >\n              <ItemButtons\n                deleteTextModal={this.deleteTextModal}\n                imageModal={this.props.imageModal}\n                id={text._id}\n                index={index}\n                loading={this.props.loading}\n                seeFullText={this.seeFullText}\n                subject={subject}\n                text={text}\n                toggleSingleEdit={this.props.toggleSingleEdit}\n                uploadImageModal={this.props.uploadImageModal}\n              />\n\n              <h4>{text.title}</h4>\n              <p>{text.thesis}</p>\n\n              <DateDiv text={text} />\n\n            </Container>\n          )}\n        </Draggable>\n      </Fragment>\n\n    );\n  }\n};","import React, { PureComponent, Fragment } from 'react';\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport styled from 'styled-components';\r\nimport { ImageUploader } from \"../PageElements\";\r\nimport { Button, Input, Label } from \"../Forms/FormElements\";\r\nimport { DragonEgg } from \"./DragonEgg\";\r\nimport { ColumnButtons } from \"./DragonElements\";\r\nimport { API, Scales } from '../../utils';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n  width: 260px;\r\n  min-width: 260px;\r\n  margin: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: ${props => props.theme.pageBGLite};\r\n`;\r\n\r\nconst SubjectHeader = styled.div`\r\n  position: absolute;\r\n  top: 30px;\r\n  width: 100%;\r\n`;\r\n\r\nconst DragonList = styled.div`\r\n  padding: 8px;\r\n  padding-top: 136px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  border-radius: 5px;\r\n  transition: all .2s ease-in-out;\r\n  border-color: ${props => (\r\n    props.isDraggingOver\r\n      ? props.theme.columnDragBorder\r\n      : props.theme.links\r\n  )};\r\n  border-width: 2px;\r\n  border-style: solid;\r\n  box-shadow: ${props => (\r\n    props.isDraggingOver\r\n      ? props.theme.columnBS\r\n      : \"none\"\r\n  )};\r\n`;\r\n\r\nconst Heading3 = styled.div`\r\n  font-weight: bold;\r\n  font-size: 2rem;\r\n  text-align: center;\r\n  padding: 0 8px;\r\n  margin: 5px 0 10px 0;\r\n`;\r\n\r\nconst Paragraph = styled.p`\r\n  margin: 0 10px;\r\n  font-size: 1.5rem;\r\n  padding: 8px;\r\n  border-top: 1px solid ${props => props.theme.mainColor};\r\n  min-height: 75px;\r\n  color: ${props => props.theme.mainColor};\r\n  text-align: center;\r\n`;\r\n\r\nexport class DragonNest extends PureComponent {\r\n  state = {\r\n    subject: '',\r\n    theme: '',\r\n  };\r\n\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  updateSubjectModal = subject => {\r\n    this.props.setModal({\r\n      body: (\r\n        <Fragment>\r\n          <Label>Column Subject:</Label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"subject\"\r\n            onChange={this.handleInputChange}\r\n            placeholder={subject.subject}\r\n          />\r\n          <Label>Column Theme:</Label>\r\n          <Input\r\n            type=\"text\"\r\n            name=\"theme\"\r\n            onChange={this.handleInputChange}\r\n            placeholder={subject.theme}\r\n          />\r\n        </Fragment>\r\n      ),\r\n      buttons: (\r\n        <Fragment>\r\n          <Button onClick={() => this.updateSubject(\r\n            subject._id,\r\n            {\r\n              subject: this.state.subject || subject.subject,\r\n              theme: this.state.theme || subject.theme\r\n            }\r\n          )}>Submit</Button>\r\n          <Button onClick={this.props.closeModal}>Cancel</Button>\r\n        </Fragment>\r\n      )\r\n    })\r\n  };\r\n\r\n  updateSubject = async (id, updateObject) => {\r\n    this.props.closeModal();\r\n    const newState = Scales.updateSubjectHelper(id, updateObject, this.props.state);\r\n    API.updateSubject(id, updateObject);\r\n    this.props.executeDragonStateChanges(newState);\r\n  };\r\n\r\n  deleteSubjectModal = (id, index) => {\r\n    this.props.setModal({\r\n      body: <h2>Are you sure you want to delete this column? You will lose all texts contained inside it.</h2>,\r\n      buttons: (\r\n        <Fragment>\r\n          <Button onClick={() => this.deleteSubject(id, index)}>\r\n            Yes, delete it\r\n          </Button>\r\n          <Button onClick={this.props.closeModal}>Cancel</Button>\r\n        </Fragment>\r\n      )\r\n    })\r\n  };\r\n\r\n  deleteSubject = async (id, index) => {\r\n    const newState = Scales.deleteSubjectHelper(id, index, this.props.state);\r\n    await API.deleteSubject(id);\r\n    this.props.executeDragonStateChanges(newState);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      deleteText,\r\n      toggleDragonText,\r\n      imageModal,\r\n      index,\r\n      loading,\r\n      subject,\r\n      texts,\r\n      toggleSubject,\r\n      uploadImageModal,\r\n    } = this.props;\r\n    const { theme, _id } = subject;\r\n    return (\r\n      <Fragment>\r\n        <Draggable draggableId={_id} index={index}>\r\n          {provided => (\r\n            <Container\r\n              {...provided.draggableProps}\r\n              ref={provided.innerRef}\r\n            >\r\n              <ColumnButtons\r\n                uploadImageModal={uploadImageModal}\r\n                loading={loading}\r\n                imageModal={imageModal}\r\n                subject={subject}\r\n                id={_id}\r\n                index={index}\r\n                updateSubjectModal={this.updateSubjectModal}\r\n                deleteSubjectModal={this.deleteSubjectModal}\r\n                toggleDragonText={toggleDragonText}\r\n                toggleInlineNew={this.props.toggleInlineNew}\r\n                toggleSubject={toggleSubject}\r\n              />\r\n\r\n              <SubjectHeader {...provided.dragHandleProps}>\r\n                <Heading3>{subject.subject}</Heading3>\r\n                <Paragraph>{theme}</Paragraph>\r\n              </SubjectHeader>\r\n\r\n              <Droppable droppableId={_id} type=\"text\">\r\n                {(provided, snapshot) => (\r\n                  <DragonList\r\n                    ref={provided.innerRef}\r\n                    {...provided.droppableProps}\r\n                    isDraggingOver={snapshot.isDraggingOver}\r\n                  >\r\n                    <ImageUploader\r\n                      getInitialData={this.props.getInitialData}\r\n                      type=\"text\"\r\n                    >\r\n                      {provided => (\r\n                        texts.map((text, index) => {\r\n                          return (\r\n                            <DragonEgg\r\n                              {...provided}\r\n                              deleteText={deleteText}\r\n                              index={index}\r\n                              key={text._id}\r\n                              subject={subject}\r\n                              text={text}\r\n                              toggleSingleEdit={this.props.toggleSingleEdit}\r\n                            />\r\n                          )\r\n                        })\r\n                      )}\r\n                    </ImageUploader>\r\n                    {provided.placeholder}\r\n                  </DragonList>\r\n                )}\r\n              </Droppable>\r\n            </Container>\r\n          )}\r\n        </Draggable>\r\n      </Fragment>\r\n    )\r\n  }\r\n};","import styled from \"styled-components\";\r\n\r\nexport const EditorStyles = styled.div`\r\n  border-radius: 8px;\r\n  border: ${props => (\r\n    props.mode === \"write\"\r\n      ? \"2px solid \" + props.theme.links\r\n      : \"none\"\r\n  )};\r\n  max-height: ${props => props.inline && '70vh'};\r\n  overflow: auto;\r\n  margin-left: ${props => props.inline && '160px'};\r\n  background: ${props => (\r\n    props.mode === \"write\"\r\n      ? props.theme.editorBG\r\n      : props.isDragging\r\n        ? props.theme.pageBGLite\r\n        : 'transparent'\r\n  )};\r\n  transition: background-color .2s ease-in-out;\r\n  line-height: 1.4;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  color: ${props => (\r\n    props.mode === \"write\"\r\n      ? props.theme.black\r\n      : props.theme.editorColor\r\n  )};\r\n  p {\r\n    text-indent: 25px;\r\n    font-size: ${props => (\r\n      props.mode === \"write\"\r\n        ? \"1.5rem\"\r\n        : \"2.2rem\"\r\n    )};\r\n  }\r\n  ul {\r\n    padding-top: 0;\r\n    margin-top: 0;\r\n  }\r\n  box-shadow: ${props => (\r\n    props.mode === \"write\"\r\n      ? props.theme.fieldShadow\r\n      : \"none\"\r\n  )};\r\n`;","import React, { Component } from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport { Editor } from \"slate-react\";\r\nimport { Value } from \"slate\";\r\nimport styled from 'styled-components';\r\nimport { renderMark, renderNode } from \"../Slate/utils/Renderers\";\r\nimport { EditorStyles } from \"../Slate/utils/EditorStyles\";\r\nimport { LinkBtn } from \"../PageElements\";\r\nimport initialValue from \"../Slate/utils/value.json\"\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  border-radius: 10px;\r\n  background: ${props => (\r\n    props.isDragging\r\n      ? props.theme.pageBGLite\r\n      : 'transparent'\r\n  )};\r\n  transition: background-color 0.2s ease-in-out, border 0.2s ease-in-out;\r\n`;\r\n\r\nconst MetaDataContainer = styled.div`\r\n  min-width: 160px;\r\n  max-width: 160px;\r\n  text-align: right;\r\n  padding-right: 30px;\r\n  padding-top: 10px;\r\n`;\r\n\r\nconst TextTitle = styled.h3`\r\n  font-size: 1.8rem;\r\n  line-height: 1;\r\n  font-weight: bold;\r\n  margin: 0;\r\n`;\r\n\r\nconst TextThesis = styled.p`\r\n  line-height: 1;\r\n  font-size: 1.5rem;\r\n  margin: 0;\r\n  padding: 4px 0 6px 0;\r\n`;\r\n\r\nexport class DragonTextEgg extends Component {\r\n\r\n  deleteTextModal = (textId, subjectId, index) => {\r\n    this.props.setModal({\r\n      body: <p>Are you sure you want to delete? This is permenent.</p>,\r\n      buttons: (\r\n        <React.Fragment>\r\n          <button onClick={() => this.props.deleteText(textId, subjectId, index)}>Yes, delete it</button>\r\n          <button onClick={this.props.closeModal}>Cancel</button>\r\n        </React.Fragment>\r\n      )\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const { index, text, subject, toggleEditable } = this.props;\r\n    const thisValue = text.text ? JSON.parse(text.text) : initialValue;\r\n    text.parentSubject = subject;\r\n    return (\r\n      <React.Fragment>\r\n        <Draggable key={text} draggableId={text._id} index={index}>\r\n          {(provided, snapshot) => (\r\n            <Container\r\n              {...provided.draggableProps}\r\n              ref={provided.innerRef}\r\n              isDragging={snapshot.isDragging}\r\n              {...provided.dragHandleProps}\r\n            >\r\n              <MetaDataContainer>\r\n                <TextTitle>{text.title}</TextTitle>\r\n                <TextThesis>{text.thesis}</TextThesis>\r\n                <LinkBtn\r\n                  underline\r\n                  padding=\"2px 0 10px 8px\"\r\n                  onClick={() => toggleEditable(text._id)}>edit</LinkBtn>\r\n                <LinkBtn\r\n                  underline\r\n                  padding=\"2px 0 10px 8px\"\r\n                  delete\r\n                  onClick={() => this.deleteTextModal(text._id, subject._id, index)}>delete</LinkBtn>\r\n              </MetaDataContainer>\r\n\r\n              <EditorStyles mode=\"read\" isDragging={snapshot.isDragging}>\r\n                <Editor\r\n                  key={text._id}\r\n                  index={index}\r\n                  value={Value.fromJSON(thisValue)}\r\n                  readOnly\r\n                  renderMark={renderMark}\r\n                  renderNode={renderNode}\r\n                />\r\n              </EditorStyles>\r\n            </Container>\r\n          )}\r\n\r\n        </Draggable>\r\n      </React.Fragment>\r\n\r\n    );\r\n  }\r\n};","import React, { Component } from 'react';\r\nimport { Draggable } from \"react-beautiful-dnd\";\r\nimport styled from 'styled-components';\r\nimport { InlineUpdateEditor, TextEditor } from \"../Slate/Editors\";\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  max-width: 1150px;\r\n  display: flex;\r\n  height: 100%;\r\n  position: relative;\r\n  transition: background-color .2s ease-in-out;\r\n  background-color: ${props => (\r\n    props.isDragging\r\n      ? props.theme.pageBGLite\r\n      : props.theme.pageBG\r\n  )};\r\n`;\r\n\r\nexport class DragonTextEditable extends Component {\r\n  render() {\r\n    const {\r\n      text,\r\n      executeDragonStateChanges,\r\n      index,\r\n      toggleEditable,\r\n    } = this.props;\r\n    return (\r\n      <Draggable key={text._id} draggableId={text._id} index={index}>\r\n        {(provided, snapshot) => (\r\n          <Container\r\n            key={text._id}\r\n            index={index}\r\n            {...provided.draggableProps}\r\n            ref={provided.innerRef}\r\n            isDragging={snapshot.isDragging}\r\n          >\r\n            <TextEditor\r\n              callback={toggleEditable}\r\n              executeDragonStateChanges={executeDragonStateChanges}\r\n              incomingText={text}\r\n              state={this.props.state}\r\n              subject={text.subjectId}\r\n              text={JSON.parse(text.text)}\r\n              thesis={text.thesis}\r\n              title={text.title}\r\n            >\r\n              {given => (\r\n                <InlineUpdateEditor\r\n                  dragHandle={provided.dragHandleProps}\r\n                  given={given}\r\n                  id={text._id}\r\n                  inline=\"true\"\r\n                  isDragging={snapshot.isDragging}\r\n                  title={text.title}\r\n                  toggleEditable={toggleEditable}\r\n                />\r\n              )}\r\n            </TextEditor>\r\n\r\n          </Container>\r\n        )}\r\n      </Draggable>\r\n    );\r\n  }\r\n};","import React, { Component } from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\nimport styled from 'styled-components';\nimport { ModalLogic } from \"../Renderers\";\nimport { LinkBtn } from \"../PageElements\";\nimport { DragonTextEgg } from \"./DragonTextEgg\";\nimport { DragonTextEditable } from \"./DragonTextEditable\";\n\nconst TextColumn = styled.div`\n  width: 80%;\n  max-width: 1250px;\n  margin: 0 auto;\n  border-radius: 3px;\n  padding-right: 200px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst SubjectHeading = styled.div`\n  width: 100%;\n  padding-bottom: 5px;\n  border-bottom: 1px solid ${props => props.theme.mainColor};\n`;\n\nconst Title = styled.h3`\n  font-family: ${props => props.theme.hTypeface};\n  width: 100%;\n  font-size: 3.5rem;\n  text-align: center;\n  padding-bottom: 10px;\n  color: ${props => props.theme.titleColor};\n`;\n\nconst DragonTextList = styled.div`\n  padding: 8px 0;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\n\nexport class DragonTextNest extends Component {\n  state = {}\n\n  toggleEditable = textId => {\n    this.setState({ [textId]: !this.state[textId] });\n  }\n\n  render() {\n    const { subject, theme, _id } = this.props.subject\n    console.log(this.props.subjects);\n    return (\n      <TextColumn>\n        <SubjectHeading>\n          <Title title={theme}>Topic: {subject}</Title>\n          <LinkBtn\n            block\n            fancy\n            size=\"1.8rem\"\n            margin=\"auto\"\n            underline\n            // this must be inside an anonymous function,\n            // otherwise it throws an error thinking it's trying to reuse\n            // the parameter passed to the argument when it was toggled on\n            // ...or something.\n            onClick={() => this.props.toggleDragonText()}\n          >\n            return to project overview\n         </LinkBtn>\n        </SubjectHeading>\n\n        <Droppable droppableId={_id} >\n          {(provided, snapshot) => (\n            <DragonTextList\n              ref={provided.innerRef}\n              {...provided.droppableProps}\n              isDraggingOver={snapshot.isDraggingOver}\n            >\n              {this.props.texts.map((text, index) => {\n                console.log(text);\n                return this.state[text._id]\n                  ? (\n                    <DragonTextEditable\n                      key={text._id}\n                      index={index}\n                      incomingSubject={this.props.incomingSubject}\n                      text={text}\n                      state={this.props.state}\n                      subject={this.props.subject}\n                      subjects={this.props.subjects}\n                      user={this.props.user}\n                      toggleEditable={this.toggleEditable}\n                      saveOrder={this.props.saveOrder}\n                      executeDragonStateChanges={this.props.executeDragonStateChanges}\n                      getInitialData={this.props.getInitialData}\n                    />\n                  ) : (\n                    <ModalLogic>\n                      {modalProps => (\n                        <DragonTextEgg\n                          {...modalProps}\n                          key={text._id}\n                          subject={this.props.subject}\n                          subjects={this.props.subjects}\n                          text={text}\n                          index={index}\n                          toggleEditable={this.toggleEditable}\n                          deleteText={this.props.deleteText}\n                        />\n                      )}\n                    </ModalLogic>\n\n                  )\n              })}\n              {provided.placeholder}\n            </DragonTextList>\n          )}\n        </Droppable>\n      </TextColumn>\n    );\n  }\n};","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport { ColumnButtons, DateDiv, ItemButtons } from \"./DragonElements\";\r\n\r\nconst ColumnContainer = styled.div`\r\n  position: relative;\r\n  width: 260px;\r\n  min-width: 260px;\r\n  margin: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: ${props => props.theme.pageBGLite};\r\n`;\r\n\r\nconst ListContainer = styled.div`\r\n  padding: 8px;\r\n  padding-top: 136px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-grow: 1;\r\n  border-radius: 5px;\r\n  transition: all .2s ease-in-out;\r\n  border-color: ${props => props.theme.links};\r\n  border-width: 2px;\r\n  border-style: solid;\r\n  box-shadow: ${props => props.theme.columnBS};\r\n`;\r\n\r\nconst SubjectHeader = styled.div`\r\n  position: absolute;\r\n  top: 30px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Heading3 = styled.div`\r\n  font-weight: bold;\r\n  font-size: 2rem;\r\n  text-align: center;\r\n  padding: 0 8px;\r\n  margin: 5px 0 10px 0;\r\n`;\r\n\r\nconst Paragraph = styled.p`\r\n  margin: 0 10px;\r\n  font-size: 1.5rem;\r\n  padding: 8px;\r\n  border-top: 1px solid ${props => props.theme.mainColor};\r\n  min-height: 75px;\r\n  color: ${props => props.theme.mainColor};\r\n  text-align: center;\r\n`;\r\n\r\nconst ItemContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  margin-bottom: 8px;\r\n  border-radius: 5px;\r\n  padding: 6px 8px 4px 8px;\r\n  transition: background-color .2s ease-in-out;\r\n  box-shadow: ${props => props.theme.fieldShine};\r\n  opacity: ${props => (\r\n    props.dragging || props.loading\r\n      ? \"0.9\"\r\n      : \"1\"\r\n  )};\r\n  background: ${props => props.theme.itemBG};\r\n  color: ${props => props.theme.itemColor};\r\n  h4 {\r\n    font-size: 1.8rem;\r\n    font-weight: bold;\r\n    padding-bottom: 2px;\r\n  }\r\n  p {\r\n    font-size: 1.5rem;\r\n    padding-left: 12px;\r\n  }\r\n`;\r\n\r\nexport class DragonNestFake extends Component {\r\n  render() {\r\n    const { subject, texts } = this.props;\r\n    return (\r\n      <ColumnContainer>\r\n        <ColumnButtons\r\n          deleteSubjectModal=\"nothing\"\r\n          disabled={true}\r\n          dragonTextOn=\"nothing\"\r\n          id={subject._id}\r\n          index={subject._id}\r\n          subject={subject}\r\n          toggleEditor=\"nothing\"\r\n          toggleInlineNew=\"nothing\"\r\n          updateSubjectModal=\"nothing\"\r\n        />\r\n\r\n        <SubjectHeader>\r\n          <Heading3>{subject.subject}</Heading3>\r\n          <Paragraph>{subject.theme}</Paragraph>\r\n        </SubjectHeader>\r\n\r\n        <ListContainer>\r\n          {texts.map((text, index) => (\r\n            <ItemContainer key={text._id}>\r\n              <ItemButtons\r\n                deleteTextModal=\"nothing\"\r\n                disabled={true}\r\n                index={index}\r\n                seeFullText=\"nothing\"\r\n                subject={subject}\r\n                text={text}\r\n                toggleEditor=\"nothing\"\r\n                toggleInlineEdit=\"nothing\"\r\n              />\r\n\r\n              <h4>{text.title}</h4>\r\n              <p>{text.thesis}</p>\r\n\r\n              <DateDiv text={text} />\r\n            </ItemContainer>\r\n          ))}\r\n        </ListContainer>\r\n\r\n      </ColumnContainer>\r\n    )\r\n  }\r\n};","import React, { Component } from 'react';\r\nimport { Editor } from \"slate-react\";\r\nimport styled from 'styled-components';\r\nimport { plugins } from \"../utils/HotKeys\";\r\nimport { renderMark, renderNode } from \"../utils/Renderers\";\r\nimport { Button, Input, Label } from \"../../Forms/FormElements\";\r\nimport RenderButtons from \"../RenderButtons.jsx\";\r\nimport { DragonNestFake } from \"../../Dragons\";\r\n\r\nconst editorStyle = {\r\n  borderRadius: \"6px\",\r\n  minHeight: \"200px\",\r\n  maxHeight: \"35vh\",\r\n  overflow: 'autor',\r\n  minWidth: \"60%\",\r\n  padding: \"10px\",\r\n  fontFamily: \"Arial, Helvetica, sans-serif\"\r\n};\r\n\r\nconst EditorStyles = styled.div`\r\n  border-radius: 8px;\r\n  border: 2px solid ${props => props.theme.links};\r\n  max-height: ${props => props.inline && '70vh'};\r\n  overflow: auto;\r\n  margin-left: ${props => props.inline && '160px'};\r\n  background: ${props => props.theme.editorBG};\r\n  transition: background-color .2s ease-in-out;\r\n  line-height: 1.4;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  color: ${props => props.theme.black};\r\n  p {\r\n    text-indent: 25px;\r\n    font-size: 1.5rem;\r\n  }\r\n  ul {\r\n    padding-top: 0;\r\n    margin-top: 0;\r\n  }\r\n  box-shadow: ${props => props.theme.fieldShadow};\r\n`;\r\n\r\nconst OuterContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  background: transparent;\r\n`;\r\n\r\nconst EditorOuter = styled.div`\r\n  width: 100%;\r\n  margin-right: 200px;\r\n  border: none;\r\n  border-radius: 2px;\r\n  position: relative;\r\n  align-self: center;\r\n`;\r\n\r\nconst EditorInner = styled.div`\r\n  width: 100%;\r\n  padding: 5px 0 10px 10px;\r\n`;\r\n\r\nconst DragHeader = styled.div`\r\n  width: 100%;\r\n  height: 30px;\r\n  background-color: ${props => props.theme.midGrey};\r\n  font-family: ${props => props.theme.hTypeface};\r\n  position: absolute;\r\n  top: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 10px;\r\n  font-size: 2.4rem;\r\n  color: ${props => props.theme.black};\r\n`;\r\n\r\nexport class InlineNewEditor extends Component {\r\n\r\n  render() {\r\n    const { given, texts } = this.props;\r\n    return (\r\n      <OuterContainer>\r\n        <DragonNestFake\r\n          subject={given.state.subject}\r\n          texts={texts}\r\n        />\r\n\r\n        <EditorOuter>\r\n          <DragHeader>\r\n            <p>Create New Text</p>\r\n          </DragHeader>\r\n\r\n          <EditorInner>\r\n            <RenderButtons\r\n              state={given.state}\r\n              onClickMark={given.onClickMark}\r\n              onClickBlock={given.onClickBlock}\r\n              hasMark={given.hasMark}\r\n              hasBlock={given.hasBlock}\r\n            />\r\n\r\n            <Label>Title:</Label>\r\n            <Input\r\n              style={{ maxWidth: \"300px\" }}\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={given.state.title}\r\n              maxLength=\"22\"\r\n              placeholder=\"(22 char max)\"\r\n              onChange={given.handleInputChange}\r\n            />\r\n\r\n            <Label>Summary:</Label>\r\n            <Input\r\n              style={{ maxWidth: \"300px\" }}\r\n              type=\"text\"\r\n              name=\"thesis\"\r\n              value={given.state.thesis}\r\n              placeholder=\"enter a short description\"\r\n              onChange={given.handleInputChange}\r\n            />\r\n\r\n            <EditorStyles>\r\n              <Editor\r\n                autoFocus\r\n                style={editorStyle}\r\n                plugins={plugins}\r\n                ref={given.ref}\r\n                value={given.state.value}\r\n                onChange={given.onChange}\r\n                renderMark={renderMark}\r\n                renderNode={renderNode}\r\n              />\r\n            </EditorStyles>\r\n\r\n            <Button\r\n              style={{ marginTop: \"8px\", marginRight: \"8px\" }}\r\n              disabled={!given.state.title || !given.state.subject}\r\n              onClick={given.createText}\r\n            >\r\n              Save\r\n            </Button>\r\n\r\n            <Button\r\n              style={{ marginTop: \"8px\", marginRight: \"8px\" }}\r\n              // if I don't place this in an anonymous function, it creates an error\r\n              onClick={() => this.props.toggleInlineNew()}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </EditorInner>\r\n        </EditorOuter>\r\n\r\n      </OuterContainer>\r\n    );\r\n  }\r\n};","import React, { Component } from 'react';\r\nimport { Editor } from \"slate-react\";\r\nimport styled from 'styled-components';\r\nimport { plugins } from \"../utils/HotKeys\";\r\nimport { renderMark, renderNode } from \"../utils/Renderers\";\r\nimport { EditorStyles } from \"../utils/EditorStyles\";\r\nimport { Button, Input, Label } from \"../../Forms/FormElements\";\r\nimport RenderButtons from \"../RenderButtons.jsx\";\r\n\r\nconst editorStyle = {\r\n  borderRadius: \"6px\",\r\n  minHeight: \"200px\",\r\n  minWidth: \"60%\",\r\n  padding: \"10px\",\r\n  fontFamily: \"Arial, Helvetica, sans-serif\"\r\n};\r\n\r\nconst EditorOuter = styled.div`\r\n  width: 100%;\r\n  border: none;\r\n  border-radius: 2px;\r\n  position: relative;\r\n`;\r\n\r\nconst EditorInner = styled.div`\r\n  width: 100%;\r\n  padding: 5px 0 10px 10px;\r\n`;\r\n\r\nconst DragHeader = styled.div`\r\n  width: 100%;\r\n  height: 30px;\r\n  background-color: ${props => props.theme.midGrey};\r\n  font-family: ${props => props.theme.hTypeface};\r\n  position: absolute;\r\n  top: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 10px;\r\n  font-size: 2.4rem;\r\n  color: ${props => props.theme.black};\r\n`;\r\n\r\nconst MetaDataForm = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  top: 40px;\r\n  width: 160px;\r\n`;\r\n\r\nexport class InlineUpdateEditor extends Component {\r\n\r\n  render() {\r\n    const { given, id, inline } = this.props;\r\n    return (\r\n      <EditorOuter>\r\n        <DragHeader {...this.props.dragHandle}>\r\n          <p>{`Edit ${this.props.title}`}</p>\r\n        </DragHeader>\r\n\r\n        <EditorInner>\r\n          <RenderButtons\r\n            inline={inline}\r\n            state={given.state}\r\n            onClickMark={given.onClickMark}\r\n            onClickBlock={given.onClickBlock}\r\n            hasMark={given.hasMark}\r\n            hasBlock={given.hasBlock}\r\n          />\r\n\r\n          <MetaDataForm>\r\n            <Label>Title:</Label>\r\n            <Input\r\n              style={{ maxWidth: \"300px\" }}\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={given.state.title}\r\n              maxLength=\"22\"\r\n              placeholder=\"(22 char max)\"\r\n              onChange={given.handleInputChange}\r\n            />\r\n            <Label>Summary:</Label>\r\n            <Input\r\n              style={{ maxWidth: \"300px\" }}\r\n              type=\"text\"\r\n              name=\"thesis\"\r\n              value={given.state.thesis}\r\n              placeholder=\"enter a short description\"\r\n              onChange={given.handleInputChange}\r\n            />\r\n            <Button\r\n              style={{ marginTop: \"8px\", marginRight: \"8px\" }}\r\n              disabled={!given.state.title || !given.state.subject}\r\n              nerb=\"feck\"\r\n              onClick={() => given.updateText(id)}\r\n            >\r\n              Save\r\n            </Button>\r\n            <Button\r\n              style={{ marginTop: \"8px\", marginRight: \"8px\" }}\r\n              nerb=\"shizzle\"\r\n              onClick={() => this.props.toggleEditable(id)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </MetaDataForm>\r\n\r\n          <EditorStyles\r\n            mode=\"write\"\r\n            inline={inline}\r\n            isDragging={this.props.isDragging}\r\n          >\r\n            <Editor\r\n              autoFocus\r\n              style={editorStyle}\r\n              plugins={plugins}\r\n              ref={given.ref}\r\n              value={given.state.value}\r\n              onChange={given.onChange}\r\n              renderMark={renderMark}\r\n              renderNode={renderNode}\r\n            />\r\n          </EditorStyles>\r\n        </EditorInner>\r\n      </EditorOuter>\r\n    );\r\n  };\r\n};","import React, { Component } from 'react';\r\nimport { Editor } from \"slate-react\";\r\nimport styled from 'styled-components';\r\nimport { plugins } from \"../utils/HotKeys\";\r\nimport { renderMark, renderNode } from \"../utils/Renderers\";\r\nimport { EditorStyles } from \"../utils/EditorStyles\";\r\nimport { Button, Input, Label, Select } from \"../../Forms/FormElements\";\r\nimport RenderButtons from \"../RenderButtons.jsx\";\r\n\r\nconst editorStyle = {\r\n  borderRadius: \"6px\",\r\n  minHeight: \"200px\",\r\n  minWidth: \"60%\",\r\n  padding: \"10px\",\r\n  fontFamily: \"Arial, Helvetica, sans-serif\"\r\n};\r\n\r\nconst EditorOuter = styled.div`\r\n  width: 100%;\r\n  border: 1px solid ${props => props.theme.mainColor};\r\n  border-radius: 2px;\r\n  position: relative;\r\n`;\r\n\r\nconst EditorInner = styled.div`\r\n  width: 100%;\r\n  padding: 10px;\r\n`;\r\n\r\nconst DragHeader = styled.div`\r\n  width: 100%;\r\n  height: 30px;\r\n  background-color: ${props => props.theme.midGrey};\r\n  font-family: ${props => props.theme.hTypeface};\r\n  position: absolute;\r\n  top: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 10px;\r\n  font-size: 2.4rem;\r\n  color: ${props => props.theme.black};\r\n`;\r\n\r\nconst MetaDataForm = styled.div`\r\n  position: inherit;\r\n`;\r\n\r\nexport class SingleNewEditor extends Component {\r\n\r\n  // createText = async () => {\r\n  //   const { given, projectId, state } = this.props;\r\n  //   const textObject = {\r\n  //     projectId: projectId,\r\n  //     subjectId: given.state.subject,\r\n  //     title: given.state.title,\r\n  //     thesis: given.state.thesis,\r\n  //     text: JSON.stringify(given.state.value.toJSON())\r\n  //   };\r\n  //   const newText = await API.createText(textObject);\r\n  //   const newState = Scales.insertTextHelper(given.state.subject, newText.data, state);\r\n  //   this.props.executeDragonStateChanges(newState);\r\n  // };\r\n\r\n  render() {\r\n    const { given, subjects } = this.props;\r\n    return (\r\n      <EditorOuter>\r\n        <DragHeader {...this.props.dragHandle}>\r\n          <p>Create New Text</p>\r\n        </DragHeader>\r\n\r\n        <EditorInner>\r\n          <RenderButtons\r\n            state={given.state}\r\n            onClickMark={given.onClickMark}\r\n            onClickBlock={given.onClickBlock}\r\n            hasMark={given.hasMark}\r\n            hasBlock={given.hasBlock}\r\n          />\r\n\r\n          <MetaDataForm>\r\n            <Label>Title:</Label>\r\n            <Input\r\n              style={{ maxWidth: \"300px\" }}\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={given.state.title}\r\n              maxLength=\"22\"\r\n              placeholder=\"(22 char max)\"\r\n              onChange={given.handleInputChange}\r\n            />\r\n            <Label>Summary:</Label>\r\n            <Input\r\n              style={{ maxWidth: \"300px\" }}\r\n              type=\"text\"\r\n              name=\"thesis\"\r\n              value={given.state.thesis}\r\n              placeholder=\"enter a short description\"\r\n              onChange={given.handleInputChange}\r\n            />\r\n            <Label>Column:</Label>\r\n            <Select\r\n              style={{ maxWidth: \"300px\", width: \"300px\", marginBottom: '10px' }}\r\n              value={given.state.subject}\r\n              onChange={given.handleInputChange}\r\n              name=\"subject\"\r\n            >\r\n              <option value=\"\">Select a column:</option>\r\n              {subjects.map(subject => <option key={subject._id} value={subject._id}>{subject.subject}</option>)}\r\n            </Select>\r\n          </MetaDataForm>\r\n\r\n          <EditorStyles mode=\"write\">\r\n            <Editor\r\n              autoFocus\r\n              style={editorStyle}\r\n              plugins={plugins}\r\n              ref={given.ref}\r\n              value={given.state.value}\r\n              onChange={given.onChange}\r\n              renderMark={renderMark}\r\n              renderNode={renderNode}\r\n            />\r\n          </EditorStyles>\r\n\r\n          <Button\r\n            style={{ marginTop: \"8px\", marginRight: \"8px\" }}\r\n            disabled={!given.state.title || !given.state.subject}\r\n            onClick={given.createText}\r\n          >\r\n            Save\r\n          </Button>\r\n\r\n          <Button\r\n            style={{ marginTop: \"8px\", marginRight: \"8px\" }}\r\n            onClick={this.props.toggleSingleNewEditor}\r\n          >\r\n            Cancel\r\n          </Button>\r\n        </EditorInner>\r\n      </EditorOuter>\r\n    );\r\n  };\r\n};","import React, { Component } from 'react';\r\nimport { Editor } from \"slate-react\";\r\nimport styled from 'styled-components';\r\nimport { plugins } from \"../utils/HotKeys\";\r\nimport { renderMark, renderNode } from \"../utils/Renderers\";\r\nimport { Button, Input, Label } from \"../../Forms/FormElements\";\r\nimport RenderButtons from \"../RenderButtons.jsx\";\r\nimport { DragonNestFake } from \"../../Dragons\";\r\n\r\nconst editorStyle = {\r\n  borderRadius: \"6px\",\r\n  minHeight: \"200px\",\r\n  maxHeight: \"35vh\",\r\n  overflow: 'autor',\r\n  minWidth: \"60%\",\r\n  padding: \"10px\",\r\n  fontFamily: \"Arial, Helvetica, sans-serif\"\r\n};\r\n\r\nconst EditorStyles = styled.div`\r\n  border-radius: 8px;\r\n  border: 2px solid ${props => props.theme.links};\r\n  max-height: ${props => props.inline && '70vh'};\r\n  overflow: auto;\r\n  margin-left: ${props => props.inline && '160px'};\r\n  background: ${props => props.theme.editorBG};\r\n  transition: background-color .2s ease-in-out;\r\n  line-height: 1.4;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  color: ${props => props.theme.black};\r\n  p {\r\n    text-indent: 25px;\r\n    font-size: 1.5rem;\r\n  }\r\n  ul {\r\n    padding-top: 0;\r\n    margin-top: 0;\r\n  }\r\n  box-shadow: ${props => props.theme.fieldShadow};\r\n`;\r\n\r\nconst OuterContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  background: transparent;\r\n`;\r\n\r\nconst EditorOuter = styled.div`\r\n  width: 100%;\r\n  margin-right: 200px;\r\n  border: none;\r\n  border-radius: 2px;\r\n  position: relative;\r\n  align-self: center;\r\n`;\r\n\r\nconst EditorInner = styled.div`\r\n  width: 100%;\r\n  padding: 5px 0 10px 10px;\r\n`;\r\n\r\nconst DragHeader = styled.div`\r\n  width: 100%;\r\n  height: 30px;\r\n  background-color: ${props => props.theme.midGrey};\r\n  font-family: ${props => props.theme.hTypeface};\r\n  position: absolute;\r\n  top: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 10px;\r\n  font-size: 2.4rem;\r\n  color: ${props => props.theme.black};\r\n`;\r\n\r\nexport class SingleUpdateEditor extends Component {\r\n\r\n  render() {\r\n    const { given, texts } = this.props;\r\n    return (\r\n      <OuterContainer>\r\n        <DragonNestFake\r\n          subject={given.state.subject}\r\n          texts={texts}\r\n        />\r\n\r\n        <EditorOuter>\r\n          <DragHeader>\r\n            <p>{`Edit ${given.state.title}`}</p>\r\n          </DragHeader>\r\n\r\n          <EditorInner>\r\n            <RenderButtons\r\n              state={given.state}\r\n              onClickMark={given.onClickMark}\r\n              onClickBlock={given.onClickBlock}\r\n              hasMark={given.hasMark}\r\n              hasBlock={given.hasBlock}\r\n            />\r\n\r\n            <Label>Title:</Label>\r\n            <Input\r\n              style={{ maxWidth: \"300px\" }}\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={given.state.title}\r\n              maxLength=\"22\"\r\n              placeholder=\"(22 char max)\"\r\n              onChange={given.handleInputChange}\r\n            />\r\n            <Label>Summary:</Label>\r\n            <Input\r\n              style={{ maxWidth: \"300px\" }}\r\n              type=\"text\"\r\n              name=\"thesis\"\r\n              value={given.state.thesis}\r\n              placeholder=\"enter a short description\"\r\n              onChange={given.handleInputChange}\r\n            />\r\n\r\n            <EditorStyles>\r\n              <Editor\r\n                autoFocus\r\n                style={editorStyle}\r\n                plugins={plugins}\r\n                ref={given.ref}\r\n                value={given.state.value}\r\n                onChange={given.onChange}\r\n                renderMark={renderMark}\r\n                renderNode={renderNode}\r\n              />\r\n            </EditorStyles>\r\n            <Button\r\n              style={{ marginTop: \"8px\", marginRight: \"8px\" }}\r\n              disabled={!given.state.title || !given.state.subject}\r\n              onClick={() => given.updateText(this.props.text._id)}\r\n            >\r\n              Save\r\n            </Button>\r\n            <Button\r\n              style={{ marginTop: \"8px\", marginRight: \"8px\" }}\r\n              // if I don't place this in an anonymous function, it creates an error\r\n              onClick={() => this.props.toggleSingleEdit()}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </EditorInner>\r\n        </EditorOuter>\r\n      </OuterContainer>\r\n    );\r\n  }\r\n}","import { Component } from 'react';\r\nimport { Value } from \"slate\";\r\nimport initialValue from \"../utils/value.json\";\r\nimport { API, Scales } from \"../../../utils\";\r\n\r\nconst DEFAULT_NODE = 'paragraph';\r\n\r\nexport class TextEditor extends Component {\r\n  state = {\r\n    value: Value.fromJSON(this.props.text ? this.props.text : initialValue),\r\n    title: this.props.title || '',\r\n    subject: this.props.subject || '',\r\n    thesis: this.props.thesis || '',\r\n    incomingText: this.props.incomingText,\r\n  };\r\n\r\n  // Standard input change controller\r\n  handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  onChange = ({ value }) => {\r\n    this.setState({ value });\r\n  };\r\n\r\n  ref = editor => {\r\n    this.editor = editor;\r\n  };\r\n\r\n  hasMark = type => {\r\n    const { value } = this.state;\r\n    return value.activeMarks.some(mark => mark.type === type);\r\n  };\r\n\r\n  onClickMark = (type) => {\r\n    this.editor.toggleMark(type);\r\n  };\r\n\r\n  hasBlock = type => {\r\n    const { value } = this.state;\r\n    return value.blocks.some(node => node.type === type);\r\n  };\r\n\r\n  onClickBlock = (type) => {\r\n    const { editor } = this;\r\n    const { value } = editor;\r\n    const { document } = value;\r\n\r\n    // Handle everything but list buttons.\r\n    if (type !== 'bulleted-list' && type !== 'numbered-list') {\r\n      const isActive = this.hasBlock(type);\r\n      const isList = this.hasBlock('list-item')\r\n\r\n      if (isList) {\r\n        editor\r\n          .setBlocks(isActive ? DEFAULT_NODE : type)\r\n          .unwrapBlock('bulleted-list')\r\n          .unwrapBlock('numbered-list');\r\n      } else {\r\n        editor.setBlocks(isActive ? DEFAULT_NODE : type);\r\n      }\r\n    } else {\r\n      // Handle the extra wrapping required for list buttons.\r\n      const isList = this.hasBlock('list-item');\r\n      const isType = value.blocks.some(block => {\r\n        return !!document.getClosest(block.key, parent => parent.type === type);\r\n      });\r\n\r\n      if (isList && isType) {\r\n        editor\r\n          .setBlocks(DEFAULT_NODE)\r\n          .unwrapBlock('bulleted-list')\r\n          .unwrapBlock('numbered-list')\r\n      } else if (isList) {\r\n        editor\r\n          .unwrapBlock(\r\n            type === 'bulleted-list' ? 'numbered-list' : 'bulleted-list'\r\n          )\r\n          .wrapBlock(type)\r\n      } else {\r\n        editor.setBlocks('list-item').wrapBlock(type)\r\n      }\r\n    }\r\n  };\r\n\r\n  updateText = async id => {\r\n    const textObject = {\r\n      title: this.state.title,\r\n      thesis: this.state.thesis,\r\n      text: JSON.stringify(this.state.value.toJSON())\r\n    }\r\n    const text = await API.updateText(id, textObject);\r\n    const newState = Scales.updateTextHelper(text.data, this.props.state);\r\n    this.props.executeDragonStateChanges(newState);\r\n    await this.props.callback();\r\n  };\r\n\r\n  createText = async () => {\r\n    const { callback, state } = this.props;\r\n    const id = this.state.subject._id || this.state.subject;\r\n    console.log(id);\r\n    const textObject = {\r\n      projectId: this.props.projectId,\r\n      subjectId: this.state.subject._id || this.state.subject,\r\n      title: this.state.title,\r\n      thesis: this.state.thesis,\r\n      text: JSON.stringify(this.state.value.toJSON())\r\n    }\r\n    const newText = await API.createText(textObject);\r\n    const newState = await Scales.insertTextHelper(id, newText.data, state);\r\n    if (callback) this.props.callback();\r\n    this.props.executeDragonStateChanges(newState);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      this.props.children({\r\n        createText: this.createText,\r\n        handleInputChange: this.handleInputChange,\r\n        hasBlock: this.hasBlock,\r\n        hasMark: this.hasMark,\r\n        onChange: this.onChange,\r\n        onClickBlock: this.onClickBlock,\r\n        onClickMark: this.onClickMark,\r\n        ref: this.ref,\r\n        state: this.state,\r\n        updateText: this.updateText,\r\n      })\r\n    )\r\n  };\r\n}","import React, { Component, Fragment } from 'react';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport styled from \"styled-components\";\nimport { ImageUploader, Page } from \"../components/PageElements\"\nimport { InlineNewEditor, SingleNewEditor, SingleUpdateEditor, TextEditor } from \"../components/Slate/Editors\";\nimport { DragonNest, DragonTextNest } from \"../components/Dragons\";\nimport { DragonLair } from \"../components/Dragons/DragonElements\";\nimport { API, Scales } from '../utils';\n\nconst EditorContainer = styled.div`\n  width: 100%;\n  max-width: 1150px;\n  height: 100%;\n  padding-right: 200px;\n  margin: auto;\n`;\n\nclass Project extends Component {\n  // if there is a saved order, it will load that; otherwise, it will load the projectData\n  // (when a project is first created, there won't be a saved order)\n  state = this.props.project.order\n    ? this.props.project.order\n    : {\n      create: false,\n      dragons: false,\n      subjects: this.props.projectData.subjects,\n      texts: this.props.projectData.texts,\n      subjectOrder: this.props.projectData.subjectOrder,\n      editorOn: false,\n      dropZoneOn: true,\n      singleSubjectId: '',\n      singleSubject: '',\n      singleText: '',\n      singleTextEdit: false,\n      inlineTextNew: false,\n    }\n\n  componentDidMount() {\n    // if there is no saved order, then this will load the first three columns\n    if (!this.props.project.order) {\n      const { subjects } = this.props.projectData;\n      const keysArray = Object.keys(subjects);\n      const stateObj = {};\n      for (let i = 0; i < 3; i++) {\n        const element = keysArray[i];\n        stateObj[element] = true;\n      }\n      this.setState(stateObj);\n    }\n  };\n\n  executeToggles = stateObject => {\n    this.setState(stateObject);\n  };\n\n  executeDragonStateChanges = async stateObject => {\n    await this.setState(stateObject);\n    this.saveOrder();\n  };\n\n  toggleSingleNewEditor = () => {\n    const { editorOn, dropZoneOn } = this.state;\n    const newState = {\n      editorOn: !editorOn,\n      dropZoneOn: !dropZoneOn\n    }\n    this.executeToggles(newState)\n  };\n\n  toggleInlineNew = subject => {\n    this.setState({\n      singleSubject: subject,\n      inlineTextNew: !this.state.inlineTextNew,\n      singleTextEdit: false,\n      dropZoneOn: !this.state.dropZoneOn,\n    })\n  }\n\n  toggleSingleEdit = (subject, text) => {\n    this.setState({\n      singleSubject: subject,\n      singleText: text,\n      inlineTextNew: false,\n      singleTextEdit: !this.state.singleTextEdit,\n      dropZoneOn: !this.state.dropZoneOn,\n    })\n  };\n\n  toggleSubject = async id => {\n    this.executeDragonStateChanges({ [id]: !this.state[id] });\n  };\n\n  toggleDragonText = id => {\n    const stateObject = {}\n    if (id) {\n      stateObject.singleSubjectId = id;\n      stateObject.dragons = true\n    }\n    else stateObject.dragons = false;\n    this.executeDragonStateChanges(stateObject);\n  }\n\n  clearAllTopics = async () => {\n    const stateObject = Scales.clearTopicsHelper(this.state.subjectOrder);\n    this.executeDragonStateChanges(stateObject)\n  };\n\n  // This hasn't been tested yet. I know it's being used, but... \n  // I think it can be cleaned up and simplified.\n  toggleSubjectForm = async (created, subject) => {\n    if (created === \"created\") {\n      const stateObject = Scales.toggleSubjectHelper(this.state, subject);\n      // make sure the new subject is set to 'true' in state so it will appear upon creation\n      stateObject[subject._id] = true;\n      await this.setState(stateObject);\n      this.saveOrder();\n    }\n    else this.setState({ create: !this.state.create });\n  };\n\n  // This one has been removed from DragonLogic but should remain here\n  // since it's used by a few components\n  // Also, rewrite it to use the execute function from DragonLogic\n  deleteText = async (textId, subjectId, index) => {\n    const newState = Scales.deleteTextHelper(textId, subjectId, index, this.state);\n    await API.deleteText(textId);\n    this.executeDragonStateChanges(newState);\n  };\n\n  onDragStart = start => {\n    if (start.type !== 'subject') this.setState({ dragging: true });\n  }\n\n  onDragEnd = async result => {\n    await this.setState({ loading: true });\n    const { destination, source, draggableId, type } = result;\n    if (!destination) {\n      await this.setState({ loading: false });\n      return;\n    }\n    if (destination.droppableId === source.droppableId &&\n      destination.index === source.index) {\n      await this.setState({ loading: false });\n      return;\n    }\n\n    // if you are dragging one of the subject columns, the type will be \"subject\"\n    if (type === 'subject') {\n      const newState = Scales.dragonSubjectColumns(this.state, source, destination, draggableId);\n      await this.setState(newState);\n      this.saveOrder();\n      return;\n    }\n\n    const start = this.state.subjects[source.droppableId];\n    const finish = this.state.subjects[destination.droppableId];\n\n    // if source column and destination column are the same:\n    if (start === finish) {\n      const newState = Scales.singleSubjectDragon(this.state, start, source, destination, draggableId);\n      await this.setState(newState);\n      this.saveOrder();\n      return;\n    }\n\n    // if moving to a new column:\n    const newState = Scales.multiSubjectDragon(this.state, start, finish, source, destination, draggableId);\n    await this.setState(newState);\n    this.saveOrder();\n    return;\n  };\n\n  saveOrder = async () => {\n    const { _id } = this.props.project;\n    const orderObject = Object.assign({},\n      { ...this.state },\n      { editorOn: false, loading: false, dragging: false, dropZoneOn: true });\n\n    delete orderObject.texts;\n    const updateObj = { order: JSON.stringify(orderObject) };\n\n    await API.updateProject(_id, updateObj);\n    this.props.getInitialData(this.props.user);\n  };\n\n  toggleImageInOrder = async newSubject => {\n    const newState = {\n      ...this.state,\n      subjects: {\n        ...this.state.subjects,\n        [newSubject._id]: {\n          ...this.state.subjects[newSubject._id],\n          image: newSubject.image,\n          largeImage: newSubject.largeImage,\n          publicId: newSubject.publicId\n        }\n      }\n    }\n    this.setState(newState);\n    this.saveOrder();\n  };\n\n  render() {\n    const { title, _id, summary } = this.props.project;\n    const subjects = this.state.subjectOrder\n      .map(subject => (\n        { ...this.state.subjects[subject] }\n      ));\n\n    return (\n      <DragDropContext\n        onDragEnd={this.onDragEnd}\n        onDragStart={this.onDragStart}\n        onDragUpdate={this.onDragUpdate}\n      >\n        <Page\n          authenticated={this.props.authenticated}\n          clearAllTopics={this.clearAllTopics}\n          create={this.state.create}\n          dragons={this.state.dragons}\n          editorOn={this.state.editorOn}\n          logout={this.props.logout}\n          mode={this.props.mode}\n          nextMode={this.props.nextMode}\n          projectId={_id}\n          subjects={subjects}\n          subtitle={summary}\n          title={`Project: ${title}`}\n          toggleDragonText={this.toggleDragonText}\n          toggleSingleNewEditor={this.toggleSingleNewEditor}\n          toggleSubject={this.toggleSubject}\n          toggleSubjectForm={this.toggleSubjectForm}\n          toggleStyleMode={this.props.toggleStyleMode}\n          user={this.props.user}\n        >\n\n          {this.state.editorOn &&\n            <EditorContainer>\n              <TextEditor\n                executeDragonStateChanges={this.executeDragonStateChanges}\n                callback={this.toggleSingleNewEditor}\n                projectId={_id}\n                state={this.state}\n              >\n                {given => (\n                  <SingleNewEditor\n                    given={given}\n                    subjects={subjects}\n                    toggleSingleNewEditor={this.toggleSingleNewEditor}\n                  />\n                )}\n              </TextEditor>\n            </EditorContainer>\n          }\n\n          {this.state.inlineTextNew &&\n            <TextEditor\n              callback={this.toggleInlineNew}\n              executeDragonStateChanges={this.executeDragonStateChanges}\n              projectId={this.props.project._id}\n              subject={this.state.singleSubject}\n              state={this.state}\n            >\n              {given => (\n                <InlineNewEditor\n                  given={given}\n                  texts={this.state.singleSubject.textIds.map(textId => this.state.texts[textId])}\n                  toggleInlineNew={this.toggleInlineNew}\n                />\n              )}\n\n            </TextEditor>}\n\n          {this.state.singleTextEdit &&\n            <TextEditor\n              callback={this.toggleSingleEdit}\n              executeDragonStateChanges={this.executeDragonStateChanges}\n              state={this.state}\n              subject={this.state.singleSubject}\n              text={JSON.parse(this.state.singleText.text)}\n              title={this.state.singleText.title}\n              thesis={this.state.singleText.thesis}\n            >\n              {given => (\n                <SingleUpdateEditor\n                  given={given}\n                  text={this.state.singleText}\n                  texts={this.state.singleSubject.textIds.map(textId => this.state.texts[textId])}\n                  toggleSingleEdit={this.toggleSingleEdit}\n                />\n              )}\n            </TextEditor>}\n\n          {this.state.dropZoneOn &&\n            <DragonLair>\n              {this.state.dragons\n                ? (\n                  <Fragment>\n                    <DragonTextNest\n                      deleteText={this.deleteText}\n                      executeDragonStateChanges={this.executeDragonStateChanges}\n                      getInitialData={this.props.getInitialData}\n                      incomingSubject={this.state.incomingSubject}\n                      incomingText={this.state.incomingText}\n                      saveOrder={this.saveOrder}\n                      state={this.state}\n                      subject={this.state.subjects[this.state.singleSubjectId]}\n                      subjects={subjects}\n                      texts={this.state.subjects[this.state.singleSubjectId].textIds\n                        .map(textId => (this.state.texts[textId]))}\n                      toggleDragonText={this.toggleDragonText}\n                      user={this.props.user}\n                    />\n                  </Fragment>\n                ) : (\n                  <ImageUploader\n                    getInitialData={this.props.getInitialData}\n                    toggleImageInOrder={this.toggleImageInOrder}\n                    type=\"subject\"\n                  >\n                    {provided => (\n                      this.state.subjectOrder.map((subjectId, index) => {\n                        const subject = this.state.subjects[subjectId];\n                        const texts = subject.textIds.map(textId => this.state.texts[textId]);\n                        return this.state[subject._id] &&\n                          <DragonNest\n                            {...provided}\n                            deleteText={this.deleteText}\n                            dragging={this.state.dragging}\n                            executeDragonStateChanges={this.executeDragonStateChanges}\n                            getInitialData={this.props.getInitialData}\n                            index={index}\n                            key={subject._id}\n                            saveOrder={this.saveOrder}\n                            state={this.state}\n                            subject={subject}\n                            texts={texts}\n                            toggleDragonText={this.toggleDragonText}\n                            toggleInlineNew={this.toggleInlineNew}\n                            toggleSingleEdit={this.toggleSingleEdit}\n                            toggleSubject={this.toggleSubject}\n                            user={this.props.user}\n                          />\n                      })\n                    )}\n                  </ImageUploader>\n\n                )}\n            </DragonLair>}\n        </Page>\n      </DragDropContext>\n    );\n  }\n}\n\nexport default Project;","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\nimport { ThemeProvider } from \"styled-components\";\nimport Home from \"./pages/Home\";\nimport NoMatch from \"./pages/NoMatch\";\nimport Project from \"./pages/Project\";\nimport { Themes } from \"./components/Styles\";\nimport { AddPropsToRoute, API, Utils } from \"./utils\";\n\nlet isAuthenticated = false;\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route {...rest}>\n    {routeProps => (\n      isAuthenticated\n        ? <Component {...routeProps} />\n        : <Redirect to=\"/\" />\n    )}\n  </Route>\n);\n\nclass App extends Component {\n  state = {\n    projects: [],\n    user: null,\n    loading: true,\n    styleMode: Themes.brightmode,\n    nextMode: 'Night'\n  };\n\n  componentDidMount() {\n    this.getInitialData();\n  };\n\n  toggleStyleMode = modeInput => {\n    let stateObj = {};\n    if (modeInput === \"Bright\") {\n      stateObj.styleMode = Themes.brightmode;\n      stateObj.nextMode = \"Night\";\n    }\n    if (modeInput === \"Night\") {\n      stateObj.styleMode = Themes.nightmode;\n      stateObj.nextMode = \"Fright\";\n    }\n    if (modeInput === \"Fright\") {\n      stateObj.styleMode = Themes.frightmode;\n      stateObj.nextMode = \"Bright\";\n    }\n    this.setState(stateObj);\n  }\n\n  getInitialData = async (userInfo) => {\n    let projects = [];\n    let user = userInfo;\n    let error;\n    let projectData = [];\n    let projectOrder = [];\n    let projectOrderData = {};\n\n    if (!user)\n      try {\n        const userResponse = await API.getUser();\n        // do this (immediately below) to keep user consistent with the way\n        // userInfo is passed to this function in order to avoid excess db requests.\n        user = userResponse.data;\n      }\n      catch (err) {\n        error = err;\n      }\n\n    if (!error && user._id) {\n      const projectsRes = await API.getProjects();\n      projects = projectsRes.data;\n\n      projects.forEach(project => {\n        if (project.order)\n          projectData.push(Utils.addTextsToOrder(project));\n\n        else\n          projectData.push(Utils.formatInitialData(project));\n      });\n      \n      if (user.order) projectOrder = JSON.parse(user.order);\n      else projectOrder = user.projects;\n\n      projectOrderData = Utils.formatProjectOrder(projects);\n\n      isAuthenticated = true;\n    }\n\n    this.setState({\n      projectData,\n      projectOrder,\n      projectOrderData,\n      loading: false,\n      projects,\n      user,\n    });\n  }\n\n  logout = event => {\n    if (event) event.preventDefault();\n    API.logout();\n    isAuthenticated = false;\n    this.setState({ user: null, });\n  };\n\n  render() {\n    // if (this.state.loading) return null;\n    return (\n      <ThemeProvider theme={this.state.styleMode}>\n        <Router>\n          <Switch>\n            <Route exact path=\"/\">\n              {routeProps => {\n                if (this.state.loading) return null;\n                return (\n                  <Home\n                    {...routeProps}\n                    authenticated={isAuthenticated}\n                    projectOrder={this.state.projectOrder}\n                    projectOrderData={this.state.projectOrderData}\n                    user={this.state.user}\n                    projects={this.state.projects}\n                    getInitialData={this.getInitialData}\n                    logout={this.logout}\n                    loading={this.state.loading}\n                    styleMode={this.state.styleMode}\n                    nextMode={this.state.nextMode}\n                    toggleStyleMode={this.toggleStyleMode}\n                  />\n                )\n              }}\n            </Route>\n\n            {this.state.projects.length > 0\n              && (\n                this.state.projects.map((project, index) => (\n                  <PrivateRoute\n                    key={project._id}\n                    path={`/${project.link}`}\n                    component={AddPropsToRoute(Project, {\n                      authenticated: isAuthenticated,\n                      user: this.state.user,\n                      project: project,\n                      projectData: this.state.projectData[index],\n                      getInitialData: this.getInitialData,\n                      logout: this.logout,\n                      loading: this.state.loading,\n                      styleMode: this.state.styleMode,\n                      nextMode: this.state.nextMode,\n                      toggleStyleMode: this.toggleStyleMode,\n                    })}\n                  />\n                ))\n              )}\n\n            <Route\n              path=\"*\"\n              render={routeProps => (\n                !this.state.loading &&\n                <NoMatch\n                  {...routeProps}\n                  authenticated={isAuthenticated}\n                  logout={this.logout}\n                  loading={this.state.loading}\n                  styleMode={this.state.styleMode}\n                  nextMode={this.state.nextMode}\n                  toggleStyleMode={this.toggleStyleMode}\n                />\n              )}\n            />\n          </Switch>\n        </Router>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from \"react\";\n\nexport const AddPropsToRoute = (WrappedComponent, passedProps) => {\n  return (\n    class Route extends Component {\n      render() {\n        let props = Object.assign({}, this.props, passedProps);\n        return <WrappedComponent {...props} />;\n      }\n    }\n  );\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}